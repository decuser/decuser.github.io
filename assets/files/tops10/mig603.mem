












                             DECsystem-10



                      Monitor Installation Guide



                             6.03 Monitor
                              June 1977



               This manual describes the steps you must
               take to install the 6.03 monitor.










        Digital Equipment Corporation. Maynard, Massachusetts
                                                                Page 2


                                                   Revision: June 1977


The information in this document is subject to change  without  notice
and  should  not  be  construed  as  a commitment by Digital Equipment
Corporation.  Digital Equipment Corporation assumes no  responsibility
for any errors that may appear in this manual.

The software described in this document is furnished under  a  license
and  may  be  used or copied only in accordance with the terms of such
license.

Digital Equipment Corporation assumes no responsibility for the use or
reliability  of  its  software  on  equipment  that is not supplied by
DIGITAL.



Copyright (C) 1973, 1977 by Digital Equipment Corporation


The postage prepaid READER'S COMMENTS form on the last  page  of  this
document  requests  the  user's  critical  evaluation  to assist us in
preparing future documentation.


The following are trademarks of Digital Equipment Corporation:

               DIGITAL        UNIBUS
               DEC            DECsystem-10
               PDP            DECtape
               DECUS          DDT
               KA10           KL10
               KI10
                                                                Page 3









                               CONTENTS



                                                                 Page

PREFACE

CHAPTER  1      BUILDING THE FRONT-END FILE SYSTEM
                (KL ONLY)                                        1-1

CHAPTER  2      READIN BOOTM                                     2-1

CHAPTER  3      START THE MONITOR                                3-1

CHAPTER  4      RESTORE SELECTED FILES                           4-1

CHAPTER  5      COPY MONITOR SUPPORT PROGRAMS                    5-1

CHAPTER  6      WRITE BOOTS                                      6-1

CHAPTER  7      MERGE MODIFICATIONS                              7-1

CHAPTER  8      CREATE A MONITOR WITH MONGEN                     8-1

         8.1    INTRODUCTION                                     8-1
         8.2    MONGEN ORGANIZATION                              8-1
         8.3    EXECUTING MONGEN                                 8-2
         8.3.1    Mongen Dialogue Format                         8-3
         8.3.2    Generating a New Monitor                       8-4
         8.4    HDWGEN                                           8-4
         8.5    TTYGEN
         8.6    NETGEN
         8.7    FGEN
         8.8    PRODUCING RELOCATABLE BINARY FILES
                COMMON.REL, COMMOD.REL, AND COMDEV.REL
         8.8.1    Assembling the Configuration Files
         8.8.2    Assembly Error Messages from
                  COMMON
         8.9    DESCRIPTION OF CONFIGURATION FILES
         8.9.1    Description of COMMON.MAC
         8.9.2    Description of COMMOD.MAC
         8.9.3    Description of COMDEV.MAC
         8.10   HDWGEN EXAMPLE
         8.11   TTYGEN EXAMPLE
         8.12   NETGEN EXAMPLE
         8.13   FGEN EXAMPLE
         8.14   DECIMAL DEFAULT VALUES
                                                                Page 4


         8.14.1   Symbols Defined in COMMON
         8.14.2   Symbols Defined in COMDEV
         8.14.3   Symbols Defined in COMMOD
         8.15   OCTAL DEFAULT VALUES
         8.15.1   Symbols Defined in COMMON
         8.15.2   Symbols Defined in COMMOD
         8.15.3   Symbols Defined in COMDEV
         8.16   SIXBIT DEFAULT VALUES
         8.17   NON-STANDARD DEVICE PI ASSIGNMENT
         8.18   TERMINAL INTERFACE LINE NUMBERS
         8.19   MONGEN ERROR MESSAGES

CHAPTER  9      ASSEMBLE MACRO FILES

CHAPTER  10     LOAD AND SAVE THE MONITOR

CHAPTER  11     MAKE A COPY OF NEW MONITOR

CHAPTER  12     COMMUNICATION SYSTEMS

CHAPTER  13     UPDATE ACCOUNTING FILES

CHAPTER  14     GET NEW MONITOR

CHAPTER  15     COPY NEW MONITOR TO SYS

CHAPTER  16     ONCE DIALOGUE

         16.1   INTRODUCTION
         16.1.1   Summary of STARTUP Options
         16.1.2   Special Considerations
         16.1.3   Special Multiprocessing Considerations
         16.1.4   Conventions Used in this Chapter
         16.2   STARTUP OPTION: QUICK AND NOINITIA
         16.3   STARTUP OPTION: GO
         16.4   STARTUP OPTION: DESTROY
         16.5   STARTUP OPTION: REFRESH
         16.6   STARTUP OPTION: UNITID
         16.7   STARTUP OPTION: CHANGE
         16.8   STARTUP OPTION: LONG
         16.9   WHY RELOAD QUESTION
         16.10  ERROR MESSAGES

CHAPTER  17     BACKUP

         17.1   INTRODUCTION
         17.2   FEATURES
         17.3   OVERVIEW OF COMMAND FUNCTIONS
         17.4   EXAMPLES
         17.5   OPERATOR USES
         17.6   RESTORING FROM A DISTRIBUTION TAPE
         17.7   OBTAINING DIRECTORIES OF BACKUP TAPES
         17.8   COMPARING TAPE AND DISK FILES
         17.9   CHECKPOINTING LARGE FILES
         17.10  BACKUP MESSAGES
                                                                Page 5


         17.11  CAPACITIES OF DISK MEDIA VERSUS
                MAGNETIC TAPE
         17.12  BACKUP TAPE FORMAT

CHAPTER  18     BOOTM
                                                                Page 6














                               PREFACE                               _______



This manual describes the steps you must  take  to  install  the  6.03
monitor.    This  manual  should  be  used  in  conjunction  with  the
DECsystem-10 Operator's Guide.  Formerly, some of the  information  in
this   manual   was   found   in  various  specifications  within  the
DECsystem-10 Software Notebooks.  For example, MONGEN is now Chapter 8
of this manual instead of being a separate specification.

When you receive your DECsystem-10, you will receive  a  Manufacturing
tape  labeled  YURMON  and  the  name  of your installation.  When you
receive your 6.03 monitor, you will receive one 6.03 monitor tape  and
one  CUSP  tape.  You also may receive tapes associated with unbundled
products.

The files that make up the 6.03 monitor are listed below.

*.MAC          New monitor source files (complete except for unbundled
               files).

603.MCO        A description of the changes made to the monitor  since
               the 6.02 monitor release.

603.DDT        A DDT patch file that can be  applied  to  the  monitor
               using   the  $Y  feature  of  FILDDT  to  fix  problems
               concerning 6.03.   This  file  contains  those  patches
               listed in BWR603.RNO.

TOPA10.REL     The combined .REL files needed for  loading  a  regular
               KA10 monitor.

TOPG10.REL     The combined .REL files  needed  for  loading  a  KALUG
               monitor.

TOPI10.REL     The combined .REL files needed for  loading  a  regular
               KI10 monitor.

TOPH10.REL     The combined .REL files  needed  for  loading  a  KILUG
               monitor.

MONGEN.EXE     Version 50(135)  of  the  Monitor  Generation  Program,
                                                                Page 7


               which is described in Chapter 8.

FGEN.HLP       Version 075 of FGEN.HLP, which lists and  explains  all
               the feature test switches that can be set via MONGEN.

CON???.CMD     The COMPIL command files that are needed for assembling
               monitors.

CMB???.CCL     The PIP indirect files needed for making TOP?10.REL.

BWR603.RNO     The BEWARE file for the 6.03  monitor,  which  contains
               information  needed  to  load and use the 6.03 monitor.
               Read this file before you install the monitor.

BWR603.603     The RUNOFF output from BWR603.RNO.

The above files constitute the  standard  6.03  monitor  release.   In
addition  to  the  above,  an installation will also receive any files
associated with the unbundled portions of 6.03 that that  installation
is licensed to use.

The following are the unbundled portions of the  6.03  monitor,  which
are shipped only to properly licensed installations.

     Virtual Memory
     DAS78
     DA28
     DC44
     Task to Task Communication

The installation procedures you use are basically the same  regardless
of  which  type  of processor your system has (e.g., KA, KI, KL).  Any
differences in the installation procedure because  of  processor  type
are  indicated within the text of this manual.  Read the list below to
determine which classification  your  installation  is;   then,  start
reading at the chapter number indicated.

     Chapter                          Classification

        1           Generating a 6.03 monitor for a KL10 system  at  a
                    new installation.

        2           Generating a 6.03  monitor  for  a  KA10  or  KI10
                    system at a new installation.

        4           Generating a 6.03 monitor for  a  KA,  KI,  or  KL
                    system with a currently running 6-series monitor.












                              CHAPTER 1

            BUILDING THE FRONT-END FILE SYSTEM (KL10 ONLY)            ________ ___ _________ ____ ______ _____ _____



The steps described in this chapter copy the front-end  software  from
the  RSX20-F  DECtape  to the front-end file space on the public disk.
In performing the steps, you will be  using  the  following  front-end
programs.   These programs are on the RSX20-F DECtape that you will be
copying onto the disk.

     KLI            This program loads the KL10 microcode, initializes
                    the KL10 caches, configures the KL10 memories, and
                    loads a bootstrap program.

     MOU (MOUNT)    This program adds (MOUnts) a device to the list of
                    on-line front-end devices.

     UFD            This program creates a directory in the  front-end
                    file  system  on  the disk.  This program does not
                    respond with a prompt after you issue a command to
                    it.   Therefore,  you  must  type a CTRL/backslash
                    after typing the carriage return.  Note  that  the
                    CTRL/backslash does not echo.

     INI            This  program  initializes  the   front-end   file
                    system.   This  program  does  not  respond with a
                    prompt  after  you  issue   a   command   to   it.
                    Therefore,  you  must  type a CTRL/backslash after
                    typing  the  carriage  return.   Note   that   the
                    CTRL/backslash does not echo.

     PIP            This program is a PDP-11 program that copies files
                    from  the  DECtape to the disk.  The PIP described
                    in  other  chapters  of   this   manual   is   the
                    DECsystem-10 PIP.

     RED (REDIRECT) This program redefines the front-end logical  name
                    SY0:   from the DECtape to the disk.  This program
                    does not respond with a prompt after you  issue  a
                    command   to  it.   Therefore,  you  must  type  a
                    CTRL/backslash after typing the  carriage  return.
                    Note that the CTRL/backslash does not echo.

     SAV (SAVE)     This program saves the front-end monitor.
BUILDING THE FRONT-END FILE SYSTEM (KL10 ONLY)                Page 1-2________ ___ _________ ____ ______ _____ _____


Device names used in this section are PDP-11 formatted  device  names.
Table 1-1 lists the PDP-11 device names.


                              Table 1-1
                         PDP-11 Device Names


     PDP-11 Name       Device


        TT          Terminal
        DT          DECtape
        MT          Magtape
        SY          DB0:[5,5], which is the
                    PDP-11 system area that is
                    used in the same way
                    as DSKB:[1,4].
        RF          Fixed-Head Disk
        RP          Disk Pack
        RK          Disk Cartridge
        PR          Paper-tape Reader
        PP          Paper-tape Punch
        CD          Card Reader
        LP          Line Printer
        XY          Plotter


In addition to initially installing the  front-end  file  system,  you
must  install  the  front-end  file system using the steps outlined in
this Chapter if you ever do any of the following:

     1.  Reinitialize the front-end file system.

     2.  Change the front-end hardware.

     3.  Destroy the front-end file system.

The first step is to mount the DECtape  labeled  RSX20-F.   Place  the
RSX20-F  tape (version 0005J) on one of the front-end (PDP-11) DECtape
drives.  Make sure that the Unit Selector Switch is set  to  0.   This
DECtape drive is called DT0 when you specify it by name.

On the right side of the  Unit  Selector  Switch,  set  the  rightmost
button  to  REMOTE.   Set the leftmost button (on the left side of the
Unit Selector Switch that is set to 0) to WRITE ENABLE.

On the other DECtape drive, set the Unit Selector Switch to 1;   mount
the  RSX20-F Auxiliary Files DECtape;  set the switches for this drive
(DT1) the same as you did for DT0.

Mount the manufacturing tape (labeled YURMON and  your  installation's
name)  on  MTA0  (-10  device).  If you are not a new installation and
would like to create your own Manufacturing tape, follow the procedure
listed below.
BUILDING THE FRONT-END FILE SYSTEM (KL10 ONLY)                Page 1-3________ ___ _________ ____ ______ _____ _____


     .GET SYS:BACKUP
     .SAVE MTA0:BACKUP
     .SAVE MTA0:BACKUP
     .START
     /TAPE MTA0:
     /SAVE DSKB:[1,4]=DSKB:*.*[1,4]

The above procedure saves two copies of BACKUP and the [1,4] disk area
(SYS:).

You can mount this magnetic tape on another magtape drive (other  than
MTA0);   however,  MTA0  is assumed in the following example.  Mount a
recently formatted disk pack on RPA0 (or another drive,  but  RPA0  is
assumed).  Whichever drive you choose, it must be dual-ported with the
RH11.

To refer to the "-11" disk pack, you specify  a  device  name  in  the
following format:

     DB unit-number:

where unit-number is 0-7.  For example, RPA0 is the equivalent of DB0,
RPA1 is the equivalent of DB1, an RPC3 is the equivalent of DB3.

Set the data switches on the -11 front panel to 000001.  Make sure the
ENABLE  switch  is  on;   then, push the SW/REG switch.  The tape will
begin loading.  Refer to Table 14-1 for a description of  what  occurs
when you press the SW/REG switch.

The following 'dialogue' takes place at the operator terminal  between
you,  the  front-end  installer,  and  the system.  Your responses are
those underlined.  Press the RETURN key after each response.

     RSX-20F V005J 0:06 21-JUN-76

     [SY0: REDIRECTED TO DT0:]
     [DT0: MOUNTED]
     KLI -- VERSION V002Q RUNNING

     KLI -- MICROCODE VERSION 131 LOADED
     KLI -- % NO FILE - ALL CACHE BEING CONFIGURED
     KLI -- ALL CACHES ENABLED
     KLI -- % NO FILE - ALL MEMORY BEING CONFIGURED
     LOGICAL MEMORY CONFIGURATION:
                      CONTROLLER
     ADDRESS  SIZE RQ0 RQ1 RQ2 RQ3 CONTYPE  INT
     00000000 256K 04  FOR ALL      DMA20    4
     KLI -- ? FILE 'DT0:BOOT.EXB;0'NOT FOUND
     KLI -- ? BOOTSTRAP LOAD FAILED
     KLI -- ENTER DIALOGUE [NO,YES,EXIT,BOOT]?
     KLI> YES
     KLI -- RELOAD MICROCODE  [YES,VERIFY,NO]?
     KLI> NO
     KLI -- RECONFIGURE CACHE  [FILE,ALL,YES,NO]?
     KLI> NO
BUILDING THE FRONT-END FILE SYSTEM (KL10 ONLY)                Page 1-4________ ___ _________ ____ ______ _____ _____


     KLI -- CONFIGURE KL MEMORY  [FILE,ALL,YES,NO]?
     KLI> NO
     KLI -- LOAD KL BOOTSTRAP  [YES,NO,FILENAME]?
     KLI> BOOTM

This example assumes you are booting from magtape.

The following is then printed at the operator terminal.

     KLI -- BOOTSTRAP LOADED AND STARTED ;-10 BOOTSTRAP
     BOOTM  V4(16)

     BTM>

After the BTM> prompt, type  in  a  command  string  terminated  by  a
carriage  return.   After performing the command, the bootstrap loader
either restarts  itself  or  transfers  to  a  newly  loaded  program,
depending  on  the  command  you  type.   You can type either /TM02 or
/TX01, depending on the tape drive used (e.g., for TU70s, type /TX01).
Or, you could type a command in the following format:

     structure:file.ext[project,prog]   /TM02
                                        /TX01

If you do not specify either  /TM02  or  /TX01,  TM10  is  assumed  by
default.

In this example /TM02 was typed.

     BTM>/TM02

This response  begins  the  loading  of  the  default  monitor  (i.e.,
DSKB:SYSTEM.EXE[1,4]   from  drive  0  (MTA0)  on  the  /TM02  magtape
controller).  (For more information on BOOTM refer to Chapter 18.) The
following  dialogue  is  then printed on the operator's terminal.  You
should type everything that is underlined.  Refer to Chapter 3  for  a
more detailed description of this dialogue.

             RK275A KL10 SYS#1026 01-19-77
     WHY RELOAD: SA   ;System is stand-alone; refer to Section 16.9
     DATE: 21-JAN-77  ;Enter the current date
     TIME: 710        ;Type the current time of day, using 
                      ;a 24-hour clock.
     STARTUP OPTION:  REFRESH
                      ;Specify the LONG startup
                      ;option if your installation is a new
                      ;installation or you are
                      ;using blank disk packs.
     TYPE STR NAME TO BE REFRESHED (CR IF NONE, ALL IF ALL)
     DSKB             ;The structure on which the front-end
                      ;file system is to be created.
                      ;Refer to Section 16.8 for
                      ;a description of the LONG
                      ;dialogue.
     TO AUTOMATICALLY LOG-IN UNDER [1,2] TYPE "LOGIN"
BUILDING THE FRONT-END FILE SYSTEM (KL10 ONLY)                Page 1-5________ ___ _________ ____ ______ _____ _____


     .LOGIN
     .RUN MTA0:BACKUP ;This executes the BACKUP
     /TAPE MTA0:      ;program found on the manufacturing
                      ;tape. Refer to Chapter 17.
     /RESTORE         ;Move files to SYSB
     !                ;BACKUP's indication that it is busy.
     "DONE
     ?BKPHSG CANNOT GET HIGH SEGMENT BACK  ;Ignore this
                                           ;error message.

Executing the following procedure creates a file called FE.SYS on RPA0
(DSKB) that will be used by the front-end for its file system.

     .R FEFILE
     DISK UNIT NAME:RPA0   ;UNIT WHERE DSKB is mounted.
     SIZE OF FILE IN BLOCKS (<CRLF> GIVES DEFAULT OF 2000):

     [2008 DATA BLOCKS ALLOCATED TO FE.SYS]
     [FE.SYS AREA STARTS AT LOGICAL BLOCK 33041.]
     [FRONT END FILE CREATED, HOM BLOCKS WRITTEN]

     .K/F      ;To stop the -10 because the KL10
               ;must NOT be running
               ;while installing the
               ;front-end software.



                                 NOTE

               From now on, until you  read  otherwise,
               you   are  'talking'  only  to  the  -11
               front-end,   using   the   -11   command
               language  and  -11 programs.  The -10 is
               not  involved  in   this   communication
               process.   The  RESET  command  (in  the
               example below) ensures that the  -10  is
               not running.


To being communicating with  the  front-end  command  parser,  type  a
CTRL/backslash  (which  does  not  echo).   If at any time you type an
incorrect response to the parser (i.e., after the prompt PAR%), type a
CTRL/Z  followed  by a CTRL/backslash.  The system retypes the prompt,
after which you can retype your response.   Note  that  some  times  a
CTRL/backslash takes a few moments to respond.

     ^\             ;Type a CTRL/backslash.
     PAR>SHUT
     DECSYSTEM-10 NOT RUNNING
                    ;K/F above kills your job.
                    ;The SHUT command stops
                    ;the -10.
     ^\             ;Type a CTRL/backslash.
     PAR>SET CONSOLE MAINTENANCE
BUILDING THE FRONT-END FILE SYSTEM (KL10 ONLY)                Page 1-6________ ___ _________ ____ ______ _____ _____


     CONSOLE MODE:  MAINTENANCE
     PAR%RESET      ;KL10 must not be running while installing
                    ;front-end software.
     PAR#ST MICROCODE ;Start microcode.
     PAR%MCR MOU    ;Start the MOUNT program in the front-end.
                    ;MCR is the front-end
                    ;command decoder.
     MOU>DT1:       ;Mount the tape labeled RSX20-F
                    ;Auxiliary files.
     MOU -- MOUNT COMPLETE
     MOU>^Z         ;Type a CTRL/Z.
     ^\             ;Type a CTRL/backslash
     PAR%MCR PIP    ;START PIP.

     PIP>TT:=DT0:/LI     ;Directory of DT0


     DIRECTORY DT0:[5,5]
     20-MAR-77 14:28

     F11ACP.TSK;41       77.     C  21-JUN-76 00:50
     PARSER.TSK;37       39.     C  21-JUN-76 00:50
     TKTN.TSK;45         6.      C  21-JUN-76 00:51
     MOU.TSK;37          5.      C  21-JUN-76 00:51
     SETSPD.TSK;41       4.      C  21-JUN-76 00:51
     KLR.TSK;37          5.      C  21-JUN-76 00:52
     KLE.TSK;37          23.     C  21-JUN-76 00:52
     KLX.TSK;43          5.      C  21-JUN-76 00:53
     KLI.TSK;46          33.     C  21-JUN-76 00:53
     UA.MCB;150          35.        21-JUN-76 00:53
     UB.MCB;150          35.        21-JUN-76 00:54
     BT128K.EXB;1        12.        16-MAR-77 10:09
     BT256K.EXB;1        12.        16-MAR-77 10:10
     BOOTM.EXB;2         34.        16-MAR-77 10:16

             TOTAL OF 325. BLOCKS IN 14. FILES

PIP>TT:=DT1:/LI



DIRECTORY DT1:[5,5]
20-MAR-77 14:31

RED.TSK;41          6.  C 21-JUN-76 00:07
SAV.TSK;40          12. C 21-JUN-76 00:07
DMO.TSK;37          5.  C 21-JUN-76 00:08
T20ACP.TSK;37       8.  C 21-JUN-76 00:08
UFD.TSK;37          9.  C 21-JUN-76 00:08
INI.TSK;37          23. C 21-JUN-76 00:08
PIP.TSK;1321        56. C 21-JUN-76 00:09
COP.TSK;2           8.  C 21-JUN-76 00:09

        TOTAL OF 161. BLOCKS IN 9. FILES
BUILDING THE FRONT-END FILE SYSTEM (KL10 ONLY)                Page 1-7________ ___ _________ ____ ______ _____ _____


     PIP>^Z
     ^\                  ;Type a CTRL/backslash.
     PAR%MCR INI
     INI>DB0:            ;Initialize the front-end file system on DB0.
     ^\                  ;Type a CTRL/backslash.
     PAR%MCR MOU         ;Start MOUNT program.
     MOU>DB0:            ;Mount the disk unit.
     MOU -- MOUNT COMPLETE
     MOU>^Z              ;Type a CTRL/Z.
     ^\                  ;Type a CTRL/backslash.
     PAR%MCR UFD         ;Start the UFD program.
     UFD>DB0:[5,5]       ;Creating the UFD called [5,5] on the
                         ;-11 disk area (FE.SYS);
                         ;see note below.
     ^\                  ;Type a CTRL/backslash.
     PAR%MCR PIP         ;Start PIP.
     PIP>DB0:=DT0:*.*,DT1:*.*  ;To copy all files from the
                               ;DECtape to the front-end file
                               ;system [5,5] on the disk pack on RPA0.
                               ;After approximately 35 minutes,
                               ;the system prints the PIP prompt.

     PIP>DB0:BOOT.EXB=DT0: BT128K.EXB
                           BT256K.EXB
                     ;This copies the BOOTS that
                     ;fits your
                     ;configuration.
     PIP>^Z          ;Type a CTRL/Z.
     ^\              ;Type a CTRL/backslash.
     PAR%



                                 NOTE

               FE.SYS is the  logical  -11  disk  space
               area    residing   on   the   -10   disk
               (DSKB:[1,4],RPA0).  FE.SYS contains  -11
               directory  areas  and files within these
               areas.  Note that [5,5] is  a  directory
               area in FE.SYS.



You now reboot the front-end.  Set the data switches on the -11  front
panel  to  000003.  (Refer to Table 14-1.) Make sure the ENABLE switch
is ON;  then, push the SW/REG switch.

     RSX-20F V00SJ 0:06 21-JUN-76

     [SY0: REDIRECTED TO DT0:]
     [DT0: MOUNTED]

     ^\                ;Type a CTRL/backslash to start the parser.
     PAR%MCR MOU       ;Start the MOUNT program.
BUILDING THE FRONT-END FILE SYSTEM (KL10 ONLY)                Page 1-8________ ___ _________ ____ ______ _____ _____


     MOU> DB0:         ;Mount the disk unit that the -11
                       ;front-end file system (that you just 
                       ;installed) resides on (DB0:).
     MOU -- MOUNT COMPLETE
     MOU>^Z            ;Type a CTRL/Z.
     ^\                ;Type a CTRL/backslash
     PAR%MCR RED       ;Start the REDIRECT program.
     RED>DB0:=SY:      ;Make SY: be DB0: instead of DT0:.
                       ;This causes the KL10 to be rebooted from disk
                       ;instead of DECtape (-11 devices).
     ^\                ;Type a CTRL/backslash.
     PAR%MCR SAV       ;Start the SAVE program.
     SAV>SY:/WB        ;Save the front-end monitor on
                       ;SY:(DB0:[5,5]).
                       ;The front-end can now use the files from
                       ;the TOPS-10 disk pack instead of the
                       ;PDP-11 DECtapes.
     [DB0: DISMOUNTED]
     [DT0: DISMOUNTED]


     RSX-20F V005J 2:00 21-JUN-76  ;Messages from the SAVE program
     [SY0: REDIRECTED TO DB0:]     ;to enable you to bootstrap
     [DB0: MOUNTED]                ;from DB0: [5,5].
     ^\                  ;Type a CTRL/backslash.
     PAR%MCR PIP         ;Start PIP.
     PIP>TT:=DB0:/LI


     DIRECTORY DB0:[5,5]
     21-JUN-76 01:05


     F11ACP.TSK;41       77.     C  21-JUN-76 00:30
     PARSER.TSK;37       39.     C  21-JUN-76 00:31
     TKTN.TSK;45         6.      C  21-JUN-76 00:32
     MOU.TSK;37          5.      C  21-JUN-76 00:33
     SETSPD.TSK;41       4.      C  21-JUN-76 00:35
     KLR.TSK;37          5.      C  21-JUN-76 00:36
     KLE.RSK;37          23.     C  21-JUN-76 00:37
     KLX.TSK;43          5.      C  21-JUN-76 00:38
     KLI.TSK;46          33.     C  21-JUN-76 00:39
     UA.MCB;150          35.        21-JUN-76 00:41
     UB.MCB;150          35.        21-JUN-76 00:43
     BT128K.EXB;1        12.        21-JUN-76 00:44
     BT256K.EXB;1        12.        21-JUN-76 00:46
     BOOTM.EXB;2         34.        21-JUN-76 00:48
     KL.CFG;1            1.         21-JUN-76 00:50
     RED.TSK;41          6.      C  21-JUN-76 00:54
     SAV.TSK;40          12.     C  21-JUN-76 00:55
     DMO.TSK;37          5.      C  21-JUN-76 00:56
     T20ACP.TSK;37       8.      C  21-JUN-76 00:57
     UFD.TSK;37          9.      C  21-JUN-76 00:58
     INI.TSK;37          23.     C  21-JUN-76 00:59
     PIP.TSK;1321        56.     C  21-JUN-76 01:00
BUILDING THE FRONT-END FILE SYSTEM (KL10 ONLY)                Page 1-9________ ___ _________ ____ ______ _____ _____


     COP.TSK;2           8.      C  21-JUN-76 01:01


             TOTAL OF 453. BLOCKS IN 23. FILES

     PIP>^Z     ;Type a CTRL/Z.

At this point, RSX20-F can be bootstrapped from the disk by depressing
the  switch  labeled DISK or, if the front-end disk pack is on a drive
other than RPA0, depress the SW/REG switch.  Refer to Chapter 2.

From now on devices and directories specified are DECsystem-10 devices
and directories;  unless specified otherwise.












                              CHAPTER 2

                             READIN BOOTM                             ______ _____



READIN the  BOOTM  bootstrap  and  your  6.03  monitor  from  the  new______ ___  _____  _________  ___  ____  ____  _______  ____  ___  ___
installation bootstrap tape.____________ _________ _____

If you have a KL10 system, read Steps 1 and 2.  If you have a KA or KI
system, read Steps 3 through 7.

STEP 1   (KL10 only)____ _

Set the ENABLE/DISABLE load switch to ENABLE.  This  will  enable  the
other three load switches.

STEP 2   (KL10 only)____ _

Press the upper half of the switch labeled  DISK  on  the  KL10  front
panel.   This will cause the front-end processor to access the disk on
drive 0 and load the RSX20-F monitor.

The KL10 initialization program (KLINIT) is automatically loaded,  and
the  default  hardware  configuration of cache and external memory are
also automatically set up.  The  bootstrap  program  (BOOTS)  for  the
TOPS-10   monitor  is  then  automatically  loaded  into  the  central
processor and started.  The following is an example of the output  you
will  receive  on  the  console terminal.  You type everything that is
underlined.

     RSX-20F V005J 0:16 21-JUN-76

     [SY0: REDIRECTED TO DB0:]
     [DB0: MOUNTED]
     KLI -- VERSION V002J RUNNING
     KLI -- MICROCODE VERSION 131 LOADED
     KLI -- ALL CACHES ENABLED
     LOGICAL MEMORY CONFIGURATION
                       CONTROLLER
     ADDRESS  SIZE  RQ0  RQ1  RQ2  RQ3  CONTYPE  INT
     00000000 256   04   FOR  ALL        DMA20    4
     KLI -- BOOTSTRAP LOADED AND STARTED
     BOOTS  V22(103)
     BTS>
     ^\     ;Type a CTRL/backslash.
READIN BOOTM                                                  Page 2-2______ _____


     PAR>MCR KLI
     KLI -- VERSION V0002J RUNNING
     KLI -- ENTER DIALOGUE [NO,YES,EXIT,BOOT]?
     KLI -- YES
     KLI -- RELOAD MICROCODE [YES,VERIFY,NO]?
     KLI> NO
     KLI> RECONFIGURE CACHE [FILE,ALL,YES,NO]?
     KLI> NO
     KLI -- CONFIGURE KL MEMORY [FILE,ALL,YES,NO]?
     KLI> NO
     KLI -- BOOTSTRAP [YES,NO,FILENAME]?
     KLI> BOOTM
     KLI -- ALL CACHES ENABLED
     KLI -- BOOTSTRAP LOADED AND STARTED
     BOOTS   V4(16)
     BTS>

If an error occurs during the  KL  initialization  program,  you  will
receive  an error message preceded by KLI --?.  At that point, you are
placed in KLINIT dialogue mode which is described in Appendix A of the
KL  Series  Operator's  Guide.   BOOTS outputs the prompt BTS>.  After
BOOTS  prints  its  prompt,  you  must  type  a  file   specification,
indicating  the  monitor  you want to read from the BACKUP save set on
the Manufacturing Bootstrap Tape.  Type the following command line:

     DSKB:  YURMON.EXE[1,4]

This response begins the loading of the monitor from the Manufacturing
BOOTSTRAP tape.  Then, the ONCE-Only Dialogue starts.  Turn to Chapter
4.

STEP 3   (KA/KI Only)____ _

              Mount a recently formatted disk pack on  a  disk  drive.
For example, RPA0.

STEP 4   (KA/KI only)____ _

Mount the 6.03 Manufacturing Bootstrap tape containing your monitor on
MTA0, which is write-locked.  Drive 0 is required for READIN with TM10
controllers.  On TU70's  the  tape  must  be  mounted  on  the  lowest
numbered ready drive.

If you are not a new installation and you would like  to  create  your
own manufacturing tape, follow the procedure listed below.

     .GET SYS:BACKUP
     .SAVE MTA0:BACKUP
     .SAVE MTA0:BACKUP
     .START
     /TAPE MTA0:
     /SAVE DSKB:[1,4]=DSKB:*.*[1,4]

The above procedure saves two copies of BACKUP and the [1,4] disk area
(SYS:).
READIN BOOTM                                                  Page 2-3______ _____


STEP 5   (KA/KI only)____ _

For a TM10 controlled magtape set the READIN switches to 340.   For  a
TU70, set the READIN switches to 220.

STEP 6   (KA/KI only)____ _

In order, press the STOP and RESET switches and  set  the  NXM  switch
off;   then,  press  READIN.   The tape rewinds and reads in the BOOTM
bootstrap, which then  allows  you  to  specify  and  start  the  6.03
monitor.

STEP 7   (KA/KI Only)____ _

BOOTM outputs the prompt characters  BTM>.   After  BOOTM  prints  its
prompt, you must type a file specification, indicating the monitor you
want to read from the  BACKUP  save  set  on  the  6.03  Manufacturing
Bootstrap tape.  Type the following command line:

     DSKB:  yurmon.EXE[1,4] /TM02            ______
                            /TX01

where:  yurmon is the name given to your monitor.        ______

You must specify the tape control unit:  either  TM02  or  TX01.   The
default, if you do not specify a unit, is TM10.

The command line format to be typed to BOOTM is described  in  Chapter
19.

This response begins the loading of the default monitor  on  the  6.03
Manufacturing  Bootstrap tape.  The following dialogue is then printed
on the operator's  terminal.   You  should  type  everything  that  is
underlined.   Refer  to  Chapter  3 for a more detailed description of
this dialogue.


               RK277 KI10 SYS#514 2-15-77
     WHY RELOAD:SA            ;System is stand-alone; refer to Section
                              ;16.9.
     DATE:  21-FEB-77         ;Enter the current date
     TIME:  7:10              ;Type the current
                              ;time of day, using a 24-hr. clock.
     STARTUP OPTION:REFRESH   ;Specify the LONG startup
                              ;option if your
                              ;installation is a
                              ;new installation or
                              ;you are using blank
                              ;disk packs.
     TYPE STR NAME TO BE REFRESHED (CR IF NONE, ALL IF ALL)
     DSKB                     ;The structure on
                              ;which the monitor
                              ;is to reside.
                              ;Refer to Section 16.8
                              ;for a description of the
READIN BOOTM                                                  Page 2-4______ _____


                              ;LONG Dialogue.

     TO AUTOMATICALLY LOG-IN UNDER [1,2] TYPE "LOGIN"
     .LOGIN
     .RUN MTA0: BACKUP        ;This executes the BACKUP
                              ;program found on the
                              ;manufacturing
                              ;magtape. Refer to
                              ;Chapter 17.

     /TAPE MTA0:
     /RESTORE                 ;Move files to DSKB[1,4]
     !                        ;BACKUP's indication
                              ;that it is busy.
     "DONE
     ?BKPHSG CANNOT GET HIGH SEGMENT BACK

                              ;Ignore this error
                              ;message.

Now, turn to Chapter 4.












                              CHAPTER 3

                          START THE MONITOR                          _____ ___ _______



This chapter briefly describes the  system  start-up  dialogue,  which
appeared in the examples in Chapters 1 and 2.

You can start your monitor with the LONG startup  option  and  refresh
the  disks.   If your disks have already been formatted and refreshed,
respond with the NOINITIA startup option.  Note that disk  packs  must
be  formatted  by  a  Field Service formatting program, before you can
attempt to use them with a monitor.

The LONG START-UP Option  is  not  described  in  this  chapter.   The
Start-Up  Options  are  a  portion of the ONCE-Only dialogue, which is
completely described in Chapter 16.

STEP 1____ _

The ONCE-Only dialogue begins between you and the system.  ONCE types:

     SYSCHK (Y,N):

If you type Y in response, the system will run a  5-second  diagnostic
program  that  ensures  the accessibility of all configured memory and
system devices.  A reply of N or a carriage return skips the execution
of the diagnostic program.

STEP 2____ _

ONCE then types the system name (which was specified in  MONGEN  refer
to  Section  8.4,  question number 4) followed by the monitor creation
date.  For example:

     LOAD 3 SYS#10 KL 02-1-77

When ONCE prints the following:

     WHY RELOAD:

reply with NEW and press the carriage return.  Instead  of  responding
with NEW, you can respond with one of the below:

     OPR         NXM     CM
START THE MONITOR                                             Page 3-2_____ ___ _______


     PARITY      HALT    SA
     POWER       LOOP    SCHED
     STATIC      HUNG    OTHER
     HARDWARE    PM

If you do not reply within 60 seconds, OTHER is assumed.

STEP 3____ _

ONCE prompts with:

     DATE:

after which you type the current date;  for example:  1-MAR-77.   ONCE
then prompts with:

     TIME:

after which you type a 4-digit number  indicating  the  current  time,
using a 24-hour clock.  For example:  2015, indicating 8:15 PM.

STEP 4____ _

ONCE prompts with:

     STARTUP OPTION:

after which you  respond  with  LONG  if  your  disks  have  not  been
refreshed.   Otherwise,  respond  with  NOINITIA.  The NOINITIA option
responds with a . and you must LOGIN as a [1,2] job.

The LONG startup option  allows  you  to  explicitly  set  all  system
parameters  and  to  refresh  and  restructure  the  file  system in a
non-standard way.  

The ONCE dialogue, including the LONG startup dialogue is described in
Chapter 16.












                              CHAPTER 4

                        RESTORE SELECTED FILES                        _______ ________ _____



Before reading this chapter, make sure you are using the latest  field
image  version  of BACKUP.  If you are a new installation and you have
just gotten BACKUP from the Manufacturing Bootstrap tape,  you  should
have  the  correct BACKUP version.  If you have been running a TOPS-10
monitor, be sure you have  the  proper  version  of  BACKUP  on  SYS:.
Verify  that  the  version number is the latest by checking it against
the  software  version  number  in  the   most   recent   DECsystem-10
DISPATCH/BULLETIN.

To install a 6.03 monitor, certain monitor files must be  restored  at
800  bits/inch  from  the  standard  distribution  tapes  and from the
unbundled distribution tapes.   The  [10,7]  area  is  used  in  these
instructions   to   designate   the   restore   area.    But,  another
project-programmer number can be substituted  for  [10,7].   Normally,
these  files  are  restored  to  the structure DSKB.  However, if your
system does not have a DSKB, BACKUP can be restored to any  designated
file structure.  (Refer to Chapter 17.)

To simplify the restore process,  you  should  restore  files  on  the
monitor tape in the order they appear on the distribution tape.  Files
on the monitor tape are normally in alphabetical order.  To  find  out
the  appropriate  order,  print  a  directory  of the tape on the line
printer.  To do so, type the following command lines.

     .START
     /REWIND
     /DENSITY 800
     /PRINT LPT

The number of files you should restore from the  monitor  distribution
tape  to  the  disk is determined by the amount of disk space you have
available.  The instructions for three different situations are  given
below:

     1.  If your installation has slightly more than 20,000 free  disk
         blocks

     2.  If your installation has about 10,000 free disk blocks

     3.  If your installation has very few free disk blocks.

If you have enough disk space available, you should also  restore  all
the   files  from  other  distribution  tapes  using  the  appropriate
project-programmer number.  Otherwise, you  may  need  to  selectively
restore  certain  files, because you may need some unbundled files for
your monitor.  Also, some of the utility programs, assumed  to  be  on
the monitor distribution tape in the instructions below, may be on the
language  distribution  tape  because  of  changes  in  the  packaging
procedure.
RESTORE SELECTED FILES                                        Page 4-2_______ ________ _____


     1.  If your installation  has  slightly  more  than  20,000  free
         blocks  of  disk space, you can restore all files on the 6.03
         monitor distribution tape.  In this case, the latest versions
         of  all  files  are available for use, and you need not worry
         about selectively restoring individual files.

         The procedure below should be followed, first  for  the  CUSP
         tape,  then  for the 6.03 monitor distribution tape, and last
         for each of your unbundled tapes, if you have any.

         To restore  all  files,  ensure  that  the  tape  is  mounted
         properly and type to BACKUP:

              .R BACKUP
              /REWIND
              /INTERCHANGE
              /DENSITY 800
              /RESTORE[10,7]*.*=PIP.EXE
              "DONE
              /REWIND
              /SUPERSEDE ALWAYS
              /INTERCHANGE
              /RESTORE[10,7]*.*=*.*
              "DONE

         The purpose of restoring PIP.EXE  separately  is  to  protect
         yourself.   If the disk fills up, you will need PIP to delete
         files and  then  continue  restoring.   Because  all  of  the
         installation  batch control files assume that the field image
         files  are  in  [10,7],  we   recommend   your   using   that
         project-programmer number.

         If you attempt to restore all files  and  receive  the  error
         message

              ?LOOKUP/ENTER FAILURE (14)

         indicating that the disk storage capacity has been  exceeded,
         you   must  restore  only  selected  files  as  described  in
         situation 2, which follows.

         After restoring all the files,  you  should  print  the  .DOC
         .MAN, .RND, .RNH and .RNO files.  They contain useful program
         documentation.  The .RND, RNH, and .RNO files must  first  be
         expanded with RUNOFF by typing:

              .RUN DSK:RUNOFF[10,7]

              *filename

              *^C

         All .RND files become .DOC files, all .RNH files become  .HLP
         files,  and  all .RNO files become .MEM files after they have
         been through RUNOFF.

     2.  If your installation has about 10,000  free  blocks  of  disk
         space, you can restore all monitor-related files to the disk.
         These files enable you to build and  start  the  monitor,  to
         assemble all monitor source files, to make modifications with
         SOUP, and to obtain monitor listings.

         To build the monitor you must determine which type of monitor
         is   best   for   your  configuration  and  then  choose  the
RESTORE SELECTED FILES                                        Page 4-3_______ ________ _____


         appropriate  .CMD  file  for  your  system.    (See   Chapter
         10.)  After  selecting  the  file,  you should restore it and
         PIP.EXE using BACKUP.  In the example below,  the  .CMD  file
         for the standard KI configuration is used.  Type to BACKUP:

              /REWIND
              /INTERCHANGE
              /DENSITY 800
              /SUPERSEDE ALWAYS
              /RESTORE[10,7]*.*=CONKI.CMD,PIP.EXE
              "DONE
              /^C

         Then, list the contents of CONKI on your terminal using PIP.

         Type:

              .RUN PIP[10,7]

              *TTY:=CONKI.CMD[10,7]
              *^C

         The monitor related files are printed on your terminal.

         Then restore all files printed  on  your  terminal  with  the
         extension  .MAC,  excluding F???.MAC, HDW???.MAC, TTY???.MAC,
         and NET???.MAC, because you must generate  these  files  with
         MONGEN, which is described in Chapter 8.  There is no need to
         repeat files that are duplicated on the TTY  listing.   Also,
         in lines containing an equal sign, only files to the right of
         the equal sign need to be restored.   For  example,  for  the
         line,

              COMDEV.RLI=HDWKI.MAC+TTYKI.MAC+NETKI.MAC+COMDEV.MAC

         restore only COMDEV.MAC.  These files are for the standard KI
         monitor, determined by the imbedded 'KI.'

         The procedure below should be repeated  for  the  CUSP  tape,
         then  for  the  6.03  monitor distribution tape, and last for
         each of your unbundled tapes, if you have any.

         To restore the necessary files, type:

              .RUN DSK:BACKUP[10,7]

              /REWIND
              /INTERCHANGE
              /DENSITY 800
              /SUPERSEDE ALL
              /RESTORE[10,7]*.*= filenames (separated by commas)

         where filenames include BWR603.RNO,  COMDEV.MAC,  COMMOD.MAC,
         COMMON.MAC,  MONGEN.EXE,  S.MAC,  WBOOT.EXE,  the appropriate
         TOP?10.REL file, and necessary .MAC files from the .CMD file.
         Note  that  these  files  are distributed on the 6.03 monitor
         distribution tapes.

         where  filenames  include  COMPIL.EXE,  FGEN.HLP,  FILEX.EXE,
         LINK.EXE,  LNKSCN.EXE,  LNKLOD.EXE,  LNKMAP.EXE,  LNKXIT.EXE,
         LNKERR.EXE, LNK999.EXE, MACRO.EXE, and RUNOFF.EXE.  Note that
         these files are on the CUSP tape.

         If you are building a monitor from scratch, also restore  the
RESTORE SELECTED FILES                                        Page 4-4_______ ________ _____


         following files.

              /RESTORE[10,7]*.*=LOGIN.EXE,LOGOUT.EXE,REACT.EXE

         If you have any unbundled distribution tapes  (e.g.,  virtual
         memory), these tapes must be restored at this time.  Refer to
         Chapter 10 for a list of the  file  names  contained  on  the
         unbundled distribution tapes.

         It is recommended that you restore and print copies of  .DOC,
         .MAN,  .RND,  .RNH,  and  .RNO  files  if there is sufficient
         space.  They contain useful program documentation.  The  .RN?
         files must be expanded with RUNOFF by typing:

              .R RUNOFF

              *filename

              *^C

         All .RND files become .DOC files, all .RNH files become  .HLP
         files,  and  all .RNO files become .MEM files after they have
         been run through RUNOFF.

     3.  If  your  installation  has  very  few  free   disk   blocks,
         selectively  restore  only  essential monitor building files.
         With the minimum number of files,  you  can  only  build  and
         start  the  monitor.   You cannot assemble all monitor source
         files and you cannot merge your modifications with SOUP.  You
         may  want  to  free  additional  disk  space to perform these
         functions.

         To restore only the essential files, mount the  6.03  monitor
         tape  and follow the procedure below to restore the necessary
         files:

            .R BACKUP
            /REWIND
            /INTERCHANGE
            /DENSITY 800
            /RESTORE[10,7]*.*=BEWARE.603,COMMOD.MAC
            /RESTORE[10,7]*.*=COMMON.MAC,COMDEV.MAC,COMPIL.EXE
            /RESTORE[10,7]*.*=FGEN.HLP,BACKUP.EXE, MONGEN.EXE
            /RESTORE[10,7]*.*=PIP.EXE,S.MAC,TOP?10.REL,W?BOOT.EXE
            "DONE
            /^C

         Then mount the CUSP tape and follow the  procedure  below  to
         restore the necessary files:

              .START
              /REWIND
              /INTERCHANGE
              /DENSITY 800
              /RESTORE[10,7]*.*=BACKUP.EXE,FILEX.EXE
              /RESTORE[10,7]*.*=LINK.EXE,LNKSCN.EXE
              /RESTORE[10,7]*.*=LNKLOD.EXE,LNKMAP.EXE
              /RESTORE[10,7]*.*=LNKXIT.EXE,LNKERR.EXE
              /RESTORE[10,7]*.*=LNK999.EXE,MACRO.EXE
              /RESTORE[10,7]*.*=PIP.EXE
              "DONE
              /^C

         where TOP?10.REL is the specific .REL file  needed  for  your
RESTORE SELECTED FILES                                        Page 4-5_______ ________ _____


         configuration.  (See Chapter 9.)

         If you are building a 6.03 monitor from scratch, also restore
         the following files:

              /RESTORE[10,7]*.*=LOGIN.EXE,LOGOUT.EXE,REACT.EXE

If you have any unbundled distribution tapes (e.g.,  virtual  memory),
these  tapes must be restored at this time.  Refer to Chapter 10 for a
list of the file names contained on the unbundled distribution tapes.

It is  very  important  that  you  print  and  read  the  last  minute
documentation  file.   You  can  simply  list  or print BEWARE.603 or,
assuming the files BWR603.RNO and RUNOFF.EXE have been  restored  from
the tape, expand the RUNOFF file and then print it.

Expand the file with RUNOFF by typing:

     .RUN DSK:RUNOFF[10,7]

     *filename

     *^C

All .RNO files become .MEM files after  they  have  been  run  through
RUNOFF.












                              CHAPTER 5

                    COPY MONITOR SUPPORT PROGRAMS                    ____ _______ _______ ________



If your installation is running a current monitor, you should  install
monitor  support  programs prior to building the 6.03 monitor.  If you
have not previously installed the latest versions  of  monitor-related
programs,  or you are building the 6.03 monitor from scratch, you must
now copy monitor support programs to SYS with PIP.  Note that ACCT.SYS
must be on SYS or you will not be allowed to LOGIN.  You should log in
under [1,2] and type:

     .RUN DSK:PIP[10,7]

     *SYS:<155>/X=DSK:[10,7]filename,...

where filenames include:

     DDT.REL,JOBDAT.REL,*.EXE,*.ATO
     *.VMX (for virtual memory monitors only;  it is on the VM
            unbundled tape)

Some of the files may also have to be copied from [10,6].

Also, if you do not have your  system  accounting  files  built,  copy
*.SYS specifying protection <157>.

If your installation has file structures of different speeds, put  the
following files on the fastest structure (DSKA):

     DDT.REL,FORLIB.REL,BASIC.EXE,LIBOL.REL (if using
     nonreentrant COBOL)

You may want to put the following files on every file structure:

     SYSTAT.EXE,REDALL.EXE,DSKRAT.EXE,DSKLST.EXE,
     BACKUP.EXE

because they are needed to track down possible disk hardware problems.












                              CHAPTER 6

                             WRITE BOOTS                             _____ _____



You now must write BOOTS on disk  packs  with  WTBOOT.   WTBOOT  is  a
generic  name  for WABOOT, WIBOOT, and WLBOOT, where the second letter
(A,I,L) corresponds to your system processor (KA,KI,KL).

This step is required on all systems to write the  latest  version  of
BOOTS onto the disk packs.

WTBOOT can write BOOTS, a disk bootstrap loader program, on  blocks  0
and  4 through 7 of all disk packs in the system.  Run WTBOOT, WABOOT,
WIBOOT, or WLBOOT once, the first  time  a  new  6-series  monitor  is
built.   It  is  necessary  to  run WTBOOT again only if the disks are
reformatted or if there is a new BOOTS.  BOOTS should  be  written  on
each disk pack so that the crash procedure works.

When writing BOOTS on disk packs for a KL10 system with  6.03,  it  is
important  that  you use the WLBOOT distributed with the 6.03 monitor.
This is important because previous versions of WLBOOT wrote in block 0
of  the  disk pack, which contains the front-end file system.  Writing
in block 0 wipes out the front-end bootstrap.

To run WTBOOT log in to [1,2] and type:

     .R W?BOOT

W?BOOT responds with:

     SELECT UNITS?

where you respond with NO or YES.  If you respond with NO, the default
BOOTs  will  be  written  on all disk packs.  If you are using a KL10,
W?BOOT will not write the READIN loaders.  If not using a KL10, W?BOOT
will  write  the  default  READIN loader on all RS04s and RP0xs.  Note
that RP0x indicates RP04, RP05, or RP06.

If you respond with YES, W?BOOT responds with:

     UNIT unit-name

You are to respond with the type of BOOTs you  want  written  on  each
type  of  unit  in  the system.  You respond with DP, RP, R2, ZERO, or
SKIP.

DP        writes RP02/RP03 BOOTS on the pack mounted on that unit.

RP        writes RH10/RP0x BOOTS on the pack mounted on that unit.

R2        writes RH20/RP0x BOOTS on the pack mounted on that unit.

ZERO      prevents the  monitor  from  reading  BOOTS  from  the  pack
WRITE BOOTS                                                   Page 6-2_____ _____


          mounted on that unit.

SKIP      prevents W?BOOT from changing the pack mounted on that unit.

If you respond with a  carriage  return,  W?BOOT  writes  the  default
BOOTS.   The  default is RP02/RP03 BOOTS on RP02/RP03 packs, RH10/RP0x
BOOTS on RP0x packs (i.e., RH10s), RH20/RP0x BOOTS on RH20 packs.  For
each  RS04  or  RP0x,  W?BOOT  asks you if the READIN loader should be
written in 18- or 22-bit mode format.  You respond with NONE, 18,  22,
or carriage return.

NONE      if no READIN loader should be written on block 0 (KL10).

22        if the DF10C is normally in 22-bit mode format.

18        if the unit is not on a controller connected to a DF10C,  or
          if the DF10C is normally in 18-bit mode format.

CR        for the default response, which is 18-bit mode on even units
          and 22-bit mode on odd units.

When the procedure is completed, the system responds:

     EXIT

Note that WTBOOT writes BOOTS only on disk packs that are on line  and
not write locked.  (For more information on BOOTS, or on loading BOOTS
with a paper tape, refer to the DECsystem-10 Operator's Guide  in  the
DECsystem-10 Software Notebooks.)












                              CHAPTER 7

                         MERGE MODIFICATIONS                         _____ _____________



Omit this step if you are building an unmodified DEC  monitor  and  do
not intend to merge any modifications developed at your installation.

SOUP (Software Updating Package) is a set of programs used  to  update
source  files.   It  is  designed  to simplify the merging of customer
modifications with DEC-supplied files.

The DECsystem-10  Software  Updating  Package  Programmer's  Reference
Manual  in the DECsystem-10 Software Notebooks describes in detail the
set of programs in the SOUP package and explains how to use them.   If
you  have  several  modifications to be merged with many source files,
you may use  the  DECsystem-10  Software  Notebook  document  entitled
SOUPing Parallel Monitor Developments Together (MULTI) as a guide.


                                 NOTE

               Use   of   SOUP   requires   that    the
               appropriate  source  (.MAC)  files  have
               been  restored  from  the   distribution
               tape.

               Be  very  familiar  with   SOUP   before
               attempting to use it.














                              CHAPTER 8

                    GENERATE A MONITOR WITH MONGEN                    ________ _ _______ ____ ______



8.1  INTRODUCTION     ____________

The Monitor Generator (MONGEN) is a dialogue program enabling  you  to
choose  the  software  most  appropriate  for your installation and to
define your hardware configuration.

The dialogue produces the files needed to build the  monitor,  and  it
then tailors them to your system configuration.  Parameter assignments
within these files determine how the monitor  data  base  modules  are
assembled.  The dialogue consists of questions typed by MONGEN on your
terminal and your answers followed by a carriage return.

Before running MONGEN, you should

     1.  Become acquainted with the  current  version  of  the  MONGEN
         dialogue.

     2.  Be thoroughly familiar with your system configuration.

     3.  Know what changes you wish to make to the  monitor  currently
         running.




8.2  MONGEN ORGANIZATION     ______ ____________

The MONGEN  dialogue  is  divided  into  four  sections,  each  asking
questions  about  a  specific aspect of the system configuration.  The
four sections are:

     HDWGEN    which  defines  the   system   hardware   configuration
               (Section 8.4)

     TTYGEN    which  defines  the   system   terminal   configuration
               (Section 8.5)

     NETGEN    which defines the system network  configuration  (refer
               to Section 8.6)

     FGEN      which defines the system software features and  options
               (Section 8.7)

The first time you generate the files for a new  monitor,  you  should
answer  the  questions  in  each  of the four sections.  On subsequent
occasions, you can  change  only  one,  two,  or  three  of  the  four
sections.   The  number  of  sections you change depends on where your
changes are and which section(s) your changes affect.  You  need  only
answer the questions in the section you are changing.
GENERATE A MONITOR WITH MONGEN                                Page 8-2________ _ _______ ____ ______


After you answer the questions for the four sections of  MONGEN,  four
files  will  be  generated - - HDWCNF.MAC, TTYCNF.MAC, NETCNF.MAC, and
F.MAC.  These are the default  names  of  the  files  containing  your
MONGEN  dialogue.   You  may  change these file names by responding to
question number 2 in HDWGEN, TTYGEN, NETGEN, and/or FGEN.

If, after generating the four files, you wish to redefine one of them,
you  can  reanswer  the  questions  for  that  section.   Then,you can
assemble this new file along with the other three.

In  this  chapter,  each  MONGEN  question  is  described  within  its
appropriate section.



8.3  EXECUTING MONGEN     _________ ______

To execute the version of MONGEN on SYS:, type the following command:

     R MONGEN

To execute the version of MONGEN on your disk area, type the following
command:

     RUN MONGEN

MONGEN will respond with

     MONGEN FOR 603 MONITORS
     /HELP(PROMPT,SHORT,LONG):

MONGEN wishes you  to  indicate  which  one  of  the  three  following
dialogue modes you wish to use.

     MODE                          EFFECT

     SHORT     MONGEN  types  only  abbreviated  questions   on   your
               terminal.    This   mode   assumes  that  you  need  no
               explanation of the question and that you  are  familiar
               with  the choice of answers.  SHORT mode is recommended
               only for experienced users of this version of MONGEN.

     PROMPT    MONGEN types the same abbreviated question as in  SHORT
               mode,   but  adds,  within  parentheses,  a  choice  of
               answers.   (Note  that  the  first  item   within   the
               parentheses  is  the  default  answer.)  This  mode  is
               recommended  for  users  familiar   with   the   MONGEN
               dialogue,  but  who  would prefer to have the choice of
               answers typed with each question.

     LONG      MONGEN types the question, the choice of answers within
               parentheses,  and an explanation of the question within
               square brackets.  This  mode  is  recommended  for  all
               first time users of this version of MONGEN.

The mode you choose will be used throughout the dialogue.   To  change
modes during a MONGEN dialogue, answer a question by typing

     /HELP

This answer will change the mode to the next longest, but only for the
current question.  To change modes for the rest of the dialogue, type

     /HELP:x
GENERATE A MONITOR WITH MONGEN                                Page 8-3________ _ _______ ____ ______


where x is either SHORT, PROMPT, or LONG (abbreviated S, P, or L).



8.3.1  MONGEN Dialogue Format       ______ ________ ______

MONGEN questions and responses are in the form:

     question(possible answers) [explanation]:answer

The possible answer portion of this format description is  usually  in
one of the following forms:

     (min-max)                Legal range

     (default,min-max)        Default response followed by legal range

     (Y,N)                    Yes or No

     (a,b,c, ... z)           Multiple choice

Type your response directly after the colon.  When  you  finish  press
the  RETURN  key.   If you want the default response, press the RETURN
key immediately after the colon.  Because of the nature of some MONGEN
questions, possible answers are not offered.

Answers  to  questions  requesting   consecutive   TTY   line   number
identification can be typed on one line.  For example:

     1-10                specifies TTY line numbers 1 through 10.

     13                  specifies TTY line number 13.

     22-24               specifies TTY line numbers 22 through 24.

If you type an illegal or inappropriate response, MONGEN will type  an
error  message after which you may respond to the question again.  The
possible error messages are listed in Section 8.19.



8.3.2  Generating a New Monitor       __________ _ ___ _______

After typing the command R MONGEN and after you respond to  the  /HELP
question, MONGEN will type

     1^1  WHICH GEN (HDW, TTY, NET, F):

Respond with either HDW, TTY, NET, or F to indicate which section  you
wish  to configure.  For example, if you respond with HDW, MONGEN will
start typing the HDWGEN questions.  When the  HDWGEN  MONGEN  dialogue
has been completed, question number one will be retyped requesting you
to type another section name.








------------------
1. Note that all questions within this document are  preceded  with  a
number.   These  numbers  are  used  for reference only;  they are not
printed by MONGEN.
GENERATE A MONITOR WITH MONGEN                                Page 8-4________ _ _______ ____ ______


8.4  HDWGEN     ______

HDWGEN  is  the  section  containing  questions  about   the   central
processor(s),   disklike   storage  devices,  real-time  devices,  and
peripheral devices.

2    OUTPUT (DSK:HDWCNF.MAC):

                    If you accept the file HDWCNF.MAC and device  DSK:
                    as  the  media for storing your answers to MONGEN,
                    press the return key.  If you do not accept  them,
                    type  your  preferred  device name, file name, and
                    project/programmer number.


3    DECSYSTEM10 (1040,1050,1055,1070,1077,1080,1088):

                    Respond  with  the  type   of   system   you   are
                    configuring.

                         Type of System      Response

                         KA10 CPU (small)      1040
                         KA10 CPU (large)      1050
                         dual-KA10 CPUs        1055
                         KI10 CPU              1070
                         dual-KI10 CPUs        1077
                         KL10 CPU              1080
                         dual-KL10 CPUs        1088


4    SYSTEM NAME:

                    Respond to this question with your system name  in
                    24  characters  or  less.  This system name is the
                    'banner'  printed  when  you  issue   the   INITIA
                    command.  For example, KG77A KL10 #1026.


5    CPU0 SERIAL # (1-10000):

                    Respond with CPU0's  serial  number,  which  falls
                    into  the  range  1  to 10000.  MONGEN will repeat
                    this question once  for  each  processor  in  your
                    system.


5A   CPU1 SERIAL #(1-10000):

                    Respond with CPU1's  serial  number,  which  falls
                    into  the  range  1  to  10000.  (This question is
                    typed only if you specified in question 3 that you
                    have a dual-processor system.)


6    # DK10'S ON CPU0 (1,0-2):

                    If your processor is a KL10,  this  question  will
                    not  be  typed  unless you answer N to question 8.
                    Respond with the number of DK10  real-time  clocks
                    for CPU0.  The default number is one;  the maximum
                    is two.  (The DK10 real-time clock keeps  time  in
                    units  of  10  microseconds.)  If  you have a dual
                    processor system, this question will be repeated.
GENERATE A MONITOR WITH MONGEN                                Page 8-5________ _ _______ ____ ______


6A   # DK10'S ON CPU1 (1,0-2):

                    Respond with the number of DK10  real-time  clocks
                    for  CPU1.   (This  question  is typed only if you
                    specified  in  question  3   that   you   have   a
                    dual-processor system.)


7    EXCLUDE MONITOR OVERHEAD FROM USER RUN TIME (Y,N):

                    Answer Y (Yes) or N  (No).   The  answer  to  this
                    question is independent of whether time accounting
                    is performed with the line frequency clock (50  or
                    60  Hertz)  or the real-time clock (100000 Hertz).
                    If you respond with Y, users will receive  a  more
                    accurate  accounting  of  their  processor  usage,
                    because user runtime is  reported  independent  of
                    system  loading.   However, all installations that
                    charge their customers for processor usage  should
                    be  aware  that  the exclusion of monitor overhead
                    will decrease the reported user runtime by  10  to
                    30 percent.  

                    If you respond with N, monitor  overhead  will  be
                    included  in  run-time  statistics.   Whether  you
                    respond with Y or  N  to  this  question,  monitor
                    overhead  will be reported as a separate statistic
                    that  may  be  used  by  the  system  manager   in
                    determining   the  amount  of  CPUtime  spent  for
                    overhead.

                    With EBOX/MBOX  accounting  (KL10  systems  only),
                    meters  are  turned  off  at  the beginning of the
                    overhead period and turned on again  at  the  end.
                    If  your  system is not a KL10 (1080 series), jump
                    to question number 10.


8    EBOX/MBOX TIME ACCOUNTING (Y,N):

                    This question is typed only if  you  responded  to
                    question  number  3  with 1080 (1088, 1090, 1099).
                    Answer Y or N.  If you respond  with  Y,  run-time
                    accounting   will   be  computed  using  the  KL10
                    internal clocks and  question  number  9  will  be
                    typed.   If  you respond with N, the next question
                    typed will be question number 6.  For maximum user
                    run-time  reproducibility,  you should answer Y to
                    both this question and question number 9.


9    EXCLUDE PI TIME FROM USER RUN TIME (Y,N):

                    This question is typed only if you responded  with
                    1080 to question number 3 and Y to question number
                    7.  Answer Y or N.  If your  response  is  Y,  the
                    EBOX  and  the  MBOX  accounting  clocks  will  be
                    stopped  whenever  a  Priority  Interrupt  is   in
                    progress.      For     maximum    user    run-time
                    reproducibility, you should answer Y to both  this
                    question and question number 8.


10   HIGH PRECISION TIME ACCOUNTING (Y,N):
GENERATE A MONITOR WITH MONGEN                                Page 8-6________ _ _______ ____ ______


                    This question is typed only if  you  responded  to
                    question  6  and/or question 6A with a value equal
                    to or greater than 1.   Answer  Y  or  N  to  this
                    question.     If    Y,   more   precise   run-time
                    measurements will be given because the system will
                    use  10-microsecond  time  accounting.   This will
                    more accurately reflect real CPU-time, independent
                    of context switching.  (Therefore, a compute-bound
                    job is not charged for a whole 60th of  a  second,
                    even  though an I/O-bound job ran during that time
                    interval.) If N, question number 11 will be typed.


11   DK10 SOFTWARE (Y,N):

                    This question is typed only if you responded  with
                    N  in  response  to question number 10 and a value
                    greater than or equal to 1 in response to question
                    number  6  and/or  question number 6A.  To include
                    the real-time clock service routine, answer Y;  to
                    omit  it,  answer N.  This device is not available
                    to a  user  program  unless  it  issues  an  RTTRP
                    monitor  call.   The  service routine is used only
                    for high-precision time accounting.


12   # DATA CHANNELS (2,1-8):

                    Respond with the number of data channels  in  your
                    system (DF10s, DF10Cs, DX10s, or RH20s for disk or
                    tape).  The default is 2;  the maximum is 8.


                                           NOTE

                        Questions 13 through 23 are repeated  once
                        for  each  data  channel  you specified in
                        response to question 12.


13   CHANNEL n TYPE (DF10,DF10C,DX10,RH20):

                    Respond with the type of channel n (DF10,DF10C  or
                    DX10).   This question is asked once for each data
                    channel that you specified in response to question
                    number  12.   If  you  respond with DF10 or DF10C,
                    read questions 14 through  20B.   If  you  respond
                    with  DX10,  read  questions  21  and 21A.  If you
                    respond with RH20, read questions 22 through 23B.

                    Note that channel  n  corresponds  to  the  first,
                    second,  third ... channel  you  configure.  The n
                    does not necessarily  correspond  to  a  hardwired
                    channel number.


14   # RC10S (0-2):

                    Respond with the number  of  controllers  for  the
                    RD10  Burroughs  disk  and  RM10B  Bryant drums on
                    channel number n.  If you respond with 0, question
                    number 14A will not be printed.
GENERATE A MONITOR WITH MONGEN                                Page 8-7________ _ _______ ____ ______


14A  # UNITS ON FHx (1-4):

                    This question is repeated n times (where n is your
                    response  to  question  number  14.) Each time the
                    question is typed, x will be  incremented  to  the
                    next alphabetic in sequence starting with A (e.g.,
                    FHA, FHB,...).  Respond with the number  of  disks
                    and/or drums associated with controller FHx.


15   # RH10S FOR RS04'S (0-3):

                    Respond with the number  of  controllers  for  the
                    RS04  swapping  disks on channel number n.  If you
                    respond with 0, question number 15A  will  not  be
                    typed.   Both  RS04  and RP04 disk units have RH10
                    controllers;  RS04s have the  lower  device  codes
                    between the two.


15A  # UNITS ON FSx (1-8):

                    This question is repeated n times (where n is your
                    response  to  question  number 15).  Each time the
                    question is typed, x will be  incremented  to  the
                    next alphabetic in sequence starting with A (e.g.,
                    FSA,  FSB,...).   Respond  with  the   number   of
                    swapping  disks  associated with controller FSx on
                    channel n.


16   # RH10S FOR RP04'S (0-3):

                    Respond with the number of  controllers  for  RP04
                    and  RP06 disk pack units on channel number n.  If
                    you respond with 0, question number 16A  will  not
                    be typed.  Both RS04 and RP04 disk units have RH10
                    controllers;  RS04s have the lower device codes of
                    the two.


16A  # UNITS ON RPx (1-8):

                    This question is repeated n times (where n is your
                    response  to  question  number 16).  Each time the
                    question is typed, x will be  incremented  to  the
                    next alphabetic in sequence starting with A (e.g.,
                    RPA, RPB,...).  Respond with the  number  of  disk
                    packs associated with controller RPx.


17   # RP10S(0-3):

                    Respond with the number of controllers that are in
                    the  system  for  RP02 and RP03 disk pack units on
                    channel number n.  If you respond with 0, question
                    number 17A will not be typed.


17A  # UNITS ON DPx (1-8).

                    This question is repeated n times (where n is your
                    response  to  question  number 17).  Each time the
                    question is typed, x is incremented  to  the  next
GENERATE A MONITOR WITH MONGEN                                Page 8-8________ _ _______ ____ ______


                    alphabetic in sequence starting with A (e.g., DPA,
                    DPB,...).  Respond with the number  of  disk  pack
                    units associated with controller DPx.


18   # TM10BS (0-2):

                    Respond with the number of controllers that are in
                    the  system for NRZI-only drives on channel n.  If
                    you respond with 0, question number 18A  will  not
                    be typed.


18A  # UNITS ON MTx (1-8):

                    This question is repeated n times (where n is your
                    response  to  question number 18).  Each time this
                    question is typed, x is incremented  to  the  next
                    alphabetic in sequence starting with A (e.g., MTA,
                    MTB,...).  Respond  with  the  number  of  magtape
                    units associated with controller MTx.


19   # TC10CS (0-1):

                    Respond with the number of  special  systems  tape
                    controllers  for TU42s and TU43s on channel n.  If
                    you respond with 0, question number 19A  will  not
                    be typed.


19A  # UNITS ON MTx (1-8):

                    This question is repeated n times (where n is your
                    response  to  question number 19).  Each time this
                    question is typed, x is incremented  to  the  next
                    alphabetic  in  sequence.  Respond with the number
                    of TU42s and TU43s associated with controller MTx.


20   # RH10'S FOR TM02'S (0-2)

                    Respond  with  the   number   of   mass-bus   tape
                    controllers  for TU16s and TU45s on channel n.  If
                    you respond with 1 or 2,  questions  20A  and  20B
                    will be typed.


20A  HOW MANY TM02'S ON RH10 #n (1-8)

                    Respond with the number of subunits (tape  drives)
                    on  each unit.  This question is repeated once for
                    each RH10 specified in question 20.


20B  HOW MANY DRIVES ON TM02 n (1-8)

                    Respond with the number of drives on the specified
                    TM02.

If you have more data channels to configure,  refer  to  question  13,
otherwise,  refer  to  question  24.  Questions 14 through 20B will be
repeated if you have to configure more DF10 or DF10C channels.
GENERATE A MONITOR WITH MONGEN                                Page 8-9________ _ _______ ____ ______


21   # CONTROLLERS (0-1):

                    Respond  with  the  number   of   TX01   or   TX02
                    controllers  for  TU70 tape drives.  This question
                    is typed only when you have configured a DX10 data
                    channel.   If  you respond with 1, question 21A is
                    typed.


21A  # UNITS ON MTx (1-8):

                    Respond with the number  of  units  on  TU70  tape
                    drive.

If you have more data channels to configure,  refer  to  question  13.
Otherwise,  refer  to  question  24.   Questions  21  and  21A will be
repeated if you have more DX10 channels to configure.


22   # RH20S for RP04'S, RP06'S (0-1):

                    Respond with the number of  RH20  controllers  for
                    RP04  and RP06 disk pack units on channel n.  This
                    question is typed only if you  configure  an  RH20
                    channel.   If  you respond with 1, question 22A is
                    typed.


22A  # UNITS ON RPx (1-8):

                    Respond with the number of units  associated  with
                    controller RPx.


23   # RH20'S FOR TM02'S (0-1):

                    Respond with the number mass-bus  controllers  for
                    TU16s and TU45s on channel n.  If you respond with
                    1, questions 23A and 23B will be typed.


23A  HOW MANY TM02'S ON RH20 # x (1-8):

                    Respond with the number of tape drives  (subunits)
                    associated with RH20 number x.

23B  HOW MANY DRIVES ON TM02 x (1-8):

                    This question is repeated once for each  TM02  you
                    specified in response to question 23A.

If you have more data channels to configure,  refer  to  question  13.
Otherwise,  refer  to  question  24.  Questions 22 through 23B will be
repeated if you have more RH20 channels to configure.


24   # TM10AS (0,0-2):

                    Respond  with   the   number   of   I/O   Bus-type
                    controllers  for NRZI-only drives.  If you respond
                    with 0, question 24A will not be typed.


24A  #UNITS ON MTx (1-8):
GENERATE A MONITOR WITH MONGEN                               Page 8-10________ _ _______ ____ ______


                    This question is repeated n times (where n is your
                    response to question 24).  Each time this question
                    is typed, x is incremented to the next  alphabetic
                    in  sequence.   Respond with the number of magtape
                    units associated with MTx.

For each magnetic tape you have configured, MONGEN asks  if  it  is  a
7-track unit and if it is capable of 6250 bits/inch density.

      First, MONGEN prints the following:

          SPECIFY WHICH DRIVES (M-N) ARE 7-TRACK  DRIVES.   [TYPE  ONE
          NUMBER  (M)  OR  ONE  RANGE  (M-N) OR ALL ON SEPARATE LINES.
          TYPE AN EXTRA CARRIAGE RETURN WHEN THROUGH.]

          FOR CONTROLLER MTA
          .
          .
          .

          FOR CONTROLLER MTB
          .
          .
          .

      After MONGEN has asked the above question for each magnetic tape
      drive, it then asks the following question for each tape drive:

          SPECIFY WHICH TAPE DRIVES (M-N)  ARE  CAPABLE  OF  6250  BPI
          DENSITIES.   [TYPE  ONE NUMBER (M) OR ONE RANGE (M-N) OR ALL
          ON SEPARATE LINES.   TYPE  AN  EXTRA  CARRIAGE  RETURN  WHEN
          THROUGH.]

          FOR CONTROLLER MTA
          .
          .
          .

          FOR CONTROLLER MTB
          .
          .
          .


25   # JOBS (1-n):

                    Respond with the maximum number of  jobs  attached
                    and/or  detached.   Do  not  include the null job.
                    Each job requires approximately 1/4 of 1K core, so
                    specify only the number of jobs needed.


26   MAX.  K OF CORE FOR EACH JOB (0, 0-n):

                    This  question  is  typed  only   for   KA10-based
                    systems;   question  26A  is  typed  for  KI10 and
                    KL10-based  systems.   Respond  with  the  maximum
                    amount  of  core  that  any one job may use.  This
                    value is specified in number of 1K core blocks.  A
                    response of 0 indicates all of core.


26A  MAX.  P OF CORE FOR EACH JOB (256-512):
GENERATE A MONITOR WITH MONGEN                               Page 8-11________ _ _______ ____ ______


                    This question is typed only for KI10/KL10 systems.
                    Respond  with the maximum amount of core which any
                    one job may  use.   This  value  is  specified  in
                    number   of  512-word  pages.   A  response  of  0
                    indicates all of core.


27   # K TOTAL SYSTEM CORE (32-4096):

                    This  question  is  typed  only   for   KA10-based
                    systems.   Respond  with  the amount of memory the
                    system   is   expected   to   use.    At   monitor
                    initialization time, the operator will be asked if
                    the actual amount of  memory  is  less  than  your
                    response to this question.  You should, therefore,
                    specify the correct  amount.   If  this  value  is
                    smaller  than the amount of memory you want to put
                    on line, the monitor will not allow  the  operator
                    to  put it on line.  If more than 256K is desired,
                    you must set the feature test  switch  FT22BIT  to
                    -1.


27A  #P TOTAL SYSTEM CORE (256-4095):

                    This question is typed  only  for  KI10/KL10-based
                    systems.   Respond  with  the amount of memory the
                    system   is   expected   to   use.    At   monitor
                    initialization time, the operator will be asked if
                    the actual amount of  memory  is  less  than  your
                    response to this question.  You should, therefore,
                    specify the correct  amount.   If  this  value  is
                    smaller  than the amount of memory you want to put
                    on line, the monitor will not allow  the  operator
                    to put it on line.


28   CLOCK TICKS PER SECOND (60,50):

                    Respond with the number of clock ticks per  second
                    (power line frequency).  In the U.S., the response
                    should  be  60;   in  most  other  countries,  the
                    response  should be 50.  If your system has a KL10
                    processor, you may specify either 50 or 60;   your
                    response  will  determine  the  frequency of clock
                    interrupts,  which  are  generated  by  the   KL10
                    interrupt timer.  In KA10- and KI10-based systems,
                    your response must conform to the actual frequency
                    of the system power supply.


29   # REAL-TIME DEVICES (0,0-77):

                    Respond with the number of real-time devices  that
                    can   be  put  on  a  priority  interrupt  channel
                    simultaneously.  The default is zero;  the maximum
                    is  77.   If your response is 0, question 29A will
                    be typed.


29A  ALLOW JOBS TO BE LOCKED IN CORE (Y,N):

                    Answer Y or N.  A response of Y will allow jobs to
                    be  locked  in  core;  N will not allow jobs to be
GENERATE A MONITOR WITH MONGEN                               Page 8-12________ _ _______ ____ ______


                    locked in core and question 30 or 30A will not  be
                    typed.


30   # K MIN GUARANTEED AMONG JOBS NOT LOCKED IN CORE (0, 0-256):

                    This  question  is  typed  only   for   KA10-based
                    systems.   Respond  with  a  value  indicating the
                    amount of core guaranteed among all jobs that  are
                    not  locked  in  core.   The  default  is 0, which
                    indicates all of core.  If you respond with 0  and
                    answer  Y to question 29A, no jobs will be allowed
                    to  lock  in  core.   The  value  you  specify  in
                    question  30  can  be  overridden  by a SET CORMIN
                    command.


30A  # P MIN GUARANTEED AMONG JOBS NOT LOCKED IN CORE (0,0 - max):

                    This question is typed  only  for  KI10/KL10-based
                    systems.   Respond  with  a  value  indicating the
                    amount of core guaranteed among all jobs that  are
                    not  locked  in  core.   The  default  is 0, which
                    indicates all of core.  If you respond with 0  and
                    answer  Y to question 29A, no jobs will be allowed
                    to  lock  in  core.   The  value  you  specify  in
                    question  30A  can  be  overridden by a SET CORMIN
                    command.


31   # HIGH PRIORITY QUEUES (0,0-15):

                    Respond with the number of high priority queues in
                    your  system.   The  default is 0;  the maximum is
                    15.


32   CCL COMMANDS TO STAY IN CORE (Y,N):

                    Answer Y or N.  Y allows system programs  to  pass
                    commands  to  one another via core (TMPCOR monitor
                    call) rather than disk.  The preferred  answer  to
                    this question is Y.


33   METER (Y,N):

                    Answer Y or N.  Y includes the METER monitor  call
                    software in your system, which enables performance
                    analysis metering.  N omits the METER monitor call
                    software from your system.


34   SYSCHK (Y,N):

                    Answer Y or N.  Y will allow an  initial  hardware
                    integrity   check   to  be  performed  at  monitor
                    initialization time.  N makes  it  impossible  for
                    this check to be performed.


32   MSGSER (Y,N):

                    Answer Y or N.  Y causes  the  multiplexed-channel
GENERATE A MONITOR WITH MONGEN                               Page 8-13________ _ _______ ____ ______


                    (MPX) software to be loaded.  MPX allows more than
                    one device to  be  associated  with  a  given  I/O
                    channel.   (This feature is required for operation
                    of  TYPESET-10  and/or  MCS-10.)  N  prevents  the
                    loading of the MPX software.


36   PSISER (Y,N):

                    Answer Y or N.  Y causes the PSISER program to  be
                    loaded.   PSISER  provides  the software interrupt
                    system, which enables users to specify  conditions
                    for  which  an  interrupt  is to occur.  PSISER is
                    required for  the  operation  of  MCS-10,  GALAXY,
                    and/or  TYPESET-10.   N  prevents  the  loading of
                    PSISER.


37   IPCF (Y,N):

                    Answer Y  or  N.   Y  causes  IPCF  (Inter-Process
                    Communication Facility) to be loaded.  IPCF allows
                    jobs and/or system processes to  communicate  with
                    each other.  IPCF is required for the operation of
                    MCS-10, GALAXY, and/or TYPESET-10.  N prevents the
                    loading of the IPCF software.


38   ENQ/DEQ (Y,N):

                    Answer Y or N.  Y causes the ENQ/DEQ  software  to
                    be loaded.  This software provides synchronization
                    primitives used by COBOL and for simultaneous file
                    updates.   N  prevents  the loading of the ENQ/DEQ
                    software.


39   # CDRS (1,0-2):

                    Respond with the number  of  card  readers  to  be
                    configured.  The default is 1;  the maximum is 2.


40   CDP (Y,N):

                    Respond Y or N.  Y will  provide  software  for  a
                    card punch;  N will not.


41   DIS (Y,N):

                    Answer Y or N.  Y provides software for a  display
                    device  (e.g., VP10, 340, 30, VB10C);  N will not.
                    The display device asked about here is not  to  be
                    confused  with  a display terminal.  If you answer
                    Y, question number 41A will  be  typed.   Question
                    number 41A will not be typed if you answer with N.


41A  TYPE (VP10,340,VB10C):

                    Respond with the type of display device  you  have
                    (VP10,  340,  or  VB10C).   If  you  have type 30,
                    answer VP10.
GENERATE A MONITOR WITH MONGEN                               Page 8-14________ _ _______ ____ ______


42   # TD10S (1,0-2):

                    Respond with the number  of  DECtape  controllers.
                    The  default  is  1;   the  maximum is 2.  If your
                    response is 0, question 42A will not be typed.


42A  # UNITS ON DTx (1-8):

                    This question will be repeated n times (where n is
                    your  response  to question number 39).  Each time
                    this question is typed, x will be  incremented  to
                    the  next  alphabetic in sequence beginning with A
                    (e.g., DTA, DTB,...).  Respond with the number  of
                    DECtape units associated with controller DTx.


43   LPTS (1,0-3):

                    Respond with the number of line printers supported
                    by  your system.  The default number is 1.  If you
                    respond with 0, question 43A will not be typed.


43A  LPTn LOWER CASE (Y,N):

                    Answer  Y  or  N.   Y  indicates  that  LPTn   has
                    lower-case  capability.  N indicates that the line
                    printer is  upper-case  only.   This  question  is
                    repeated  n  times  (where  n  is your response to
                    question number 40).


44   PLTS (0,0-2):

                    Respond with the number  of  incremental  plotters
                    supported  by your system.  The default is 0;  the
                    maximum is 2.


45   PTP (Y,N):

                    Answer Y or  N.   Y  indicates  that  your  system
                    includes  a  paper tape punch.  The inclusion of a
                    paper tape punch is standard  for  KA10/KI10-based
                    systems,   but  normally  excluded  on  KL10-based
                    systems.


46   PTR (Y,N):

                    Answer Y or  N.   Y  indicates  that  your  system
                    includes a paper tape reader.


47   # PTYS (20,0-510):

                    Respond  with  the  number  of   pseudo-terminals.
                    (Each  operator  service  routine and batch stream
                    needs one.)  This response will usually equal your
                    response  for  question  number 25, which asks for
                    the number of jobs to be attached and/or  detached
                    at  one  time.   If  your response is greater than
                    zero, FTPTYUUO must be set in F.GEN to -1.   Refer
GENERATE A MONITOR WITH MONGEN                               Page 8-15________ _ _______ ____ ______


                    to Chapter 8.


48   DC44 (Y,N):

                    Answer Y or  N.   Y  indicates  that  your  system
                    includes  a  DC44 front-end.  DC44 is a TYPESET-10
                    front-end that supports  a  high-speed  paper-tape
                    reader  and punch, and an on-line photocomposition
                    machine.  If you answer N, question  numbers  48A,
                    B,  C,  and  D,  and  E will not be typed.  If you
                    respond with Y, you must set  the  FTTYPE  feature
                    test switch to -1.


48A  DL10 PORT NUMBER FOR DC44 (0,0-7):

                    Respond  with  the  DC44  channel   number   (port
                    number).   The  default  is  0;  the maximum is 3.
                    DL10 port numbers for  DC44s  should  be  numbered
                    sequentially, beginning with 0.


48B  # OF PA611RS (0,0-32):

                    Respond with the number of high-speed  paper  tape
                    readers  to  be  supported  with  the  DC44.   The
                    default is 0;  the maximum is 32.


48C  # OF PA611PS (0,0-32):

                    Respond with the number of  high-speed  paper-tape
                    punches  to  be  supported  with  the  DC44.   The
                    default is 0;  the maximum is 32.


48D  # OF LPC11S (0,0-6):

                    Respond    with    the    number    of     on-line
                    photocomposition machines to be supported with the
                    DC44.  The default is 0;  the maximum is 6.


48E  PC11 (Y,N):

                    Answer Y or N.  Y indicates that there is a  paper
                    tape reader and a paper tape punch on the DC44.


49   # OF DA28S (1,0-4):

                    Respond with the number  of  inter-processor  data
                    channels  for  the PDP-8/11/15.  The default is 1;
                    the maximum is  4.   If  your  response  is  1  or
                    greater  and  the feature test switch FTXTC equals
                    0, MONGEN assumes that you do not want  any  DA28s
                    supported.


49A  # OF LINES FOR TTY POOL (8,0-512):

                    Respond with the number of terminal lines reserved
                    for  use on DA28 channels.  The default is 8;  the
GENERATE A MONITOR WITH MONGEN                               Page 8-16________ _ _______ ____ ______


                    maximum is 512.


50   # DAS78'S (0,0-8):

                    Respond with the number of  DAS78s  (bisynchronous
                    support  as used by IBM 360s, 370s, and/or 2780s).
                    If you respond with a value greater  than  0,  you
                    must set the FTDAS78 feature switch to -1.


50A  WHICH DL10 PORT IS THE DAS78 CONNECTED TO (0,0-7):

                    Each DAS78 PDP-11 is connected  to  a  DL10  port.
                    Respond with the number of the DL10 port.


50B  DECIMAL LINES ON THE DAS78 (1-16):

                    Each DAS78 can  support  up  to  16  bisynchronous
                    lines  for  IBM 360s, 370s, and/or 2760s;  respond
                    with the number of  lines  (in  decimal)  on  this
                    DAS78.


51   DECIMAL "SYMBOL,VALUE"


52   OCTAL "SYMBOL,VALUE"


53   SIXBIT "SYMBOL,VALUE"

                    In response to questions 51, 52, and 53, type  the
                    constants  at  your installation that deviate from
                    the  standard.   Unless  you  specify   otherwise,
                    HDWGEN  will define each symbol in accordance with
                    predefined  standard  values.   A  list   and   an
                    explanation  of  the  standard symbols and decimal
                    default values appear in Sections  8.14.1,  8.14.2
                    and  8.14.3.   For example, you could specify 1760
                    as the number  of  nanoseconds  per  memory  cycle
                    (instead of 1000) by typing:

                    NSPMEM,1760

                    If you want to respond with more than  one  entry,
                    you  must  type each "symbol, value" on a separate
                    line, and end each line with  a  carriage  return.
                    When  you  finish typing responses to question 51,
                    type an extra carriage return to force  MONGEN  to
                    type  question 52.  If all the standard values are
                    acceptable,  type  only  a  carriage   return   in
                    response to this question.

                    HDWGEN next types the questions

                         OCTAL "SYMBOL, VALUE"

                             and

                         SIXBIT "SYMBOL, VALUE"

                    requesting the OCTAL and SIXBIT values that are to
GENERATE A MONITOR WITH MONGEN                               Page 8-17________ _ _______ ____ ______


                    be changed from the standard settings.  The answer
                    format is  identical  to  that  for  the  previous
                    question.   Deviations  from  the  list of default
                    values are the only  responses  required.   If  no
                    changes  to  the standard are required, you should
                    press the RETURN key in response to  each  of  the
                    questions.

                    Sections 8.15.1 and 8.15.2 list  and  explain  the
                    standard  symbols  and octal values;  Section 8.16
                    lists and explains the standard symbols and SIXBIT
                    values.


54   TYPE "DEVICE-MNEMONIC,PI-CHANNEL,HIGHEST-AC-TO-SAVE"


55   TYPE "DEVICE-MNEMONIC, PI-CHANNEL" FOR SPECIAL DEVICES


56   TYPE "DEVICE-MNEMONIC, PI-CHANNEL, NO-OF-DEVICES"

                    Questions  54,  55,   and   56   request   special
                    information  about non-standard peripheral devices
                    and  their  associated  priority  interrupt   (PI)
                    channels.   If  your  installation  has no special
                    devices,  answer  the  three  questions   with   a
                    carriage  return.   If  your  installation  has  a
                    special device, turn to Section 8.17.

FILE DSK:HDW04D.MAC CLOSED [HDWGEN FINISHED]



8.5  TTYGEN     ______

MONGEN's TTYGEN section allows you  to  define  your  system  terminal
configuration.   All  possible  questions  are  listed  below  and  on
following pages.  In order to start  the  TTYGEN  dialogue,  you  must
respond with TTY to question number 1 described in Section 8.3.2.


2    OUTPUT(DSK:TTYCNF.MAC):

                    If you accept TTYCNF.MAC and the device  DSK:   as
                    the  media  for  storing  your  answers to MONGEN,
                    press the RETURN key for your response.  If you do
                    not  accept  them,  type your preferred disk name,
                    file name, and project/programmer number.


3    HOW MANY DC10S (1,0-2):

                    Respond with the number of data line  scanners  to
                    be  supported by your system.  The default 1;  the
                    maximum is 2.  If you  respond  with  0,  question
                    numbers  6  and  7  will  not be typed.  (Refer to
                    Section 8.18 for a further discussion of DC10s.)


4    HOW MANY DC68S (1,0-2):

                    Respond with the number of DC68s supported by your
                    system.  The default is 1;  the maximum is 2.  The
GENERATE A MONITOR WITH MONGEN                               Page 8-18________ _ _______ ____ ______


                    DC68 is a PDP-8 680 or 680I communications system.
                    If  you respond with 0, question number 8 will not
                    be typed.


5    HOW MANY DC76S (1,0-8):

                    Respond with the number of DC76s supported by your
                    system.  The default is 1;  the maximum is 8.  The
                    DC76 is a PDP-11 communications  system.   If  you
                    respond  with  0,  question  number  9 will not be
                    typed.  This is an unbundled product;   therefore,
                    before  typing  a  carriage return, make sure your
                    system includes a DC76.


                                           NOTE

                        For DC68s and DC76s, the monitor does  not
                        need  to know the specific type of dataset
                        control hardware,  because  correspondence
                        of terminal lines to dataset controller is
                        performed  within  the   hardware.    When
                        laying out the terminal line configuration
                        in TTYGEN,  you  must  specify  the  total
                        number of lines available through the DC68
                        and the total number  of  lines  available
                        through   each   DC76.   DC76  lines  that
                        require dataset control must be defined as
                        dataset lines (via question 13).


6    # DC10B [OR 632] 8 LINE DATA GROUPS (1-8):

                    Respond with a value in the range 1 to 8, where:

                         1  indicates   TTY0-7
                         2  indicates   TTY0-17
                         3  indicates   TTY0-27
                         4  indicates   TTY0-37
                         5  indicates   TTY0-47
                         6  indicates   TTY0-57
                         7  indicates   TTY0-67
                         8  indicates   TTY0-77


                                             NOTE

                             DC10Cs, DC10Ds, and DC10Hs should  be
                             treated  as DC10Bs.  Line numbers for
                             DC10Bs and DC10Es must  be  dense  or
                             the       message       SPECIFICATION
                             ERROR-DSCTAB will be printed  at  the
                             terminal  when  an attempt is made to
                             assemble the monitor.


7    DC10E DATA SET CONTROL GROUPS (0-7):

                    Respond with a value in the range 0 to 7.


8    CORRESPONDENCE OF DC10E LINES TO THE DC10B LINES (M-N,P)
GENERATE A MONITOR WITH MONGEN                               Page 8-19________ _ _______ ____ ______


                    Respond with m,p for one  pair  and  m-n,p  for  a
                    range  of  pairs  (where m is an octal DC10E line,
                    m-n is the octal range of DC10E lines,  and  p  is
                    the octal DC10B line).


9    # OCTAL LINES ON DC68, INCLUDING ITS CONSOLE TTY (1-144):

                    Respond with the total number of  lines  available
                    under your system in the range 1 to 144.


10   WHICH DL10 PORT IS THE DC76 CONNECTED TO (0,1-7):

                    Each PDP-10 is connected to a DL10 port.  If there
                    is only one PDP-11, it is always connected to port
                    number 0.   If  there  are  two  PDP-11s,  one  is
                    connected to port 0 and the other to port 1.


11   DECIMAL LINES ON DC76 (1-129):

                    Respond with the number of lines (in  decimal)  on
                    the  DC76.   Each  DC76F  has  16  lines,  and the
                    console terminal has one line.  A  DC76  with  two
                    DC76Fs has 33 lines.


12   OPR OCTAL LINE # (CTY,0-n):

                    Respond  with  the  octal  number  of  device  OPR
                    (operator  privileged  terminal).   The default is
                    CTY.

Answer the following questions about your terminal lines (m-n).   Type
one  octal line number (m), one range (m-n), or CTY on separate lines.
Type an extra carriage return when you are finished.


13   DATA SET LINES

                    Respond with the line numbers of those lines  that
                    are data set lines.  Data set lines are a class of
                    terminals recognized by LOGIN.  LOGIN  will  reset
                    the  lines  to computer echoing and hardware tabs.
                    DC76 lines that require dataset  control  must  be
                    defined as dataset lines.


14   LINES WITH HARDWARE TABS

                    Respond with the line numbers of  those  terminals
                    with  hardware  generated  tab settings.  Most TTY
                    model 35s and 37s have  hardware  TABs,  and  most
                    model  33s  do not.  However, since the variety of
                    features found on model 33, 35, and 37 TTYs is  so
                    great,  every  system administrator must determine
                    the physical characteristics of their installation
                    terminals.   It is possible to override MONGEN TAB
                    settings with the SET TTY TAB and SET TTY  NO  TAB
                    commands.


15   REMOTE LINES
GENERATE A MONITOR WITH MONGEN                               Page 8-20________ _ _______ ____ ______


                    Respond with the line number of those lines  which
                    are  to  be  considered remote.  All data sets are
                    implicitly remote;  however, the installation  may
                    give  REMOTE  status  to  any terminal, even those
                    that are hardwired.  In this context, remote is  a
                    software   characteristic  of  the  terminal  that
                    imposes certain restrictions.  For  example,  some
                    project/programmer  numbers  may not be allowed to
                    LOGIN at remote terminals.  (These  terminals  are
                    not to be confused with those terminals located at
                    a remote station.)


16   LOCAL COPY LINES

                    Respond with the line numbers of those lines which
                    are  to  be  considered  local  copy  lines  (full
                    duplex).   With  local  copy  lines,  echoing   is
                    provided   by  the  terminal  instead  of  by  the
                    computer.


17   HALF DUPLEX LINES

                    Respond with the line numbers of those lines  that
                    transmit  in  half-duplex mode.  Half-duplex lines
                    provide    two-way,     alternate,     independent
                    transmission over the same pair of wires.


                                           NOTE

                        The term half-duplex is occasionally  used
                        incorrectly.   True  half-duplex lines are
                        relatively rare.  They  include  TWX  data
                        sets and some local terminals connected by
                        DC10C interfaces.  Some  lines  which  are
                        loosely  called  half-duplex  are actually
                        local copy full-duplex.   Question  number
                        15  asks  for  the identification of local
                        copy lines.  (If  you  are  interested  in
                        reading  more  about these terms, refer to
                        Section 8.3 of the specification  entitled
                        SCNSER,  Level  D  Scanner  Service in the
                        DECsystem-10 System Notebooks.)


18   SLAVES

                    Respond with the line numbers of those lines which
                    can  be classified as slaves.  Slave is a software
                    classification for terminals that cannot LOGIN  or
                    control  jobs.  These terminals are generally used
                    to provide I/O for jobs that are  controlled  from
                    other  terminals.  A terminal can be classified as
                    a slave by any user, but it  can  be  restored  to
                    normal status only by the operator.


19   LINES WITH HARDWARE FORM FEED

                    Respond with the line numbers of  those  terminals
                    which  are  to have hardware-generated form feeds.
                    Most model 35 TTYs  have  hardware-generated  form
GENERATE A MONITOR WITH MONGEN                               Page 8-21________ _ _______ ____ ______


                    feeds,  and  most  model  33s  do  not.  Since the
                    variety of  features  found  in  terminals  is  so
                    great,  every  system administrator must determine
                    the hardware characteristics of their installation
                    terminals.   You may assume that no terminals have
                    hardware-generated form feeds, so that the scanner
                    service  will always output five lines to simulate
                    form feeds.  This can be changed by any user at  a
                    terminal  via  the SET TTY FORM or SET TTY NO FORM
                    commands.


20   LINES WHICH RUN INITIA AT STARTUP

                    Respond with the line numbers of  those  terminals
                    that  are  to run INITIA at start up.  INITIA is a
                    program   that   performs    job    initialization
                    functions.   When the monitor starts up, INITIA is
                    run automatically for  those  lines  specified  in
                    your response to this question.  Device OPR should
                    be specified in your response;  remote  terminals,
                    dataset  terminals,  and  remote station terminals
                    should not be specified to run INITIA.  There is a
                    file   read   by  INITIA,  called  TTY.INI,  which
                    contains a complete set of parameters for  setting
                    up  the teletype configurations.  The advantage of
                    having TTY.INI  is  that  TTY  parameters  can  be
                    changed  without  rerunning  MONGEN.   The  INITIA
                    specification   in   the   DECsystem-10   Software
                    Notebooks provides further details about TTY.INI.


21   FILLER CLASS CODES (M-N,P):

                    Respond with the line numbers of  those  terminals
                    that  require  filler  characters  to  standardize
                    output.  P is the filler class  code.   (Refer  to
                    the description of the SET TTY FILL command in the
                    DECsystem-10 Operating System Commands Manual  for
                    an explanation of the filler class codes.)



8.6  NETGEN     ______

NETGEN is  the  MONGEN  section  which  defines  your  system  network
configuration.   All  possible  questions  are  listed  below  and  on
following pages.  In order to start  the  NETGEN  dialogue,  you  must
respond  with  NET to question number 1, which is described in Section
8.3.2.


2    OUTPUT (DSK:NETCNF.MAC):

                    Respond with a carriage return if  the  file  name
                    NETCNF.MAC  and the device DSK:  are acceptable to
                    store your  NETGEN  dialogue.   If  they  are  not
                    acceptable,  respond  with  the desired file name,
                    device and/or project/ programmer number.


3    NETWORK SOFTWARE (Y,N):

                    Answer Y or N.  Y indicates that your installation
GENERATE A MONITOR WITH MONGEN                               Page 8-22________ _ _______ ____ ______


                    desires   the   software   for  remote  computers:
                    DECsystem-10s, PDP-11s, and PDP-15s.   A  response
                    of  N  indicates  that  the  installation does not
                    desire network capabilities and,  therefore,  does
                    not  require  the  associated  software.  The file
                    NETCNF.MAC will be closed;  NETGEN is finished and
                    question  number  1  will be typed again, allowing
                    you to configure FGEN.  If you respond with Y, you
                    must also set the FTNET feature test switch to -1.


4    HOW MANY NODES DO YOU WISH TO SUPPORT (3,0-n)

                    Respond with the number of nodes/stations you wish
                    to  be  supported  by your system.  If you respond
                    with  0,  NETGEN  dialogue  will   terminate   and
                    question number 1 will be printed.


5    HOW MANY DC75NP'S OR DN-87'S ON SYSTEM (1,1-8)

                    Respond with the number of synchronous  front-ends
                    that  are  to  be  supported  for networks on your
                    system.  The default response is 1;   the  maximum
                    response is 8.


6    TO WHICH DL10 PORT IS THE DC75 or DN87 CONNECTED (0,0-8)

                    This question is repeated once for each  front-end
                    you  specified  in  question  5.  Respond with the
                    DL10 port number  connected  to  this  DC75/DAS85.
                    The  default  response is 0;  the maximum response
                    is 8.


7    HOW MANY DN87S's ON THE SYSTEM (1, 0-3):

                    Respond  with  the   number   of   DN87S   network
                    front-ends that are connected to DTE20s.


7A   TO WHICH DTE20 IS THE DN87S CONNECTED (1, 1-3):

                    This  question  is  typed  once  for  each   DN87S
                    specified in response to question 7.


8    NODE NUMBER OF CENTRAL SITE  (1-77)

                    Respond with the node number to be associated with
                    the DECsystem-10 at the central site.


9    NAME OF CENTRAL SITE

                    Respond with the name of the central site  in  six
                    characters or less.


10   # OF REMOTE TTYS (0,0-512)

                    Respond with the maximum number of TTYs on network
                    nodes to be handled at any given moment.
GENERATE A MONITOR WITH MONGEN                               Page 8-23________ _ _______ ____ ______


11   # OF REMOTE CDRS (0,0-n)

                    Where n is the maximum response to question number
                    4  above.  Respond with the maximum number of card
                    readers on network nodes  to  be  handled  at  any
                    given time.

12   # OF REMOTE LPT'S (0,0-n)

                    Respond with the maximum number of  line  printers
                    on network nodes to be handled at any given time.


13   # OF REMOTE PTR'S (0,0-0)


14   # OF REMOTE PTP'S (0,0-0)

                    Respond  with  the  maximum   number   of   remote
                    paper-tape  punches on network nodes to be handled
                    at one time.


15   # OF MTA'S (0,0-0)


17   # OF REMOTE PROCESSES (0,0-n)

                    Respond  with  the  maximum   number   of   remote
                    processes that can be connected at any given time.
                    To answer this question with a value greater  than
                    1, you must set FTTSK to -1.


18   REMOTE DATA ENTRY SOFTWARE (Y,N):

                    Answer Y or N.  Y  indicates  that  you  want  the
                    software  to  support remote data entry terminals,
                    which are used for MCS-10  applications.   If  you
                    respond with Y, FTRDX in FGEN must be set to -1.


19   # OF CONNECTS (46,1-512)

                    Respond with the maximum  number  of  simultaneous
                    connections.



8.7  FGEN     ____

The FGEN dialogue simplifies the task of choosing appropriate software
from  a  wide  selection.   For example, FGEN allows you to select the
standard DECsystem-10 features for a given application.

If you are choosing all the standard software features,  simply  agree
during the dialogue to accept the standard symbol settings by typing a
carriage return.  Your F.MAC file will then contain all these standard
settings;   these,  when  assembled  with  the  other  GEN files, will
produce a monitor with the appropriate routines.

Standard DECsystem-10 software features are  included  or  deleted  by
setting feature test switches to -1 or to 0:  -1 places the feature in
the monitor, and 0 omits it.
GENERATE A MONITOR WITH MONGEN                               Page 8-24________ _ _______ ____ ______


In order to set the appropriate feature test switches, you  will  need
the  file  FGEN.HLP.   MONGEN  will  first  look  for  FGEN.HLP on the
directory from which MONGEN came, then it will look for  it  on  SYS:.
If  FGEN.HLP cannot be found, the message %Can't find FGEN.HLP will be
printed on your terminal.

FGEN allows you to:

     1.  List the standard settings for a given application 
         (TINY,KALUG,KILUG,KAFULL,KIFULL,KLFULL).

     2.  Determine what the feature test switch symbols mean.

     3.  Alter the feature test switch settings.

     4.  Add new feature test switches.



2    OUTPUT (DSK:F.MAC):

                    If you accept F.MAC and the device  DSK:   as  the
                    media  for  storing  your answers to MONGEN, press
                    the RETURN key for your response.  If you  do  not
                    accept  them,  type your preferred disk name, file
                    name, and project/programmer number.


3    FEATURE SET(TINY,KALUG,KILUG,KAFULL,KIFULL,KLFULL):

                    There are six standard feature settings;   respond
                    with  one  of  them.  Only these standard settings
                    have been tested during  monitor  development  and
                    are  fully  supported.  Although installations may
                    alter the combination of individual  feature  test
                    switches  or  add  new  switches during FGEN, such
                    non-standard switch  combinations  have  not  been
                    tested   and   are  not  supported.   We  wish  to
                    emphasize that you  may  alter  the  feature  test
                    setting  from  the standard or LUG configurations;
                    however, the new combination is NOT  supported  by
                    DIGITAL.


4    STANDARD SETTING (YES,NO,LIST,EXPLAIN):

                    Respond  with  one  of  the   words   within   the
                    parentheses.

     YES       Answer YES (the default) if you accept the DECsystem-10
               standard feature test switch settings, as identified in
               the previous question.

               A YES ends FGEN and closes the F.MAC file.  You may now
               redefine  another  segment  of  MONGEN or exit from the
               program.

     NO        A NO allows you to change  the  setting  of  individual
               switches  or add new feature test switches.  You can do
               this by typing the switch symbol (e.g., FTxxx) and  the
               value (0 or -1) in the form

                    switch, value
GENERATE A MONITOR WITH MONGEN                               Page 8-25________ _ _______ ____ ______


               Press the RETURN key twice after the last entry.

     LIST      LIST allows you to examine the current setting for  any
               and  all  of  the  feature test switches.  You may then
               either accept or change the current setting.

               The standard  setting  for  each  feature  test  switch
               varies    with    the    installation's    DECsystem-10
               application, e.g., TINY, KALUG, KILUG,  KAFULL,  KIFULL
               or  KLFULL.   You  can  obtain the default value for an
               individual feature test switch by typing LIST  <CR>  in
               answer  to  the question, and then typing the requested
               switch symbol followed  by  a  carriage  return.   FGEN
               returns that switch symbol and its current setting.  To
               obtain the value of another switch, type the  requested
               switch,  followed by a carriage return.  After the last
               entry, press the RETURN key twice.

               To obtain the current values for  all  of  the  feature
               test switches you can type LIST <CR> and then type ALL,
               followed by a carriage  return.   FGEN  will  list  all
               feature  test  switch  symbols and their values on your
               terminal.

     EXPLAIN   EXPLAIN allows you to examine the meaning of any or all
               of  the  feature test switch symbols in addition to the
               current value.  You can obtain the  default  value  and
               meaning  for a feature test switch symbol by responding
               to EXPLAIN (or E) in the same way you could respond  to
               LIST  (or  L).   For  example,  the dialogue (in prompt
               mode) to obtain  the  default  value  and  meaning  for
               feature test switches FTTIME and FTSLEE is as follows:

               STANDARD SETTING (YES, NO, LIST, EXPLAIN): EXPLAIN <CR>

               Only stand settings have been tested by DEC;  all other
               settings may produce incorrect operation.

               Switch (switch to list or explain).

               FTTIME <CR>
               FTTIME, -1;
                        ;TIME ACCUMULATION

               FTSLEE <CR>
               FTSLEE, -1;
                        ;SLEEP UUO

After you have completed the dialogue  sequence  associated  with  NO,
LIST, or EXPLAIN, FGEN repeats the question:

     STANDARD SETTING (YES, NO, LIST, EXPLAIN):

You should answer YES if all of the values are acceptable, NO  if  you
wish to change any settings, and LIST or EXPLAIN if you wish to obtain
any more default information.

When you answer NO and change the switch settings  that  you  wish  to
change,  you  may  have  FGEN  type  each switch and ask for its final
setting.  FGEN asks

     SET EACH SWITCH (Y,N):

When you type YES, FGEN types
GENERATE A MONITOR WITH MONGEN                               Page 8-26________ _ _______ ____ ______


     FTxxxx,M (ON,OFF,LIST,EXPLAIN,END):

for each switch, where M=-1 if the switch is on and M=0 if the  switch
is  off.  You can then specify whether the switch should be ON or OFF,
or whether to enter LIST or EXPLAIN mode as before.   By  typing  END,
you  can  specify  that no more switches are to be listed and that the
current values are to be used.


5    DO YOU WANT THE VIRTUAL MEMORY FACILITY (YES,NO):

                    This question will only  be  typed  for  KI10-  or
                    KL10- based systems.  Answer Y if you want virtual
                    memory capabilities and have VMSER  (which  is  an
                    unbundled licensed product).



8.8  PRODUCING RELOCATABLE BINARY FILES COMMON.REL, COMMOD.REL, AND COMDEV.REL     _________ ___________ ______ _____ ___________ ___________ ___ __________



8.8.1  Assembling the Configuration Files       __________ ___ _____________ _____

You should assemble  the  files  HDWCNF.MAC,  TTYCNF.MAC,  NETCNF.MAC,
F.MAC,  with  S.MAC  and  COMMON.MAC to produce the relocatable binary
file COMMON.REL,  the  files  HDWCNF.MAC  and  F.MAC  with  S.MAC  and
COMMOD.MAC   to   produce   COMMOD.REL,   and  the  files  HDWCNF.MAC,
TTYCNF.MAC, NETCNF.MAC, F.MAC, with S.MAC and  COMDEV.MAC  to  produce
COMDEV.REL.

To assemble a 6.03 Monitor type

     COMPIL  F/COMP,S/COMP,HDWCNF+NETCNF+TTYCNF+<COMMON,COMDEV,COMMOD>

It is important that F.MAC precede S.MAC, because  S  has  conditional
assemblies depending on the contents of F.  Also, all of the remaining
files must follow S.MAC and precede COMMON.MAC.



8.8.2  Assembly Error Messages from COMMON       ________ _____ ________ ____ ______

One or more of the following messages are typed on  your  terminal  if
your attempt to assemble COMMON is unsuccessful.

     1.  ?MORE THAN N.  TTYS + PTYS EXCEED FIELD OF DDB.^1

         The system capacity of 511 TTYs and PTYs has  been  exceeded.
         You must rerun MONGEN, answering questions for fewer TTYs and
         PTYs.

     2.  ?NOT  ENOUGH  PI'S  TO  SERVICE  THIS  CONFIGURATION  SUGGEST
         EDITING COMMON TO PUT MORE DEVICES ON A SINGLE CHANNEL.

         The system capacity of seven priority interrupt channels  has
         been  exceeded.   You  should  assign more devices to each PI
         channel by editing INTTAB in  the  source  of  COMMON  or  by
         changing  the  PI assignment of the special devices that have
         been added.

------------------
1. Note that all error messages  are  preceded  by  a  number.   These
numbers are used for reference only;  they are not printed by COMMON.
GENERATE A MONITOR WITH MONGEN                               Page 8-27________ _ _______ ____ ______


     3.  ?FT2REL MUST BE -1 WHEN 2 RELOC REGISTERS EXIST.

     4.  ?PLEASE ASSEMBLE SOURCES WITH FTRTTRP = -1.

     5.  ?PLEASE ASSEMBLE SOURCES WITH FTLOCK = -1.

     6.  ?PLEASE ASSEMBLE SOURCES WITH FTHPQ = -1.

         Messages 3 through 6 indicate that  you  specified  incorrect
         settings  in  F.MAC, i.e., you have asked for a feature to be
         included with HDWGEN but you did not include the  feature  in
         FGEN.   You  must  rerun  FGEN to correct the improper symbol
         definitions.

     7.  ?SPECIFICATION ERROR - DSCTAB.

         There is a specification error in the data set control table.
         You  must  correct  it by running MONGEN again.  Usually this
         error occurs when line numbers are not dense  on  DC10Bs  and
         DC10Es.

     8.  %NUMBER OF JOBS REDUCED TO MAX=511.

         You specified more than 511 jobs.  You should rerun MONGEN to
         correct the error.

     9.  ?512 OR MORE PTY'S EXCEEDS FIELD OF DDB.

         You specified more than 512 PTYs.  You should rerun MONGEN to
         correct the error.

    10.  ?TRAP OFFSET SWITCH CANNOT  BE  SET  ON  A  SINGLE  PROCESSOR
         SYSTEM.

         You incorrectly set the CPTOS switch.  You must rerun  MONGEN
         and change the setting of the CPTOS switch to 0 if you have a
         single processor  system.   (Refer  to  Section  8.15,  Octal
         Default Values.)

    11.  ?DL10 MAPPED AREA EXCEEDS 1K.

         You made the mapped area too large.  You must reduce the size
         of  the  mapped area, or change jumper in DL10 hardware to 8K
         and add "DLX8K ==1" in REMCNF.MAC.

    12.  ?  DL10 MAPPED AREA EXCEEDS 8K.

         The mapped area is still too large.  You must reduce the size
         of  the  mapped  area  following  the procedures described in
         message 11.

    13.  ?  DLXLNG IS NOT EQUAL TO LENGTH OF MAPPED AREA.

         You have specified DLXNG to be either less  than  or  greater
         than  the  length  of the mapped area.  You must change it so
         that it is equal to the length of the mapped area.  (This  is
         an internal error and should not occur.)

GENERATE A MONITOR WITH MONGEN                               Page 8-28________ _ _______ ____ ______


8.9  DESCRIPTION OF THE CONFIGURATION FILES     ___________ __ ___ _____________ _____

The following configuration files are produced by the MONGEN  dialogue
program:

     1.  HDWCNF.MAC   is produced by HDWGEN

     2.  TTYCNF.MAC   is produced by TTYGEN

     3.  NETCNF.MAC   is produced by NETGEN

     4.  F.MAC        is produced by FGEN

All four of these files contain the following information for each  of
the questions asked:

     1.  The question asked by the program as a comment

     2.  Your response to the question as a comment

     3.  The MACRO definitions containing the switch or symbol and its
         value.

MONGEN always defines all the symbols that appear in the configuration
files, regardless of your answer to a question.  Therefore, you do not
have to study the MONGEN program in order to understand  what  happens
on  certain  questions.   It  is  sufficient that you only look at the
listings  of  the  configuration  files  that   are   assembled   with
COMMON.MAC.



8.9.1  Description of COMMON.MAC       ___________ __ __________

Since COMMON.MAC selectively assembles only those items needed for the
defined configuration, it contains the following items:

     1.  The default symbols that you can override during  the  MONGEN
         dialogue.

     2.  Special lower core locations (below 400 in the monitor).

     3.  The monitor startup locations.

     4.  The EXEC page map for a KI10/KL10 processor.

     5.  The PDP-10/PDP-11 shared core area on systems with DC75s.

     6.  CPU data blocks (CDBs) for each processor.

     7.  Variable data locations for the monitor.

     8.  The job and high segment tables.

     9.  The terminal data base.

    10.  Monitor initialization code to link device data blocks and to
         create  multiple  copies  for  all multiple devices, with the
         exception of disk.

    11.  Special MACROs to define the  PI  assignment.   These  MACROs
         create   a   two-word-per-entry   table   that  contains  the
         following:
GENERATE A MONITOR WITH MONGEN                               Page 8-29________ _ _______ ____ ______


         a.  Device Data Block address

         b.  Number of devices

         c.  Priority Interrupt channel for device

         d.  Interrupt location for device

         e.  Length of Device Data Block if multiple device

    12.  Locations set by ONCE-Only dialogue.

    13.  System error stop code (407 restart).

    14.  Common subroutine returns.

    15.  Subroutine to save and restore preserved accumulators.

    16.  Common byte pointers.

    17.  The PI channel save and restore routines.

    18.  Code to handle traps to 40 and 60 (primary CPU) and  140  and
         160  (secondary  CPU)  and  the  code to handle APR interrupt
         entry and exit.

    19.  Remote communications entry points and tables.

    20.  Real-time trapping tables.

    21.  High priority queue UUO code.

    22.  Scheduler queue definitions and tables.




8.9.2  Description of COMMOD.MAC       ___________ __ __________

You assemble COMMOD.MAC with HDWCNF.MAC, F.MAC and  S.MAC  to  produce
COMMOD.REL.   COMMOD  selectively assembles the items required for the
defined configuration.  It contains the following items:

     1.  The assembly instructions.

     2.  The default symbols that you can override during  the  MONGEN
         dialogue.

     3.  The instructions for writing a new controller routine.

     4.  The symbol naming conventions.

         a.  3-letter prefixes

         b.  3-letter suffixes

     5.  The  list  of  upper  and  lower  limits  for  various   disk
         parameters.

     6.  The data structure description.

     7.  The core and disk  block  symbol  definitions  for  the  file
         system.
GENERATE A MONITOR WITH MONGEN                               Page 8-30________ _ _______ ____ ______


         a.  Generalized core blocks

         b.  Access table

         c.  BAT blocks

         d.  Channel Data Blocks

         e.  Device Data Blocks

         f.  Home blocks

         g.  Monitor job tables

         h.  Controller Data Blocks

         i.  Logical block numbers within unit

         j.  Monitor buffer

         k.  Name block

         l.  Project-Programmer number block

         m.  RIB blocks

         n.  SAT blocks

         o.  File structure data block

         p.  System variables

         q.  UFD blocks

         r.  Unit data blocks




8.9.3  Description of COMDEV.MAC       ___________ __ __________

COMDEV.MAC contains symbols, code,  and  data  bases  associated  with
devices (in the following order).  The items are listed below.

     1.  Conversion symbols from the old MONGEN format (XXXXXn) to the
         new (M.XXXX).

     2.  Terminal (TTY) and remote station conversion symbols.

     3.  MONGEN default symbols.

     4.  Terminal (TTY) data base.

     5.  Remote station data base.

     6.  All other device-specific code and data bases.

     7.  EXTERNS used to load the  proper  device  routines  from  the
         monitor library.

GENERATE A MONITOR WITH MONGEN                               Page 8-31________ _ _______ ____ ______


8.10  HDWGEN EXAMPLE      ______ _______

.R MONGEN

MONGEN for 603 monitors

/HELP(PROMPT,SHORT,LONG)]: LONG

Which GEN(HDW,TTY,NET,F)[
HDW to define hardware configuration
TTY to define terminal configuration
NET to define network configuration
F to define software features]: HDW

Output(DSK:<cr>HDWCNF.MAC):<cr> 

DECsystem10(1040,1050,1055,1070,1077,1080,1088)[
1040 is small disk system with KA10 cpu
1050 is large disk system with KA10 cpu
1055 is disk system with 2 KA10 cpu's
1070 is disk system with KI10 cpu
1077 is disk system with 2 KI10 cpu's
1080 is disk system with KL10 cpu
1088 is disk system with 2 KL10 cpu's]: 1080<cr>

System name[24 characters or less]: TESTER603<cr>

CPU0 serial #(1-10000): 3333<cr>

Exclude Monitor overhead from user run time(Y,N)[
Overhead is CPU time spent clock queue processing, command
decoding, core shuffling, swapping, and scheduling.
User run time always includes UUO execution and
unless EBOX/MBOX runtime accounting is selected
(KL10 systems only) includes IO interrupt service time.
On KA or KI systems, each CPU must have a DK10]: Y<cr>

EBOX/MBOX runtime accounting?(y,n)[
If EBOX/MBOX runtime accounting is selected in a KL10
based system, user runtime is computed using the KL10
internal accounting clocks]: Y<cr>

Exclude PI time from user runtime?(y,n)[
An answer of "yes" to this question will cause the monitor
to set up the KL10 accounting meters in such a manner that
users will not be charged for cpu time used during interrupts]: Y<cr>

# Data Channels(2,1-8)[DF10s, DF10Cs, DX10s OR RH20'S  for disk and tape]: 2<cr>

Channel 0 Type (DF10,DF10C,DX10,RH20): RH20<cr>

On channel # 0:

  # RH20S for RP04'S, RP06'S(0-1)[Controllers for RP04, RP06 disk pack
units on channel 0]: 1<cr>
  # Units on RPA(1-8): 2<cr>
  # RH20's for TM02'S (0-1)[Mass-Bus tape controller for
TU16's and TU45's on channel 0]: 1<cr>
  How many TM02's on RH20 # 0 (1-8)[EACH UNIT CAN CONTROL
UP TO 8 SUB-UNITS = TAPE DRIVES]: 2<cr>
How many drives on TM02 0 (1-8): 2<cr>
How many drives on TM02 1 (1-8):2 <cr>

Channel 1 Type (DF10,DF10C,DX10,RH20): DX10<cr>
GENERATE A MONITOR WITH MONGEN                               Page 8-32________ _ _______ ____ ______



On channel # 1:
  # Controllers(0-1)[TX01's or TX02's for TU70 Tape Drives on channel 1]: 1<cr>
  # Units on MTB(1-8): 2<cr>
TM10As(0,0-2)[I/O Bus type Controller for NRZI only drives]: 0<cr>

Specify which drives (M-N) are 7 track drives.
[Type one number (M) or one range(M-N) or ALL on separate lines.
Type an extra carriage return when through.]
For controller MTA
<cr>
For controller MTB
<cr>

Specify which tape drives (M-N) are capable of 6250 BPI densities.
[Type one number (M) or one range (M-N) or ALL on separate lines.
Type an extra carriage return when through.]
For controller MTA
<cr>
For controller MTB
<cr>

# DTEs on CPU0(2<cr>,1-4)[BYTE TRANSFER DEVICE USED FOR KL10 to PDP-11 front end communications]: 2<cr>

# Jobs(1-511)[Maximum number attached and detached, not
counting null job]: 80<cr>

Max. PAGES of core For each job(0,0-512)[0 means all of core]: 256<cr>

# K total system core(32-4096)[ONCE-only reports if
less core at startup]: 1056<cr>

Clock ticks per second(60,50)[Power line frequency]: 60<cr>

# Real-time devices(0,0-77)[Max. # which can be put
on PI channels simultaneously]: 0<cr>

Allow jobs to be locked in core(Y,N): Y<cr>

# PAGES min guaranteed among jobs not locked in core(0,0-512)[
minimum free core pool for unlocked jobs, 0 assumes all of core]: 256<cr>

# High priority queues(0,0-15): 2<cr>

CCL commands to stay in core(Y,N)[System programs pass
commands to each other via core(TMPCOR UUO) rather than disk]: Y<cr>

Meter(Y,N)[Performance analysis metering(METER UUO)]: Y<cr>

SYSCHK(Y,N)[Initial Hardware integrity check at ONCE-only time]: N(cr>

MSGSER(Y,N)[Support for device MPX. (more than one device
on an I/O channel). This feature is required for TYPSET-10
and MCS-10]: Y<cr>

PSISER(Y,N)[Advanced programmed software interrupt service -
Support for the PISYS. UUO. This provides an easy
and powerful interrupt method for program to trap asynchronous
events. Required bY<cr> MCS-10]: Y<cr>

IPCF(Y,N)[Inter process communition facility]; Y<cr>

ENQ/DEQ(Y,N)[Sychronization Primitives To-allow
simultaneous file update by multiple co-operating processes]: Y<cr>
GENERATE A MONITOR WITH MONGEN                               Page 8-33________ _ _______ ____ ______



# CDRs(1,0-2)[Card reader]: 0<cr>

CDP(Y,N)[Card punch]: N

CP10D(Y,N)[Special Systems unbuffered Card Punch]: N<cr>

DIS(Y,N)[Display device(VP10,340,30,VB10C) as distinguished from
display terminals]: N<cr>

# TD10s(1,0-2)[DECtape controls]: 2<cr>

  # Units on DTA(1-8): 4<cr>

  # Units on DTB(1-8): 2<cr>

LPTs(1,0-3)[Line printers]: 3<cr>

LPT0 Lower case(Y,N)[Does LPT0 have lower case capability]: Y<cr>

LPT1 Lower case(Y,N)[Does LPT1 have lower case capability]: Y<cr>

LPT2 Lower case(Y,N)[Does LPT2 have lower case capability]: N<cr>

PLTS(0,0-2)[Plotters]: 0<cr>

PTP(Y,N)[Paper tape punch]: Y<cr>

PTR(Y,N)[Paper tape reader]: Y<cr>

# PTYs(20,0-510)[Pseudo-terminals - each operator
service program and Batch stream needs one]: 20<cr>

DC44(Y,N)[
The DC44 is a TYPESET-10 front end which supports
the following devices:
PA611R       High speed paper tape reader
PA611P       High speed paper tape punch
LPC11        Online photocomposition machine]: N<cr>

# of DA28s(0,0-4)[Interprocessor channels for PDP8/11/15]: 0<cr>

# DAS78'S(0,0-8)[IBM 360, 370, and/or 2780 support]: 0<cr>

Decimal "symbol,value"[
For any symbols to be defined.
Type one per line, extra carriage return when through]
<cr>
<cr>

Octal "symbol,value"[
For any symbol to be defined.
Type one per line, extra carriage return when through]
<cr>
<cr>

SIXBIT "symbol,value"[
For any sixbit symbol to be defined.
Type one per line, extra carriage return when through]
<cr>

Type "device-mnemonic,PI-channel" for special devices[
With neither channel AC save routine nor device data block,
the "device-mnemonic" must be 3 characters or less.
GENERATE A MONITOR WITH MONGEN                               Page 8-34________ _ _______ ____ ______


Type extra carriage return when through.]
<cr>

Type "device-mnemonic,PI-channel,no.-of-devices"[
For special devices with device data blocks.
the "device-mnemonic" must be 3 characters or less.
Type extra carriage return when through.]
<cr>

Type "device-mnemonic,PI-channel,highest-ac-to-save"[
For special devices with channel save routines to save acs up to
the "highest-ac-to-save".  "Device" must be 3 char or less.
Type extra carriage return when through.]
<cr>

File DSK:HDWCNF.MAC Closed [HDWGEN finished]
GENERATE A MONITOR WITH MONGEN                               Page 8-35________ _ _______ ____ ______


8.11  TTYGEN EXAMPLE      ______ _______

Which GEN(HDW,TTY,NET,F)[
HDW to define hardware configuration
TTY to define terminal configuration
NET to define network configuration
F to define software features]: TTY<cr>

Output(DSK:TTYCNF.MAC): <cr>

How many DC10s(1,0-2)[
The DC10 is a data line scanner]: 1<cr>

How many DC68s(1,0-2)[
The DC68 is a PDP-8 680 or 680I communications system]: 1<cr>

How many DC76s(1,0-8)[
The DC76 is a PDP-11 communications system]: 0<cr>

For DC10 0:

# DC10B[ or 632] 8 line data groups(1-8)[
1 is TTY0-7, 2 is TTY0 - 17, ... 8 is TTY0 - 77]: 2<cr>

# DC10E Data set control groups(0-2): 2<cr>

Correspondence of DC10E lines to the DC10B lines(M-N,P)[
Type M,P for one pair and M-N,P for a range of pairs
where M is octal DC10E line, M-N is octal range of DC10E
lines, and P is octal DC10B line]
<cr>
<cr>

FOR DC68 0:

# Octal lines on DC68, including its console TTY(1-144): 20<cr>

OPR octal line #(CTY,0-37)[OPR is privileged operator terminal]: 
Answer the following questions about your TTY lines(M-N).
[Type one octal line #(M) or one range(M-N) or CTY on separate
lines.  Type extra carriage return when through.]
<cr>

Data set lines[Class of terminal for LOGIN, LOGIN resets line
to computer echoing and no hardware tabs]
<cr>

Lines with hardware tabs[Monitor simulates rest with spaces]
<cr>

Remote lines[Class of terminal for LOGIN, do not confuse
with remote station TTYs]
3-7<cr>
<cr>

Local copy lines[Echoing provided by terminal rather than
by computer.  Often (incorrectly) called half duplex]
10-12<cr>
<cr>

Half duplex lines[TWX or half duplex wired scanner(DC10C)]
<cr>

Slaves[No commands may be typed]
GENERATE A MONITOR WITH MONGEN                               Page 8-36________ _ _______ ____ ______


<cr>

Lines with hardware form feed[Leave out if users
would rather not get form feeds until they do TTY FORM commands]
<cr>

Lines which run INITIA at startup
0-16<cr>
<cr>

Filler class codes(M-N,P)[
Type M,P for one line M with filler class code P or
M-N,P for a range of lines with filler class code P]
<cr>

2741 lines on DC-10 interfaces[]
<cr>

File DSK:TTYCNF.MAC Closed [TTYGEN finished]



8.12  NETGEN EXAMPLE      ______ _______

Which GEN(HDW,TTY,NET,F)[
HDW to define hardware configuration
TTY to define terminal configuration
NET to define network configuration
F to define software features]: NET<cr>

Output(DSK: <cr>NETCNF.MAC): <cr> 

Network software(Y,N)[
Software to support remote computers: DECsystem-10's,
PDP-11's, PDP-8's (requires FTNET to be -1)]: Y<cr>

How many nodes do you wish to support(3,0-63)[Maximum]: 3<cr>

How many DC75NP's or DN87's on the system(1,0-8)[Network
front-ends connected to DL10's.]: 1<cr>

For front end number 1:

To which DL10 port is the DC75 or DN87 connected (0,0-7)[]: 
How many DN87S's on the system(1,0-3)[Network
front-ends connected to DTE-20's]: 0<cr>

Node number of central site(1-77)[
Unique number identifying DECsystem-10 to network.]: 1<cr>

Name of central site[Six characters or less.]: CENTRAL<cr>
%More than 6 characters.
Name of central site[Six characters or less.]: CENTER<cr>

# of remote TTY's(0,0-512)[
Maximum number of teletypes on network nodes to be
handled at any given time.]: 12<cr>

# of remote CDR's(0,0-63)[
Maximum number of card readers on network nodes to be
handled at any given time.]: 0<cr>

# of remote LPT's(0,0-63)[
Maximum number of line printers on network nodes to be
GENERATE A MONITOR WITH MONGEN                               Page 8-37________ _ _______ ____ ______


handled at any given time.]: 22<cr>

# of remote PTR's(0,0-0)[
Maximum number of paper tape readers on network nodes to be
handled at any given time.]: 0<cr>

# of remote PTP's(0,0-63)[
Maximum number of paper tape punches on network nodes to be
handled at any given time.]: 0<cr>
# of remote MTA's(0,0-0)[
Maximum number of magnetic tape drives on network nodes to be
handled at any given time.]: 0<cr>

# of remote processes(0,0-128)[
Maximum number of remote processes that can be connected to at
any given time (requires FTTSK to be -1).]: 12<cr>

Remote data entry software(Y,N)[
Software to support remote data entry terminals for MCS-10 applications
(requires FTRDX to be -1)]: Y<cr>

# of connects(46,1-512)[
Maximum number of simultaneous connections.]: 46<cr>

File DSK:NETCNF.MAC Closed [NETGEN finished]



8.13  FGEN EXAMPLE      ____ _______

Which GEN(HDW,TTY,NET,F)[
HDW to define hardware configuration
TTY to define terminal configuration
NET to define network configuration
F to define software features]: F<cr>

Output(DSK: <cr>F.MAC): <cr> 

Feature set(TINY,KALUG,KILUG,KAFULL,KIFULL,KLFULL)[
TINY   Is minimum subset of features for KA10 timesharing
KALUG  Is medium size KA10 monitor with enough features for  batch
KILUG  Same as KALUG but for KI10 cpu
KAFULL Includes all features of DECsystem10 monitor such
        as real-time and extended file system for KA10 cpu
KIFULL Same as KAFUL but for KI10 cpu
KLFULL  Same as KIFULL but for KL10 cpu]: KLFULL<cr>

Standard setting(YES,NO,LIST,EXPLAIN)[
Standard values for all feature test switches for your configuration]: YES<cr>

Do you want the virtual memory facility(YES,NO)[VMSER must
be on your distribution tape]: YES<cr>

File DSK:F.MAC Closed [FGEN finished]
Which GEN(HDW,TTY,NET,F)[
HDW to define hardware configuration
TTY to define terminal configuration
NET to define network configuration
F to define software features]:

.
GENERATE A MONITOR WITH MONGEN                               Page 8-38________ _ _______ ____ ______


8.14  DECIMAL DEFAULT VALUES      _______ _______ ______

This section contains  a  description  of  the  standard  symbols  and
default  decimal values assumed by the MONGEN program.  Section 8.14.1
lists those symbols defined in COMMON;   Section  8.14.2  lists  those
symbols  defined  in  COMDEV;   and Section 8.14.3 lists those symbols
defined in COMCON.  All symbols are listed in the order in which  they
are defined.



8.14.1  Symbols Defined in COMMON        _______ _______ __ ______

NSPMEM, 1000

     The number of nanoseconds per memory cycle.  This symbol is  used
     to  compute  the  amount of time spent performing core shuffling,
     and it is printed by the SYSTAT command.  For systems  with  MB10
     memories, the constant should be changed to 1760.

EPL4WD, 17

     The number of 4-word blocks in the extended  executive  push-down
     list.   When  extended it is one-fourth the length of the maximum
     executive push-down list.  If a push-down list  overflow  occurs,
     this value should be increased.

MONCOR, JOBN*72+EPLLEN (Large Disk Systems)

     The monitor reserves  a  table  of  at  least  MINCOR  words,  or
     possibly  up  to the next 1K boundary, for allocating disk device
     data blocks and extended push-down  lists.   MONCOR  is  normally
     JOBN*90  words,  allowing  2.5  open disk files per job.  If this
     value is too small, a larger value may be  supplied.   The  total
     size  of  the  monitor is printed after this space is reserved in
     the long ONCE-Only dialogue.

MINCOR, JOBN*55 (Small Disk Systems)

     For a small disk system, there are only 1.5 open disk  files  per
     job.   Otherwise,  the  explanation is the same as for large disk
     systems above.

CTYDCR, 18

     The delay for CTY carriage return during ONCE-Only dialogue.  The
     default  causes  an  18-jiffy  delay.  This allows the monitor to
     pause before printing on the  next  line,  allowing  the  CTY  to
     execute a carriage return/line feed.

RLDTIM, 112

     The time until an auto-reload.

MINMAX, 1024*12

     The smallest value allowed for CORMAX  after  the  system  begins
     execution.

UNIQ1,1 UNIQ2,1 and UNIQ12 ...  UNIQ6,1 ...  UNIQ16

     These represent priority interrupt channels for the exclusive use
     of  a  special device.  If the priority interrupt channels are to
     be reserved, set the value of UNIQn to 1, where n is the  channel
GENERATE A MONITOR WITH MONGEN                               Page 8-39________ _ _______ ____ ______


     number.   For  example,  if a real-time device requires extremely
     fast response time, it is necessary to set the BLKI/BLKO  pointer
     in the channel location.  (Channel 7 cannot be reserved, as it is
     always used for the clock.)

INDPPN,0

     If the value of INDPPN is 0, each programmer number refers to the
     same  person  in every project.  If the value of INDPPN is 77777,
     programmer numbers may  be  assigned  independently  within  each
     project.   This  affects  only  the  disk  file access protection
     mechanism.

M.QSTR,0

     The default structure for the QUEUES.

SYSSEG,-1

     This function checks files for a flag  indicating  they  are  SYS
     files.  This function also prevents dormant or idle segments from
     sitting in core, in addition to achieving fast GETSEGs from SYS:.

CPTOS,0

     CPTOS = 0 sets the trap offset for dual processor systems.   CPU0
     normally  traps  to  location  40,  and  CPU1  normally  traps to
     location 140.  CPTOS = 0 traps CPU1 to location 40  and  CPU0  to
     location  140.   The  value  of  CPTOS  must  be  set  to  0  for
     single-processor systems.  (KA10 only.)

UFCO, 10

     Monitor call fairness count for CPU0 in a multi-processor system.

UFC1, 10

     Monitor call fairness count for CPU1 in a multi-processor system.
     (CPU1  picks  UFC1 jobs that have just completed monitor calls on
     CPU0 before picking a job on CPU1.)

M.CBAT, 10

     The maximum number of bad memory addresses  stored  in  each  CPU
     data block on a memory parity error sweep of core.

STDENS,5

     The standard magtape  density,  if  the  user  program  does  not
     override  the  symbol value with an INIT, OPEN, or SETSTS monitor
     call or with the SET DENSITY command.  The standard is  6250  bpi
     for TU70s.

          1 = odd parity + 200 bpi
          2 = odd parity + 556 bpi
          3 = odd parity + 800 bpi
          4 = odd parity + 1600 bpi
          5 = odd parity + 6250 bpi

M.BMAX, 13

     The initial setting for the maximum number of MPB jobs  permitted
     to  log-in  simultaneously.   This  value initializes the monitor
     GETTAB word BATMAX.  The operator can change  this  value  during
GENERATE A MONITOR WITH MONGEN                               Page 8-40________ _ _______ ____ ______


     system operation with the OPSER command:  SET BATMAX.

M.BMIN, 0

     The initial setting for the minimum number of jobs guaranteed for
     MPB.  This value initializes the monitor GETTAB word BATMIN.  The
     operator can change this value during system operation  with  the
     OPSER command :SET BATMIN.

JIFSEC.60

     The number of clock ticks per second, i.e., jiffies.

DDTRY,4

     The number of times the monitor is to try to recover from DECtape
     errors.

M.EXE, 1

     The symbol which determines the type of file to be created on the
     execution  of the SAVE command.  If M.EXE = 0, normal (i.e., SAV,
     HGH, LOW, SHR) files  are  created;   if  =  1,  .EXE  files  are
     created.

TXTRA,0

     The number of extra terminal disk data blocks for slave lines.

LOGSIZE,12

     The minimum amount of virtual core required  for  a  user  to  be
     logged-in.   This  value  must  be at least as large as the LOGIN
     system program, which is currently 12K.  If the amount of core is
     insufficient,  the  user  will  receive  a CORE UNAVAILABLE error
     message, which includes the virtual amount of core remaining.

M.JMAX, M.JOB

     The initial setting for the maximum number of jobs  permitted  to
     LOGIN  simultaneously.   (This  includes  all  classes  of  jobs:
     batch, interactive, or operator service jobs.  Note that operator
     service  jobs,  subjobs under [1,2], or subjobs at OPR or CTY are
     not restricted  from  logging-in  even  if  LOGMAX  is  exceeded,
     because the task may be a critical system function.)

     This value, which cannot be less than 1, initializes the  monitor
     GETTAB  word  LOGMAX.   The operator can change this value during
     system operation with the OPSER command :SET LOGMAX.

M.CMCT, 32

     The number of times the core tables (CHKTAL) are  to  be  checked
     before   performing   its   defined   functions,  which  requires
     approximately 5 ms of overhead.  This reduces CPU time for  CORE,
     GETSEG,  and  RUN monitor calls.  The maximum value to which this
     symbol may be set is 262,000.

M.XFFA, 0

     If M.XFFA is non-zero, the File Daemon will not be called if  the
     program  accessing  the  file is being run under [1,2] or has the
     JACCT bit set.
GENERATE A MONITOR WITH MONGEN                               Page 8-41________ _ _______ ____ ______


8.14.2  Symbols Defined in COMDEV        _______ _______ __ ______

MTSIZ, 128

     The size of magnetic tape records in  36-bit  words  (i.e.,  data
     words in the buffer).  Users can override this value by using the
     SET BLOCK SIZE MTAn:  command.  Programs can override this  value
     by building special buffers.

LPTSIZ, 29

     The size of the line printer buffer + 2.  The value of 29  allows
     a  full  line  to  be  typed  on a 132-column line printer in one
     buffer.  This value should be changed to 26 when using 120-column
     line printers.

FLCDEF, 1

     The filler class code to use if one is not specified  for  a  TTY
     line.

MTELOG, -1

     If = -1, errors that require more than one retry are logged.   If
     = 0, all recoverable errors are logged.

MTDAEM, 10

     The number of times per reel to call  DAEMON  for  magtape  error
     reporting.



8.14.3  Symbols Defined in COMMOD        _______ _______ __ ______

STRMAX, 14

     The maximum number of disk file structures that can  be  on  line
     simultaneously.  By decreasing this value, one word will be saved
     for each decrement of 1.  This value is automatically  set  to  1
     for 1040 systems;  the value cannot exceed 14.

CCWMAX,10

     The maximum length in words of each disk  channel  command  list.
     Altering  this value will affect efficiency and space.  The value
     is set to 10 for 1040 systems.  CCWMAX is not used for  KI10  and
     KL10 systems.

SWPMAX,8

     The maximum number of disk units that may be used for swapping (1
     word per unit).  The value is set to 1 for 1040 systems.

SWCLSN,7

     The highest class number for swapping;  this value cannot  exceed
     7.

DSKTRY,10

     The number of times to try on  disk  data  errors  for  all  file
     structures before recalibrating (inclusive of the initial try).
GENERATE A MONITOR WITH MONGEN                               Page 8-42________ _ _______ ____ ______


SERTRY,3

     The number of times to try on search errors before  recalibrating
     (inclusive of the initial try).

RCLTRY,10

     The number of times to recalibrate and try on  DSKTRY  disk  data
     errors or on SERTRY search errors (inclusive of the initial try).
     The total number of disk tries with  recalibration  is  equal  to
     DSKTRY  *  RCLTRY  (i.e.,  10  *  10 = 100).  The total number of
     search tries with recalibration is equal to SERTRY *RCLTRY (i.e.,
     10 * 3 = 30).

CHVIFP,10

     The standard initial fairness count for positioning.  The monitor
     chooses  the  nearest  request  for  positioning (CHVFP times -1)
     before taking the longest waiting request.

CHVIFT,10

     The standard initial fairness count for transfers.   The  monitor
     chooses  the  shortest  latency  for a transfer (CHVIFT times -1)
     before taking the longest waiting request.

PTRLEN,6

     The number of in-core retrieval pointers per file  length;   this
     offsets the size of the device data block.

FIL4WD,9

     The number of 8-word blocks allocated per job in a common pool of
     monitor  free  core.   The value of FIL4WD should be increased if
     the ENTER monitor call's error code 16 is received regularly.  To
     assign  this  space  the ONCE-Only code multiplies this factor by
     the number of jobs.  These blocks are used by  the  Level-D  Disk
     Service for active, dormant, ACC, NMB, PPB, and UFB blocks.  This
     pool is permanently reserved for these blocks and is not used for
     any other purpose.  Another pool is used for variable length core
     blocks, such as  disk  service  data  blocks  and  extended  exec
     push-down  lists.   The  system sets the minimum number of 4-word
     core blocks to 50 with 5 or fewer jobs.  The value is  set  to  5
     for 1040 systems.

UNVRSF,500

     The reciprocal factor of the total disk size.  The amount of disk
     space  is  subtracted  from  the  number  of free blocks when the
     monitor is started up.  This area is  not  available  for  users'
     data.   It is a safety factor that ensures there is room to write
     the second RIB, etc.  The standard reserved for this  purpose  is
     one five-hundredth of the disk space.

MBFN,2

     The number of 128-word monitor buffers used for the  reading  and
     writing  of  non-user  data.  This value must be at least 2.  The
     default for MBFN is the number of jobs divided by ten, plus  one.
     For example, the default for a 50 job system is 6.

LBNHOM,1 LB2HOM,10
GENERATE A MONITOR WITH MONGEN                               Page 8-43________ _ _______ ____ ______


     The standard logical block number on each unit that contains  the
     HOME  block.   Note that it is also possible to change this value
     for a specific disk unit as follows:

          xxxnHM,LBNHOM
          xxxnH2,LB2HOM

     Where:xxxn is the unit designation, e.g., DPA0HM, 3.

MFDSIZ,8

     The number of blocks allocated to the MFD  by  the  refresher  in
     each  file  structure.  The MFD can be longer than this but there
     is a speed advantage to consecutive blocks.  Increase this  value
     if the MFD is normally longer than 8 blocks.

LIMLVL,0

     The maximum number of nested SFDs for this monitor.  The  maximum
     value for LIMLVL is 5.

MAXUSI,8

     The maximum negative USETI for reading an extended RIB.



8.15  OCTAL DEFAULT VALUES      _____ _______ ______

This section contains  a  description  of  the  standard  symbols  and
default  octal  values  assumed by the MONGEN program.  Section 8.15.1
lists those symbols defined in COMMON;  and Section 8.15.2 lists those
symbols  defined  in  COMMOD.   All symbols are listed in the order in
which they are defined.



8.15.1  Symbols Defined in COMMON        _______ _______ __ ______

A00CVN, 0

     The customer version number.

A00MVN, 603

     The major version number.

XPANDN,0

     The value affects the listing of  COMMON.   If  it  is  non-zero,
     COMMON MACRO expansions are listed.

APRSN,0

     The serial number of the arithmetic processor.

DEFDEB,0

     Defines the stop code  conditions  under  which  the  monitor  is
     automatically  reloaded.   The  default value of 0 indicates that
     the monitor is reloaded with the STOP category of stop codes.   A
     value of 100000000000 indicates that the monitor is reloaded with
     JOB stop codes;  a  value  of  200000000000  indicates  that  the
     monitor  is  reloaded  with  DEBUG  stop  codes;   and a value of
GENERATE A MONITOR WITH MONGEN                               Page 8-44________ _ _______ ____ ______


     300000000000 indicates that the monitor is reloaded on all  types
     of  stop  codes.   If  the  value is 400000000000, auto-reload is
     disabled.  If the value is 200000000000, the system stops if  the
     CPU halts.  (Refer to the specification STOPCD.RNO.)

M.WCH, JW.WMT

     The WATCH bits used to set the initial WATCHing.   Because  LOGIN
     sets  JBTWCH,  this  is  useful  only  for lines that do not need
     LOGIN, that is those using INITIA.

     bit 19 =  200000      =         Time of day started to wait
     bit 20 =  100000      =         RUN time
     bit 21 =  40000       =         WAIT time
     bit 22 =  20000       =         Blocks read
     bit 23 =  10000       =         Blocks written
     bit 24 =  4000        =         Version numbers
     bit 25 =  2000        =         MTA statistics



8.15.2  Symbols Defined in COMMOD        _______ _______ __ ______

PRVFIL,057

     The standard file protection code.

PRVUFD,775

     The standard User File Directory (UFD) protection code.

SYRDPR,355000

     This  value  is  set  by   the   refresher   and   it   indicates
     non-privileged files on SYS:  (HOME.SYS, SAT.SYS).

SYNRPR,357000

     SYNRPR = 357000 indicates  that  privileged  files  are  on  SYS:
     (CRASH.EXE,  SNAP.SYS, RECOV.SYS, BADBLK.SYS, SWAP.SYS).  Used by
     the refresher.

MFDPRV,555000

     The standard Master File Directory (MFD)  protection  code.   All
     users  can  READ,  LOOKUP,  but  not  CREATE  files.   Set by the
     refresher.

SYSPRV,775000

     The  SYS  User  File  Directory  (UFD)  protection   code;    the
     project-programmer  number  is  1,4.  Project 1 members can READ,
     CREATE, LOOKUP files;  others can READ and LOOKUP only.   Set  by
     the refresher.

BLKMAX,100000

     The maximum number of blocks that can be transferred in one  disk
     file  operation  (IOWD).   This default value is so high that the
     effective limit is one cylinder boundary.

PRVSPL,077

     The default protection code for spooled files.
GENERATE A MONITOR WITH MONGEN                               Page 8-45________ _ _______ ____ ______


PRVSYS,155

     The default protection code for most files on SYS:  (except files
     with the .SYS extension).

PRYSYS,157

     The default protection code for .SYS file on SYS:.




8.15.3  Symbols Defined in COMDEV        _______ _______ __ ______

MTDLPT,1

     Standard magtape labels are ASCII.



8.16  SIXBIT DEFAULT VALUES      ______ _______ ______

The following list is  a  description  of  the  standard  symbols  and
default  SIXBIT  values  assumed by the MONGEN program.  (Refer to the
description of the DESTROY startup option in the HDWGEN section.)

M.QSTR,0

     Force queues to be placed on a specific STR.

M.SF00,DSKA
     The name of the first file structure to contain fixed  head  disk
     units  (e.g.,  FHA, FHB, etc.) when the DESTROY startup option is
     invoked.   The  value  (DSKA)  may  be  any  1-  to   4-character
     alphanumeric  name  beginning with a letter.  The number of fixed
     head units in the structure is  set  by  the  associated  decimal
     symbol  M.ZF00.   Note that the DEC-distributed software sets the
     name of the first file structure, which contains all  fixed  head
     units, to DSKA.

M.SFxx,aaaa
     The name of the second  through  sixteenth  structure  containing
     fixed  head  disk  units  (where  xx  =01....15,  and aaaa is any
     4-character alphanumeric name  beginning  with  a  letter).   The
     number  of  fixed  head  units  in  the  structure  is set by the
     associated decimal symbol M.ZFxx.  Note that the  DEC-distributed
     software  does  not define these symbols, because it assumes that
     all fixed head units are incorporated into one structure,  called
     DSKA.

M.SD00,DSKB
     The name of the first file structure to contain disk  pack  units
     (e.g., DPA, DPB, etc.) when the DESTROY startup option is invoked
     by the operator.  The value (DSKB) may be any 1-  to  4-character
     alphanumeric  name  beginning  with a letter.  The number of disk
     pack units is set by the decimal symbol M.ZD00.   Note  that  the
     DEC-distributed   software  sets  the  name  of  the  first  file
     structure, which contains all disk packs, to DSKB.

M.SDxx,aaaa
     The name of the second  through  sixteenth  structure  containing
     disk  pack units (where xx =01....15, and aaaa is any 4-character
     alphanumeric name beginning with a letter).  The number  of  disk
     pack  units  in  the  structure  is set by the associated decimal
GENERATE A MONITOR WITH MONGEN                               Page 8-46________ _ _______ ____ ______


     symbol M.ZFxx.  Note that the DEC-distributed software  does  not
     define  these  symbols because it assumes that all disk packs are
     incorporated into one file structure called DSKB.

M.SSxx,aaaa

     The name of the first file structure to contain RH10s/RS04s  when
     the  DESTROY  startup  option  is  invoked  by the operator.  The
     number of fixed head  units  in  the  structure  is  set  by  the
     associated decimal symbol M.ZS00.

M.SRxx,aaaa

     The name of the first file structure to contain RH10s/RP04s  when
     the  DESTROY  startup  option  is  invoked  by the operator.  The
     number of fixed head  units  in  the  structure  is  set  by  the
     associated decimal symbol M.ZR00.



8.17  NON-STANDARD DEVICE PI ASSIGNMENT      ____________ ______ __ __________

Under ordinary circumstances when COMMON  is  assembled,  devices  are
assigned  to PI channels according to their group priority.  (Refer to
Table 8-1.)  If you have at your installation a device not listed as a
standard  device  in  Table  9-1 and you have written your own Monitor
Device Service Routine, you must specify the  device  mnemonic  (in  3
characters  or  less)  and designate an appropriate priority interrupt
channel.  You must answer all three questions as they  apply  to  your
configuration.  The first question

     TYPE "DEVICE-MNEMONIC,PI-CHANNEL" FOR SPECIAL DEVICES

requests special device service routines that do  not  need  either  a
Channel Save Routine or a Device Data Block.  The second question

     TYPE "DEVICE-MNEMONIC,PI-CHANNEL, NO.-OF-DEVICES"

requests devices with special service routines that have a Device Data
Block but no Channel Save Routine.  The third question

     TYPE "DEVICE-MNEMONIC,PI-CHANNEL, HIGHEST-AC-TO-SAVE"

requests devices with special service routines  that  have  a  Channel
Save Routine, but no Device Data Block.

Special devices that you added during the HDWGEN dialogue are  chained
to  the  requested  channel.   To give a device the exclusive use of a
channel, you respond to the "symbol,value" question with

     UNIQn,1

where n is the priority interrupt channel to be reserved.   (Refer  to
the UNIQn,1 entry in Section 8.14.1.)

One or more priority interrupt channels may be reserved for  real-time
devices  with  the  RTTRP  monitor call.  These devices are completely
controlled by user programs and have no specific code loaded with  the
monitor.   To reserve a priority interrupt channel for use with RTTRP,
you should respond to the "symbol,value" question with

     RTCHn,1

where n is the priority interrupt channel to be reserved.
GENERATE A MONITOR WITH MONGEN                               Page 8-47________ _ _______ ____ ______


(Refer to the RTCHn,1 entry in Section 8.14.1 and to the  DECsystem-10
Monitor Calls manual.)

I/O devices are grouped by their relative interrupt  speeds.   If  any
device  of  a particular group is present, a PI channel is assigned to
that device according to its group  priority.   Group  priorities  for
standard  devices may be revised by rearranging the devices in INTTAB,
which is in the COMMON source file.


                              Table 8-1
               Device Groups for PI Channel Assignment


  Device Mnemonic   Group               Name


     DCB              A       136 data control for 270 disk

     MTA              B       TM10n magtape data channel
     MTB

     DCT              C       136 data control for 551 or  516  tape
                              controls

     DTA              D       TD10 DECtape data channel
     DTB

     CDR              E       461 or CR10 card reader

     APR              E       KI10,   KA10,   or   166    arithmetic
                              processor

     RTC              E       DK10 real-time clock (each CPU)

     SCN              F       Terminal scanner

     PTR              F       Paper-tape reader

     LPT              F       Line printer

     DTA              F       DECtape flag channel

     MTA              F       Magtape flag channel
     MTB

     CTY              F       Console terminal

     NET              F       Remote devices

     DSK              G       Disk flag channel

     PEN              G       Light pen

     PTP              G       Paper-tape punch

     CDP              G       Card punch

     PLT              G       Plotter

     DIS              H       Display data channel

     CLK              I       Scheduler,  clock   routines   (always
                              assigned to channel 7)
GENERATE A MONITOR WITH MONGEN                               Page 8-48________ _ _______ ____ ______


8.18  TERMINAL INTERFACE LINE NUMBERS      ________ _________ ____ _______

The DC10 data line scanner is capable of handling up to a total of  64
lines  (physical  ports).   The lines are monitored by scanners of two
types -- a DC10B or a DC10E.  Each DC10B is designed to  handle  eight
lines of terminal communications, and each DC10E is designed to handle
eight lines of dataset control.   When  using  a  terminal  through  a
dataset,  both  a DC10B and a DC10E line are required.  The DC10E line
interfaces the dataset control signals to system decipherable signals,
and the DC10B line carries the teletype information.

When the monitor assigns terminal numbers  to  DC10  lines,  only  the
DC10B  lines receive numbers.  The reason for this action is that each
DC10E line must be paired with a  DC10B  line  to  function  properly,
making an additional number unnecessary.

Each installation's system administrator must  determine  which  DC10E
dataset  controllers are wired to which DC10B lines.  (Refer to Figure
8-2, where line numbers 10 through 17 are DC10B dataset lines that are
hardwired to the DC10E controller lines 20 through 27.)

The sequence of line number assignments for DC76s is:

                    DC10  0
                    DC10  1
                    DC68  0
                    DC68  1
                    DC76  0
                    DC76  1

                    Remote lines

                    CTYs
                    PTYs
GENERATE A MONITOR WITH MONGEN                               Page 8-49________ _ _______ ____ ______



























                 Figure 8-1 One DC10 with Two DC10Bs

























           Figure 8-2 One DC10 with One DC10B and One DC10E
GENERATE A MONITOR WITH MONGEN                               Page 8-50________ _ _______ ____ ______



























                  Figure 8-3 One DC76 with 33 Lines

























  Figure 8-4 One DC10 with Two DC10Bs and One DC68 with Eight Lines
GENERATE A MONITOR WITH MONGEN                               Page 8-51________ _ _______ ____ ______


8.19  MONGEN ERROR MESSAGES      ______ _____ ________

?ANSWER MUST BE ONE OR (ANS0, ANS1,...)

     Your response to this question was not a legal response.   Choose
     one of the responses within parentheses.

?ANSWER WITH ONE OF THE CHOICES WITHIN PARENS

     You responded to a multiple choice question with an  answer  that
     was  not  one  of the choices.  Reanswer the question with one of
     the supplied choices typed within parentheses after the question.

?CANNOT BE SAME AS CPUn

     When you responded with the serial number of a CPU, your response
     matched  the  response for another CPU.  Retype your response and
     press the carriage return.

?DEVICE n NOT AVAILABLE

     The device you requested is not available at this  time.   Select
     another device or wait until the desired device is ready.

?HIGHEST-AC-TO-SAVE MUST BE N OR LESS

     You specified an illegal AC number in response to  the  question.
     Reanswer the question and press the RETURN key.

%MORE THAN 6 CHARACTERS

     In answer to question number 9 within the Networks  Configuration
     dialogue,  you  responded  with a central site name longer than 6
     characters.  Reanswer the  question  with  a  central  site  name
     having fewer than 6 characters.

%MORE THAN 24 CHARACTERS

     In answer to question number 4 within the Hardware  Configuration
     dialogue,  you  responded  with  a  system  name  longer  than 24
     characters.  Reanswer the question  with  a  system  name  having
     fewer than 24 characters.

?MUST BE IN RANGE MIN-MAX

     You specified an answer that was not within  the  legal  response
     range  of min to max.  Reanswer the question with a value that is
     within the legal range.

?NO DEFAULT RANGE ALLOWED, TYPE A NUMBER

     In response to a question, you pressed the RETURN key.  There  is
     no  default  answer  for this question.  Reanswer the question by
     typing a response before pressing the RETURN key.

?NO DEFAULT VALUE ALLOWED

     In answer to a  question,  you  pressed  the  RETURN  key.   This
     question,  however,  does  not  have  a  default answer.  Type an
     answer in response to the question before you  press  the  RETURN
     key.

?NOT AVAILABLE IN x MONITOR
GENERATE A MONITOR WITH MONGEN                               Page 8-52________ _ _______ ____ ______


     A feature was specified that is not available in the monitor  you
     are  generating.  Check the response MONGEN typed after you typed
     R MONGEN;  make sure that you are using the  appropriate  version
     of MONGEN.

?NOT DEV:FILE.EXT P,PN

     Your response was not in the  legal  file  specification  format;
     retype your response and press the RETURN key.

?NOT DEVICE-MNEMONIC, PI-CHANNEL

     Your response to the question was  not  in  the  desired  format.
     Retype your response in the correct format.

?NOT DEVICE-MNEMONIC, PI-CHANNEL, HIGHEST-AC-TO-SAVE

     Your response to the question was  not  in  the  desired  format.
     Reanswer the question in the correct format.

?NOT DEVICE-MNEMONIC, PI-CHANNEL, NO.-OF-DEVICES

     Your response to the question was  not  in  the  desired  format.
     Reanswer the question in the correct format.

?NOT "SWITCH.VALUE" OR KEYWORD

     Your response to  the  question  was  not  legal.   Reanswer  the
     question and press the RETURN key.

?NOT "SYMBOL.VALUE"

     Your response to the  question  was  not  in  the  legal  format;
     reanswer the question and press the RETURN key.

?TYPE ENOUGH TO UNIQUELY DISTINGUISH ANSWER

     You abbreviated an answer to a question.   The  abbreviation  was
     not  long  enough to distinguish it from another possible answer.
     Reanswer the question without abbreviating the answer.

?TYPE OCTAL LINE NUMBER OR CTY OR CTY1 FOLLOWED BY A CARRIAGE RETURN

     Your response to the  question  was  not  what  MONGEN  expected.
     Reanswer  the  question  with a TTY line number, the word CTY, or
     the word CTY1.

?TYPE OCTAL M-N or M

     Type a range of numbers or a single number in  response  to  this
     question.

?TYPE OCTAL M-N,P OR M,P

     Your response  to  the  question  was  not  in  a  legal  format;
     reanswer  the question with a range of values before pressing the
     RETURN key.

?TYPE ONE ANSWER FOLLOWED BY A CARRIAGE RETURN

     You supplied more than one answer  to  the  question.   Type  one
     answer and press the RETURN key.

?TYPE SINGLE NUMBER FOLLOWED BY A CARRIAGE RETURN
GENERATE A MONITOR WITH MONGEN                               Page 8-53________ _ _______ ____ ______


     In response to the question you  supplied  more  than  one  digit
     number,  when  only one digit is legal.  Retype your response and
     press the RETURN key.

?UNKNOWN SWITCH

     You have specified a switch that is unknown to MONGEN.  Refer  to
     the list of legal switches.  Type one of them before pressing the
     RETURN key.












                              CHAPTER 9

                         ASSEMBLE MACRO FILES                         ________ _____ _____



It is always necessary that you assemble F, S, HDWCNF, TTYCNF, NETCNF,
COMMON,  COMDEV  and  COMMOD  (and  NETPRM  and  COMNET,  if  you have
purchased network software) because they are  configuration-dependent.
The following command string can be used to assemble these files.

For KL10 systems only, type the following:

 .COMPILE DTEPRM

For all systems, type the following:

 .COMPILE F/COMP,S/COMP,HDWCNF+NETCNF+TTYCNF+<COMMON,COMDEV,COMMOD>

If you responded  Y  to  the  MONGEN  question  DO  YOU  WANT  NETWORK
SOFTWARE, type the following command line instead of the one above.

     .COMPILE F/COMP,S/COMP,NETPRM/COMP,HDWCNF+NETCNF+TTYCNF+<COMMON,
     COMDEV,COMNET,COMMOD>

It is important that F.MAC precede S.MAC  because  S  has  conditional
assemblies depending on the contents of F.

If you are  using  a  standard  combination  of  feature  test  switch
settings  and  DEC-supplied  sources,  you do not need to assemble the
remainder of the bundled monitor modules  because  they  have  already
been  assembled  and  combined  in  a  TOP?10.REL  file (see tables on
following pages).

If you are not using a standard combination  of  feature  test  switch
settings or you have SOUPed in your own changes, you must assemble all
the bundled monitor sources.  The  simplest  way  to  do  this  is  to
compile  indirectly the appropriate .CMD file (see tables on following
pages).  For example, to  assemble  all  the  bundled  sources  for  a
standard KI monitor, type:

     .COMPILE @CONKI

You must assemble any unbundled software.  To assemble  monitors  with
the  virtual memory option, substitute TOPV10.REL (KI10) or TOPW10.REL
(KL10) for TOPI10.REL in the command line.

To assemble  monitors  with  the  DC44  option,  issue  the  following
command:

     .COMPILE F, S, TYPSER

And then link your monitor in the prescribed fashion.

To assemble monitors  with  the  DAS78  option,  issue  the  following
ASSEMBLE MACRO FILES                                          Page 9-2________ _____ _____


command line:

     .COMPILE F, S, D78INT

Then, link your monitor in the prescribed fashion.   For  installation
instructions  concerning  the  -11  portion  of  the DAS78 and D78SPL,
carefully read D78MNT.RNO,  DAS78.RNO,  and  DAS78.RND  found  on  the
unbundled distribution tape.

To assemble monitors with the  XTCSER  options,  issue  the  following
command:

     .COMPILE F, S, XTCSER

Then, link your monitor in the prescribed fashion.

If you also want to create cross-reference (CREF)  listings,  assemble
all  the sources for your monitor with the CREF switch, i.e., /C.  The
simplest way to do this is to assemble the appropriate  command  files
indirectly to produce .REL files and CREF input files.  Then, CREF can
generate the listings.  (See the example below.)

The table below lists the different MACRO indirect command  files  for
both  bundled  and  unbundled  software.   The  intermediate .REL file
extensions are the extensions specified for the .REL files in the .CMD
files.


CONFIGURATION         BUNDLED        INTERMEDIATE
                      SOFTWARE       .REL FILE
                      FILENAME       EXTENSIONS

KA-LUG                CONLUG.CMD     *.RLG
KA-Standard           CONKA.CMD      *.RLA
KI-LUG                CONLGI.CMD     *.RLH
KI-Standard           CONKI.CMD      *.RLI
KI-Virtual Memory     CONVI.CMD      *.RLV
KL-Virtual Memory     CONVL.CMD      *.RLW


After assembling the monitor sources, you may need to combine  certain
modules  into  a  TOP?10.REL  file.  If you are not using a TOP?10.REL
file from the distribution tape, because  you  have  used  nonstandard
feature test switch settings or you have modified the DEC sources, you
must create your own TOP?10.REL file.

To combine the assembled monitor modules and make TOPI10.REL for a  KI
system type:

     .R PIP

     *CMBKI@

     .

Note  that  indirect  PIP  files  exit  directly  to   monitor   level
(. prompt).   Therefore,  you  must  specify  R  PIP  or  START  after
specifying an indirect command file name.

To produce the proper  TOP?10.REL  for  your  configuration,  use  the
appropriate PIP indirect command files from the list below.


CONFIGURATION       SOFTWARE      .REL
ASSEMBLE MACRO FILES                                          Page 9-3________ _____ _____


                    FILENAME    CREATED

KA-LUG              CMBLUG.CCL  TOPG10.REL
KA-Standard         CMBKA.CCL   TOPA10.REL
KI-LUG              CMBLGI.CCL  TOPH10.REL
KI-Standard         CMBKI.CCL   TOPI10.REL
KI-Virtual Memory   CMBVI.CCL   TOPV10.REL
KL-Virtual Memory   CMBVL.CCL   TOPW10.REL


EXAMPLE:  For a standard KI  system  you  would  assemble  the  source
files,  produce  a  complete  set  of  CREF  files  (cross  referenced
listings)  on  magtape,  produce  TOPI10.REL  and  a  listing  of  the
monitor's global symbols as follows:

     .COMPILE/C@CONKI

     .ASSIGN MTA LPT

     .CREF

     .R PIP

     *CMBKI@
     .

Save your terminal output from the CREF command so you will  know  the
order of the files on the magtape.

Whenever you want to print the entire set  of  monitor  source  files,
mount the tape created in the previous step and type:

     .R PIP

     *MTAn:(MW)=
     *LPT:=MTAn:*.*

If you want to print a single file from the magtape, advance the  tape
to the proper position and PIP the file to the line printer.  Use your
terminal output that you saved from  the  CREF  command  to  determine
where the desired file is on the tape.

Then to get a listing of the monitor  global  symbols,  you  must  run
GLOB.   To  produce  a  GLOB  listing  for  a standard KI monitor with
network software and some unbundled software type:

     .R GLOB

     *COMMON,COMDEV,COMNET,COMMOD

     *DSK:TOPI10.GLB=TOPI10$

where $ is an ESCAPE or ALTMODE.

If you assembled the sources with CONKI.CMD, add the extension .RLI to
COMMON,COMDEV,COMNET, and COMMOD in the above command string.












                              CHAPTER 10

                      LOAD AND SAVE THE MONITOR                      ____ ___ ____ ___ _______



Whether or not you  can  load  the  monitor  under  timesharing  using
LINK-10  depends  on  how much user core is available.  In general, if
your installation has about 50K of user core, you should  be  able  to
load  the  new  monitor using LINK-10.  If you have significantly less
user core than this, consult your software specialist for  details  on
loading the monitor.

The following sequence of instructions loads and saves a monitor for a
standard configuration with no unbundled software:

     .R LINK

     */NOINITIAL /HASH:6000 YURMON/SAV,YURMON/MAP = /LOCALS -
     #/MAXCOR:60K -
     #,COMMON,COMDEV,COMMOD,TOP?10 /SEARCH /GO

The filename YURMON is an arbitrary name chosen for the monitor;   you
may  use  any  file  name.   Specify  the TOP?10 to correspond to your
system configuration:

     TOPG10 for KALUG
     TOPA10 for KA standard
     TOPH10 for KILUG
     TOPI10 for KI standard
     TOPV10 for KI-virtual memory
     TOPW10 for KL-virtual memory

Note that COMMON, COMDEV, and COMMOD in this example were generated by
the  COMPILE  commands  at  the  beginning  of  Chapter  9,  so  their
extensions are .REL.  If an indirect compile was done on a .CMD  file,
the  extension  created  by  the .CMD file would have to be specified.
For example, if .COM @CONKI  was  used,  you  would  have  to  specify
COMMON.RLI, COMDEV.RLI, and COMMOD.RLI.

The TOPI10.REL (or the appropriate TOP?10.REL) file  can  be  the  one
from  the  monitor  distribution tape or one created by assembling all
the monitor sources with the proper .CMD  file  (see  Chapter  9)  and
combining them with the proper .CCL file (necessary if you are using a
nonstandard combination of feature test switch settings  or  you  have
SOUPed in your own changes).  (See Chapter 8.)

If your monitor includes one or more  unbundled  options  (other  than
virtual  memory),  restore  the  unbundled  monitor  modules using the
following procedure.  Repeat the procedure for each unbundled tape.

     .R BACKUP

     /TAPE MTxn          ;the tape drive with
                         ;the unbundled tape
LOAD AND SAVE THE MONITOR                                    Page 10-2____ ___ ____ ___ _______


                         ;on it.
     /RESTORE filename   ;for example, D78INT.MAC
     !                   ;BACKUP's indication that it
                         ;is busy
     "DONE
                         ;repeat above, beginning with
                         ;/TAPE for each unbundled tape
     ^C                  ;CTRL/C when you are finished.

Then, you should compile  the  files  on  the  unbundled  tapes.   For
example,  to  compile the D78INT and TSKSER options, you would use the
following command line:

     .COMPILE F, S, D78INT, TSKSER
     MACRO:F
     MACRO:S
     MACRO:D78INT
     MACRO:TSKSER

Lastly, you should type the following command line to load the monitor
with unbundled software.

     .R LINK

     */NOINITIAL/HASH:6000 YURMON/SAV,-
     #YURMON/MAP = /LOCALS/MAXCOR:60K-
     #COMMON, COMDEV, COMMOD, unbmod,...unbmod-
     #TOP?10/SEARCH/GO

Where:  unbmod can be COMNET,
        TSKSER, TYPSER, XTCSER, and/or
        D78INT.

The files included in each of  the  unbundled  software  packages  are
listed below:

Be sure that the unbundled package  name  (e.g.,  XTCSER,  TYPSER,  or
D78INT)  precedes  TOP?10.   This  must be done so that .SYSINI, ONCE,
etc.  will be loaded last  and,  therefore,  can  be  discarded  after
initialization.

Using the commands in the above examples, LINK will produce a load map
named  YURMON.MAP.   The  monitor  save  file  will  be YURMON.SAVE or
YURMON.HGH and YURMON.LOW.  These files  must  be  converted  to  .EXE
files  before they can be loaded with BOOTS.  This can be accomplished
by using the FILEX program or the monitor  commands  GET  followed  by
NSAVE.

Note that LINK-10 allows you to load and save a program  in  the  same
command  string.   Also,  certain  switch  settings  can  speed up the
loading process.  MAXCOR:60K is about the minimum core  necessary  for
loading  the  monitor;   if no parameter is set, however, LINK-10 will
expand to use up to one half the user core.  Using a HASH size of 6000
is  an  upper limit which should work for any system.  For the sake of
economy, if you have a smaller system, you  should  try  smaller  HASH
values.    LINK-10  will  work  without  specifying  either  of  these
parameters;  however, they may speed up the loading process  if  used.
For a complete definition of all switches refer to the LINK-10 manual.

Then, if you have built a two-segment monitor, you must  convert  your
monitor  .HGH  and  .LOW  files  to an .EXE file (and your system must
support .EXE files).  Type:

     .R FILEX
LOAD AND SAVE THE MONITOR                                    Page 10-3____ ___ ____ ___ _______


     *YURMON.EXE=YURMON.HGH

If you choose to have .EXE file support with a single segment monitor,
type:

     .R FILEX

     *YURMON.EXE=YURMON.SAV

Virtual Memory_______ ______

     VMSER.MAC    The 6.03 monitor source file that implements virtual
                  memory.

     TOPV10.REL   The combined .REL  files  for  KI10  virtual  memory
                  monitors.

     TOPW10.REL   The combined .REL  files  for  KL10  virtual  memory
                  monitors.

     CONVI.CMD    The command files needed for assembling KI10 virtual
                  memory monitors.

     CMBVI.CCL    The command files needed to create the combined .REL
                  files for KI10 virtual memory systems.

     CONVL.CMD    The command files needed for assembling KL10 virtual
                  memory monitors.

     CMBVL.CCL    The command files needed for creating  the  combined
                  KL10 virtual memory .REL files.

     MAKPFH.MAC   The page fault handler for KI10 and KL10 virtual
     MAKPFH.EXE   memory monitors.
     PFH.VMX

     DDT.VMX      The debugger to be used with virtual memory systems.

     GET.*        A user-mode program    to .GET    virtual  memory
     GET2.RNO     executable programs.

DC44 Option____ ______

     TYPSER.MAC   The 6.03 monitor source file  needed  for  the  DC44
                  interface.

DAS78 Option_____ ______

The following file is a part of the monitor code.

     D78INT.MAC   The 6.03 source file for the DAS70 interface.

The following files are part of the PDP-11 code.

     DAS78.CTL    The control fle needed to assemble the PDP-11 code.

     DAS78.P11    The source files for the DAS78 PDP-11 code.

     DAS78.BIN    The executable DAS78 PDP-11 code.

     DAS78.EX     The DDT11 file for the PDP-11 code.

The following files are  part  of  QUEUE  and  QMANGR,  for  use  with
DAS78SPL.
LOAD AND SAVE THE MONITOR                                    Page 10-4____ ___ ____ ___ _______


     D78SPL.CTL   The control file to assemble D78SPL.

     D78SPL.MAC   The source code for D78SPL.

     D78SPL.EXE   The executable code for D78SPL.

The following files are used for  DAS78  the  modified  LPTSPL.   This
program  is  used  for  2780s,  remote batch stations connected to the
DECsystem-10.  This modified LPTSPL can also be used to print  on  the
local line printer.

     SPOOL.CTL    The control file for assembling a DAS78 LPTSPL.

     SPOOL.D78    The source code for DAS78 modified SPOOL.

     LPTSPL.EXE   The executable code.

The following files support the DAS78 modified SPRINT.

This program is for use when using one 2780 as a Remote Batch  Station
to  the  DECsystem-10.  This modified SPRINT will also be used to read
cards from the local card reader.

     SPRINT.CTL   The control file for assembling a DAS78 SPRINT.

     SPRINT.D78   The source code for DAS78 modified SPRINT.

     SPRINT.EXE   The executable code.

The following files support the PDP-11 Debugging program.

     DDT11.MAC    Source for DDT11.

     DDT11.EXE    Executable code.

     DDT11.RNO    DDT11 document.

The following files support MODEM diagnostics.

     DQMODM.HLP   A short document on how to use DQMODM.

     DQMODM.BIN   The executable code.

The following are DOCUMENTS.

     DAS78.RNO    The  DAS78  "Cookbook"   -   WARNING:    Preliminary
                  version.

     DAS78.RND

     D78MNT.RNO   Installation hints and other useful information.

The following are miscellaneous files contained in the DAS78 option.

     C.MAC        Needed for assembling QUEUE.

     SCNMAC.MAC   Needed for assembling QUEUE.

     HELPER.REL   Needed for LPTSPL, SPRINT, and QUEUE.

     QUEUER.REL   Needed for LPTSPL, SPRINT, and QUEUE.

     SCAN.REL     Needed for QUEUE (V4).
LOAD AND SAVE THE MONITOR                                    Page 10-5____ ___ ____ ___ _______


     WILD.REL     Needed for QUEUE (V5).

Note:  The MACDLX assembler is required to assemble DAS78.P11, and the
BOOT11  bootstrap  is  required to load code from the -10 into the -11
memory.  Both these programs will be found on the main (bundled)  6.03
monitor distribution tape.

XTCSER Option______ ______

The following file is the XTCSER option.

     XTCSER.MAC   The 6.03 monitor source code for the DA28 driver.













                              CHAPTER 11

                    MAKE A COPY OF THE NEW MONITOR                    ____ _ ____ __ ___ ___ _______



This step is a precaution against losing the newly built monitor.   If
the  monitor  is accidentally destroyed, you need not rebuild it;  you
will have a copy in READIN mode available on tape.

Copy BOOTM, BACKUP.EXE, and your newly built monitor to magnetic tape.
You must copy the files at 556 bpi for READIN mode on TM10 controllers
and at 800 or 1600 bpi for TU70s.  The entire tape must be written  at
one density.

The  following  steps  create  a  backup  monitor  tape  for  a   TM10
controller.   First,  be sure to read the BOOTM description in Chapter
18 on how to create BOOTM.REL and BOOTM.RDI.

     .AS MTA0: BACKUP

     .SET DENSITY MTA0:556

     .SET BLOCKSIZE MTA0:2000

     .REWIND MTA0:

     .COPY MTA0:=BOOTM.REL

     .SET BLOCKSIZE MTA0:128

     .COPY MTA0:=BACKUP.EXE

Then, BACKUP your disk area that contains your new monitor by typing:

     .R BACKUP

     /DENSITY 556
     /SAVE DSKB:[ppn]=DSKB:[ppn]*.*

The following steps create a backup monitor tape for TU70s:

     .AS MTA0: BACKUP

     .REWIND MTA0:

     .COPY MTA0:=BOOTM.RDI

     .COPY MTA0:=BACKUP.EXE

Then, BACKUP your disk area that contains your new monitor by typing:

     .R BACKUP

     /SAVE[1,2]*.*=[1,2]*.*












                              CHAPTER 12

                        COMMUNICATION SYSTEMS                        _____________ _______



Prepare for Communications Systems and Remote Stations

     1.  DC71 - Instructions  for   installing   and   usng   a   DC71
         Communications  System are in the Remote Station User's Guide
         in the DECsystem-10 Software Notebooks.

     2.  DC72 - Instructions  for  installing   and   using   a   DC72
         Communications  System are in the Remote Station User's Guide
         in the DECsystem-10 Software Notebooks.

     3.  DC76 - Instructions  for  installing  a  DC76  Communications
         System  are  in  the  Operators  Guide  in  the  DECsystem-10
         Software Notebooks.

     4.  Installations that plan to install  remote  station  software
         for the first time should contact their software specialist.













                              CHAPTER 13

                       UPDATE ACCOUNTING FILES                       ______ __________ _____



Under the phased installation concept, if you are  running  a  current
monitor,  you have already converted the accounting files ACCT.SYS and
AUXACC.SYS to 6.02 format using the latest version of REACT.   If  you
have  not  yet  converted  the accounting files, LOGIN under [1,2] and
convert to the new format at this time.

If you have no previously  running  monitor,  you  must  generate  the
initial   accounting   files   or   augment   the   Digital  Equipment
Corporation-supplied accounting files using REACT.

     1.  ACCT.SYS - passwords and privileges for all users.

         To convert to the new format,  simply  read  the  old  format
         ACCT.SYS  with  the  R  command  and write it back with the W
         command.  Be sure the latest version of REACT is on SYS:

         Type:

              .R REACT

         Optional:  For help in running REACT type:

              */H

         then type:

              *R

              *W DSKA:[1,4]


                                    CAUTION

             Make sure that you are using the  latest  version  of
             ACCT.SYS.   If you have a copy of ACCT.SYS on several
             file structures, make sure  each  structure  has  the
             latest version.

             Also, do not use the passwords supplied in  ACCT.SYS.
             The  passwords  are  well  known and using them could
             decrease system security.



     2.  AUXACC.SYS - disk file structure quotas for all users.

         Because device DSK:  for any job is defined by the job's file
         structure search list, different jobs may have different, and
         possibly nonintersecting, definitions  of  DSK:.   Therefore,
UPDATE ACCOUNTING FILES                                      Page 13-2______ __________ _____


         one  job  could reference a file as DSK:filename when another
         job could not (although that job could possibly reference the
         file  by  specifying  the  file  structure  on which the file
         exists).

         To circumvent this problem, you or the  system  administrator
         can  specify all public file structures in the AUXACC entries
         for all users.  If you do not want a user to have space on  a
         particular  file  structure,  specify a logged-in quota of 0.
         In this case, no UFD is created for the user when he logs in,
         but  the file structure is included in the user's search list
         so that he can always reference  other  files  on  that  file
         structure as device DSK:.

         To convert the AUXACC  files,  type  the  following  to  6.03
         REACT:

              *A

              *W DSKA:[1,4]

         and to put a second copy on a slower file structure, type:

              *W DSKB:[1,4]













                              CHAPTER 14

                           GET NEW MONITOR                           ___ ___ _______



You can now get the new monitor from disk with BOOTS or  from  magtape
with BOOTM.

If you have a KL10 system, begin reading at Step B1.  If  you  have  a
KA10 or KI10 system, begin reading below at Step A1.  Note that all of
the instructions in this chapter assume that you have a saved copy  of
the  monitor  called  SYSTEM.EXE on [1,4] on either DSKA:, DSKB:, ...,
DSK0.

Step A1 READIN BOOTS.____ __

If the monitor was previously running, follow  Situation  A.   If  you                                               _________  _
have  an  RP04  and  BOOTS  was  previously  written on blocks 0 and 4
through  7  of  the  disk  packs  with  WTBOOT,  follow  Situation  B.                                                         _________  _
Otherwise, follow Situation C.                  _________ _

Situation A:  Monitor previously running_________ _

     1.  Set the NXM switch to off.

     2.  Set the memory address switches to 407.

     3.  Push the START button.

     4.  BOOTs responds with  a  carriage  return.   If  there  is  no
         response, try Situations B or C.

     5.  Type a carriage return to load SYS:SYSTEM.EXE from  any  disk
         (DSKA  through  DSK0).   If  some  other  file, directory, or
         structure is desired, type a line in the following format:

              structure:file.ext[directory]

         BOOTs types a bell and a question mark if it cannot find  the
         file, or if any errors occur while reading the file.

     6.  If successful, refer to step C1.

Situation B:  RP04 Readin_________ _

     1.  Set the NXM and PAR STOP switch

     2.  Set the READIN switches to 270.  (If you have multiple RH10s,
         you may have to set the READIN switches to 274 or 360).

     3.  On the READIN panel in the RH10, set  the  toggle  switch  to
         DISK,  and set the thumbwheel to the READIN unit number.  (If
         the DF10C is in KI mode, use an odd-numbered unit.  If it  is
         in  KA mode or the RH10 is using a DF10, use an even-numbered
GET NEW MONITOR                                              Page 14-2___ ___ _______


         unit.)

     4.  Push the STOP button.

     5.  Push the RESET button.

     6.  Push the READIN button.

     7.  BOOTS responds with  a  carriage  return.   If  there  is  no
         response, try the procedure for Situation C.

     8.  Type a carriage return to load SYS:SYSTEM.EXE from  any  disk
         (DSKA  through  DSK0).   If  you  want a different structure,
         file, or directory from the  default,  type  a  line  in  the
         following format:

              structure:file.ext[directory]

         BOOTS types a bell and a question mark if it cannot find  the
         file or if any errors occur while reading the file.

     9.  If successful, turn to step C1.

Situation C:  Read BOOTS from paper-tape reader_________ _

     1.  Push the STOP button.

     2.  Push the RESET button.

     3.  Put the BOOTS tape in the paper tape reader.

     4.  Set the NXM switch to off.

     5.  Set the READIN switches to 104.

     6.  Push the READIN button.  The paper tape should begin to move.
         If it does not, retry the procedure at least once.

     7.  BOOTS responds with a carriage return when loaded.  If  there
         is no response, retry the procedure at least once.

     8.  Type a carriage return to load SYS:SYSTEM.EXE from  any  disk
         (DSKA  through  DSK0).   If  you  want a different structure,
         file, or directory from the  default,  type  a  line  in  the
         following format:

              structure:file.ext[directory]

         BOOTS types a bell and a question mark if it cannot find  the
         file or if any errors occur while reading the file.

     9.  If successful, turn to Step C1.

Step A2 Readin a Monitor from Magtape Using BOOTM.____ __

The following instructions describe how you get a KA10 or KI10 monitor
from  magtape  with  BOOTM.   These instructions assume that BOOTM has
been written as the first file on the magtape, BACKUP  is  the  second
file,  and  there  is  a  BACKUP save set containing the monitor to be
loaded.

Note that when BOOTM detects an error, it types a bell and a  question
mark  followed  by  an error message.  The possible error messages are
listed in Chapter 16.
GET NEW MONITOR                                              Page 14-3___ ___ _______


Read BOOTM from magtape.  (If you have a dual-magtape system, you must
use MTA for READIN.)

     1.  Push the STOP button.

     2.  Push the RESET button.

     3.  Mount the magtape on MTA unit 0 write-locked.   (It  must  be
         mounted  on  unit  0  for  TM10  controllers or on the lowest
         numbered ready unit for TU70s.)

     4.  For a TM10-controlled magtape, set  the  READIN  switches  to
         340.  For a TU70 unit, set the READIN switches to 220.

     5.  Set the NXM switch to off.

     6.  Push the READIN switch.

     7.  The magtape should move and read in BOOTM from the first file

BOOTM outputs the prompt characters BTM>.  Then, you must give a  file
specification for the monitor you want to read;  for example:

     DSKB:603.EXE[1,4]

If you type a carriage return in response to BTM>, the default monitor
(SYS:SYSTEM.EXE[1,4])  will  be  read  in.   This default file will be
gotten from the magtape on the  same  unit  from  which  the  hardware
READIN  was  done.   If  BOOTM  was  not  read by hardware READIN from
magtape, the default for controller is TM10 and the default  for  unit
is 0.

Turn to Step C1.

Step B1 READIN BOOTS (KL10 Systems)____ __ ______ _____ _____ ________

In most cases you should only have to check  to  see  that  the  power
light  to  the  right of the load switches is glowing red.  Otherwise,
press the black power switch to the POWER ON position.

After powering up the system or deciding that you must do  a  complete
reload,  you  have  a  few  alternatives  on  how you load the console
front-end processor.  You can do a standard load from a disk  pack  or
DECtape,  or  you  can load using the swicth register.  In most cases,
you will load from a disk pack because it is much faster than DECtape.
However,  if  dual-port  hardware problems prevent loading from a disk
pack, or if your system manager wants you to use software residing  on
a  DECtape,  you  may need to load the system using the DECtape drive.
Also, if you need to load the system using some non-standard  hardware
configurations  or  special  software, you will have to use the switch
register.  The switch register allows you to load from any  disk  pack
or  DECtape  and  also  enter  the KL initialization operator dialogue
(KLINIT).  The KLINIT dialogue allows  you  to  take  such  nondefault
paths as configuring memory yourself, loading a bootstrap program from
any file, and  loading  a  nondefault  monitor.   The  procedures  for
loading  the  front-end  processor  via  a  disk pack (Situation A), a
DECtape (Situation B),  or  the  switch  register  (Situation  C)  are
described in the next three sections.

Situation A:  Loading RSX-20F from Disk_________ __  _______ _______ ____ ____

This is the most common way to load the console front end.  It assumes
that  the system power is ON, that all hardware and software have been
correctly installed, and that the disk pack has been mounted properly.
GET NEW MONITOR                                              Page 14-4___ ___ _______


Also,  the  disk  pack  containing  both  the  TOPS-10 monitor and the
RSX-20F front-end monitor must be on a dual-ported  drive  (controller
select  switch  points  to  A/B),  and  the  drive must be unit 0 with
respect to both the central and front-end processors.

The operation is as follows:

     1.  Set the ENABLE/DISABLE load switch to ENABLE.

         This will enable the other three load switches.

     2.  Press the DISK load switch.

         This will cause the front-end processor to access the disk on
         drive  0 and load the RSX-20F monitor.  The KL initialization
         program  (KLINIT)  is  loaded  and   the   default   hardware
         configurations  of cache and external memory are set up.  The
         bootstrap program for the TOPS-10 monitor is then loaded into
         the  central  processor  and  started.   The  following is an
         example of  the  output  you  will  receive  on  the  console
         terminal.

     RSX-20F V006A 0:16 21-JUN-76

     [SY0: REDIRECTED TO DB0:]
     [DB0: MOUNTED]
     KLI -- VERSION V002E RUNNING
     KLI -- MICROCODE VERSION 131 LOADED
     KLI -- ALL CACHES ENABLED
     LOGICAL MEMORY CONFIGURATION:
                       CONTROLLER
     ADDRESS  SIZE  RQ0  RQ1  RQ2  RQ3      CONTYPE INT
     000000   512K  04   FOR  ALL            DMA20  4
     KLI -- BOOTSTRAP LOADED AND STARTED

The first line of output tells you the version and the  creation  time
and date of the RSX-20F monitor for the front end.  The next two lines
tell you that DB0:  (the disk pack on drive 0) is  the  system  device
(SY0:)  for  the  front-end tasks.  The next eight lines are output by
the KL initialization program.  They document the  version  of  KLINIT
that  is running and tell you that the KL10 microcode was successfully
loaded, the cache was enabled, external  memory  was  configured,  and
that  the  bootstrap  program  for  the TOPS-10 monitor was loaded and
started.

If an error occurs during the  KL  initialization  program,  you  will
receive an error message preceded by "KLI -- ?" and you will be placed
in the KLINIT dialogue mode described in Appendix C of the  KL  Series
Operator's Guide.  (The loading of the TOPS-10 monitor is discussed in
Step B2.)

Situation B:  Loading RSX-20F from DECtape_________ __  _______ _______ ____ _______

This method of loading the console front end should  be  used  if  you
cannot  load  from  a disk pack or if you need a particular version of
software that is only on DECtape.  It assumes that the system power is
ON,  that  the proper software exists on DECtape, and that the DECtape
is mounted correctly on Unit 0.  Be sure to leave the DECtape  mounted
while the system is running.

The operation is as follows:
GET NEW MONITOR                                              Page 14-5___ ___ _______


     1.  Set the ENABLE/DISABLE load switch to ENABLE.

         This will enable the other three load switches.

     2.  Press the DECTAPE load switch.

         This will cause the front-end processor to access the DECtape
         on   drive   0   and   load  the  RSX-20F  monitor.   The  KL
         initialization program (KLINIT) is  loaded  and  the  default
         hardware  configurations of cache and external memory are set
         up.  The bootstrap programs for the TOPS-10 monitor  is  then
         loaded into the central processor and started.  The following
         is an example of the output you will receive on  the  console
         terminal.

               RSX-20F V006A 0:16 21-JUN-76

               [SY0: REDIRECTED TO DT0:]
               [DT0: MOUNTED]
               KLI -- VERSION V002E RUNNING
               KLI -- MICROCODE VERSION 131 LOADED
               KLI -- ALL CACHES ENABLED
               LOGICAL MEMORY CONFIGURATION
                                 CONTROLLER
               ADDRESS  SIZE  RQ0  RQ1  RQ3  CONTYPE  INT
               000000   512K  04   FOR  ALL   DMA20    4
               KLI -- BOOTSTRAP LOADED AND STARTED

The first line of output tells you the version and the  creation  time
and date of the RSX-20F monitor for the front end.  The next two lines
tell you that DT0:  (the DECtape on  unit  0)  is  the  system  device
(SY0:)  for  the  front-end tasks.  The next eight lines are output by
the KL initialization program.  They give the version of  KLINIT  that
is  running  and  tell  you  that  the KL10 microcode was successfully
loaded, the cache was enabled, external  memory  was  configured,  and
that  the  bootstrap  program  for  the TOPS-10 monitor was loaded and
started.

If an error occurs during the  KL  initialization  program,  you  will
receive an error message preceded by "KLI -- ?" and you will be placed
in the KLINIT dialogue mode described in Appendix C of the  KL  Series
Operator's Guide.  (The loading of the TOPS-10 monitor is discussed in
Section 3.3.)

Situation C:  Loading RSX-20F via the Switch Register_________ __  _______ _______ ___ ___ ______ ________

You must load the console front end via the  switch  register  if  you
need to do any of the following:

     1.  Enable specific cache or configure external  memory  yourself
         instead of using the default configurations.

     2.  Load a TOPS-10 bootstrap program from  a  file  with  a  name
         other  than  BOOT.EXB;   for  example,  BOOTM.EXB  containing
         BOOTM, which loads a monitor from magnetic tape.

     3.  Load from a disk pack or DECtape that is not on unit 0.

The software for the front-end processor must reside on a  DECtape  or
disk  pack connected to the front end.  If both the front-end software
and the system monitor reside on the same disk pack, the pack must  be
mounted  on  a dual-ported drive and the controller select switch must
be set to A/B.
GET NEW MONITOR                                              Page 14-6___ ___ _______


The operation is as follows:

     1.  Set the ENABLE/DISABLE load switch to ENABLE.

         This will enable the other three load switches.

     2.  Set  the  appropriate  switches  (or  bits)  in  the   switch
         register.

         Switch 0 is mandatory when loading via the  switch  register.
         Switches  1  and 2 must be set on if you intend to use the KL
         initialization dialogue (KLINIT).  If RSX-20F  resides  on  a
         disk  pack,  set  switch  7  on;  if RSX-20F is on a DECtape,
         switch 7 must be off.  Switches 8-10 must be set  to  specify
         the  drive  number  of  the disk or DECtape.  (For a detailed
         description of all the bit settings in the  switch  register,
         see Table 14-1.)


                              Table 14-1
                   Switch Register Bit Definitions


  Bit                              Meaning


  0            If this is set, the remaining bits  are  interpreted.
               You must set this to load via the switch register.

  1,2          If both  are  set,  the  KL  initialization  operator
               dialogue (KLINIT) is loaded and started.  This is the
               usual case when loading via the switch register.

               If either one is set,  the  RSX-20F  is  loaded;   no
               communication  is  initiated  between the -10 and the
               -11 processors at this time.

               If both are not set, the system is loaded  much  like
               it  is via the DISK or DECTAPE load switch.  However,
               because other bits are interpreted, you  can  specify
               the unit number of the bootstrap device in bits 8-10.

  3-6          Currently not used, and must not be set.

  7            If this is set, the bootstrap device is a  disk  pack
               on a dual-ported drive.

               If this is not set, the bootstrap device is a DECtape
               drive on the front-end processor.

  8-10         These three bits allow you to specify the unit number
               of  the  bootstrap  device  (0  to  7).   No bits set
               indicate unit 0;  bits 9 and 8 set indicate unit 3.

  11-14        Currently not used, and must not be set.

  15           This indicates the action taken  when  an  I/O  error
               occurs during the bootstrapping.  If this is set, the
               operation is retried indefinitely if an error occurs.
               If not set (the normal case), a halt occurs after ten
               unsuccessful retries.

  16,17        Not used, and must not be set.
GET NEW MONITOR                                              Page 14-7___ ___ _______


     1.  Press the SW/REG load switch.

         This will cause the front-end processor to access the  disk
         drive  (switch 7 set on) or the DECtape drive (switch 7 set
         off) with the unit number as specified  in  switches  8-10.
         The  KL  initialization  program  (KLINIT)  is  loaded  and
         started and the default hardware  configurations  of  cache
         and  external  memory  are  set up.  The standard bootstrap
         program for the TOPS-10 monitor is  then  loaded  into  the
         central processor and started.

         The following is an example of the output you will  receive
         on  the console terminal if switches 0, 7, 8, and 9 are set
         on.

               RSX-20F V006A 0:16 21-JUN-76

               [SY0: REDIRECTED TO DB3:}
               [DB3: MOUNTED]
               KLI -- VERSION V002E RUNNING
               KLI -- MICROCODE VERSION 131 LOADED
               KLI -- ALL CACHES ENABLED
               LOGICAL MEMORY CONFIGURATION:
                                 CONTROLLER
               ADDRESS  SIZE  RQ0  RQ1  RQ2  RQ3  CONTYPE  INT
               000000   512K  04   FOR  ALL        DMA20    4
               KLI -- BOOTSTRAP LOADED AND STARTED

         The first line of output tells  you  the  version  and  the
         creation time and date of the RSX-20F monitor for the front
         end.  The next two lines tell you that DB3:  (the  disk  on
         unit  3)  is  the  system  device  (SY0:) for the front end
         tasks.  If bit 7 had not been set,  the  DB3:   would  have
         been  DT3:  for a DECtape.  The next eight lines are output
         by the KL initialization program.  They give the version of
         KLINIT that is running and tell you that the KL10 microcode
         was successfully loaded, the cache  was  enabled,  external
         memory  was  configured,  and  that  the standard bootstrap
         program for the TOPS-10 monitor  was  loaded  and  started.
         (The loading of the TOPS-10 monitor is discussed in Section
         3.3.)

         If, in the previous example, you had also  set  switches  1
         and 2 on, the console output would have been as follows:

               RSX-20F V006A 0:16 21-JUN-76

               [SY0: REDIRECTED TO DB3:]
               [DB3: MOUNTED]
               KLI -- VERSION V002E RUNNING
               KLI -- ENTER DIALOG [NO,YES,EXIT,BOOT]?
               KLI>

         Switches 1 and 2 set on specify that you wish to enter  the
         KL   initialization  program  (KLINIT)  operator  dialogue.
         KLINIT has just asked you the first question and is waiting
         for  an  answer.  When you have answered all the applicable
         questions in the dialogue, the last message issued will be:

              KLI -- BOOTSTRAP LOADED AND STARTED

         as in the previous example.

         (For  a  complete  description  of  the   KLINIT   dialogue
GET NEW MONITOR                                              Page 14-8___ ___ _______


         messages,  and  examples,  refer  to  Appendix  C of the KL
         Series Operator's Guide.)

         Step B2:  Loading The Central Processor (TOPS-10 Monitor)         ____ ___  _______ ___ _______ _________ ________ ________

         When the front-end processor has been loaded using any  one
         of  the  three methods described in Section 3.2, the system
         informs you:

              KLI -- BOOTSTRAP LOADED AND STARTED

         The actual bootstrap program that has been  loaded  depends
         upon the method of loading the front end.

         If you used the DISK load, DECTAPE load, or the SW/REG load
         with  switches  1  and  2  off,  you  will  have loaded the
         bootstrap program found in the file BOOT.EXB.   This  would
         usually be BOOTS, a program to load the monitor from a disk
         pack.

         If you had used the KLINIT dialog to specify a  non-default
         BOOT file, you could have loaded a program like BOOT, which
         will load the monitor from magnetic tape.

         If you are loading the monitor from disk, follow  Situation
         A.   If  you  are  loading the monitor from magtape, follow
         Situation B.

         Situation A:  Loading TOPS-10 from Disk         _________ __  _______ _______ ____ ____

         In response to the message:

              KLI -- BOOTSTRAP LOADED AND STARTED

         you can press the carriage return key and load the  default
         monitor  from  the  disk file SYSTEM.EXE or you can specify
         another file such as:

              DSKB:TSTSYS.EXE

         and load a different monitor.

         When the TOPS-10 monitor is loaded, it will enter  into  an
         initialization  dialogue  with  you  to  determine start-up
         options and conditions.  These are covered in Step C1.

         Situation B:  Loading TOPS-10 from Magnetic Tape         _________ __  _______ _______ ____ ________ ____

         In order to load the TOPS-10 monitor from a magnetic  tape,
         the following prerequisites must be met:

         1.  The magnetic tape  containing  the  monitor  should  be
             mounted  on drive 0.  If this is not possible, mount it
             on any drive but make sure that all other  tape  drives
             are set OFFLINE.

         2.  The bootstrap program to load a monitor  from  magnetic
             tape,  BOOTM, must reside on the front-end load device;
             disk or DECtape.

         3.  Load  the  console  front  end  via  the  SW/REG   load
             procedure.   (Situation C) with at least bits 0, 1, and
             2 set ON.  This  will  allow  you  to  use  the  KLINIT
             dialog.
GET NEW MONITOR                                              Page 14-9___ ___ _______


         4.  When KLINIT prompts you with:

                  KLI -- LOAD KL BOOTSTRAP[YES,NO,filename]?
                  KLI>

             answer  with  the  name  of  the  file  containing  the
             magnetic  tape bootstrap.  For example, if BOOTM was in
             the file BOOTM.EXB, respond with:

                  KLI>BOOTM.EXB

             KLINIT will load BOOTM, give you the message:

                  KLI -- BOOTSTRAP LOADED AND STARTED

             and you would then be under control  of  the  bootstrap
             program.  When BOOTM outputs its prompt characters:

                  BTM>

             you can give the file specification for the monitor you
             want to load, such as:

                  BTM>DSKB:MAGSYS.EXE[1,4]

             or you can simply give a carriage  return  to  get  the
             default  file, which is DSKB:  SYSTEM.EXE[1,4] from the
             same magnetic tape.

             When the TOPS-10 monitor is loaded, it enters  into  an
             initialization  dialogue with the operator to determine
             the start-up options and conditions.  These are covered
             in Step C1.

         STEP C1:  TOPS-10 Initialization Dialogue         ____ ___  _______ ______________ ________

         When the TOPS-10 monitor is loaded, the  system  checks  to
         see that the monitor and processor are compatible.  If they
         are not, the following error message is issued:

              ?THIS MONITOR WAS BUILT FOR A xxxxxx
               AND WILL NOT RUN PROPERLY ON A yyyyyy.

         where xxxxxx and yyyyyy can be KA10, KI10 or KL10.  If this
         message  persists,  the  system administrator should review
         the monitor generation procedure in the Software Notebooks.

         If the load time diagnostic program SYSCHK was included  in
         the  system software at monitor generation time (determined
         during the MONGEN dialogue), the system will prompt with:

              SYSCHK (N,Y):

         A response of Y runs a 5  second  diagnostic  program  that
         ensures  the  accessibility  of  all  configured memory and
         system devices.  A reply of N or a  carriage  return  skips
         the diagnostic.

         The system then types the monitor name,  date  and  version
         number;  for example:

              ABC123 KL10 SYS#1234 03-1-77

         When the system prompts:
GET NEW MONITOR                                             Page 14-10___ ___ _______


              WHY RELOAD:

         reply with one of the following acceptable answers:

                    OPR       NXM CM
                    PARITY    HALT SA
                    POWER     LOOP NEW
                    STATIC    HUNG SCHED
                    HARDWARE  PM OTHER

         If you do not reply within 60 seconds,  OTHER  is  assumed.
         (Refer  to  Chapter  14  for  the meanings and usage of the
         above replies.)  The reply is stored in  the  system  error
         file (ERROR.SYS) and can be retrieved at a later time using
         the SYSERR program.  For example, a reply of:

              WHY RELOAD:SCHED

         will  record  that  this  particular  monitor  load  was  a
         scheduled reload.

         When the system prompts:

              DATE:

         enter the numeric  day  and  alphabetic  month,  in  either
         order.   The month may be abbreviated to any point where it
         is still unique.  The year is  optional.   If  entered,  it
         must  be  either  the full four digits or the last two.  If
         the year is not entered, it is assumed to be the same as in
         the  monitor  creation  date.  If, for example, the monitor
         creation date was June  21,  1976,  any  of  the  following
         replies would be recorded as September 8, 1976.

              DATE:SEP 8 1976
              DATE:S 8 76
              DATE:8 SEP

         When the system prompts:

              TIME:

         enter a 4  digit  time  based  on  a  24-hour  clock.   For
         example,

              TIME:2015

         represents 8:15 PM.

         When the system prompts:

              STARTUP OPTION:

         reply with one of the following:

                    QUICK     REFRESH LONG
                    GO        UNITED NOINITIA
                    DESTROY   CHANGE

         A complete description of each startup option is  contained
         in  Chapter  16.  The usual operator's reply is GO to start
         the system with a minumim amount of dialogue  or  QUICK  to
         start   the   system   immediately   without  changing  any
         parameters.
GET NEW MONITOR                                             Page 14-11___ ___ _______


         The monitor  is  now  ready  for  timesharing.   INITIA  is
         brought  up  automatically  on  systems  with  OPSER and an
         automatic restart file.

         If you have a KA10 system, set the NXM  switch  OFF  unless
         you  are  debugging and prefer to have the machine stop and
         display the memory  address  when  non-existent  memory  is
         referenced.












                              CHAPTER 15

                       COPY NEW MONITOR TO SYS                       ____ ___ _______ __ ___



You should now copy the new monitor to SYS for READIN with BOOTS  from
disk.

     .COPY SYS:SYSTEM.EXE = 6.03 EXE












                              CHAPTER 16

                            ONCE DIALOGUE                            ____ ________



In most instances, you should start your monitor with the GO, NOINITIA
or  QUICK  STARTUP  Option.   The STARTUP Options are a portion of the
ONCE dialogue, which is described in this chapter.



16.1  INTRODUCTION      ____________


The ONCE-Only dialogue (Version 662) is an interactive program used by
the  operator  at system startup to set or alter a number of important
system parameters.  These parameters include the date,  time  of  day,
and most of the disk file structure information.

You respond to a  series  of  questions  asked  during  the  ONCE-Only
dialogue  by  typing  your responses, one at a time, in conversational
mode.

Before starting the system you should:

     1.  Read this chapter  to  acquaint  yourself  with  the  current
         version of the ONCE-Only dialogue format.

     2.  Decide which parameters you wish to set  or  alter  when  the
         system is started.

     3.  Be  prepared  to  answer  the  required  ONCE-Only   dialogue
         questions  by familiarizing yourself with your installation's
         configuration  and  the  content  and  format  of  individual
         questions.

The 6.03 version of the ONCE-Only dialogue permits you to answer  only
those  questions  directly  related to the parameters that you wish to
define or  alter  in  some  way.   The  rest  of  the  parameters  are
automatically    set    according    to    a    DEC-supplied   or   an
installation-defined  standard.   (Some  parameter  defaults  can   be
modified  by  the system programmer at individual installations during
the MONGEN dialogue program.)  (Refer to Chapter 8 for  a  description
of MONGEN.)



16.1.1  Summary of STARTUP Options        _______ __ _______ _______

You have a choice of eight STARTUP Options.  They are summarized  here
and then described in the remainder of this chapter.

          QUICK     To start the system quickly without  changing  any
                    parameters.  (Refer to Section 16.2.)
ONCE DIALOGUE                                                Page 16-2____ ________


          NOINITIA  To start the system quickly  without  setting  any
                    new parameters and without running INITIA.  (Refer
                    to Section 16.2.)

          GO        To check to see if everything is in order  and  to
                    start  the  system  with  a  minimum  of dialogue.
                    (Refer to Section 16.3.)

          DESTROY   To automatically restructure and refresh all disks
                    according  to  a  predetermined  set of standards.
                    (Refer to Section 16.4.)

          REFRESH   To explicitly  refresh  selected  file  structures
                    without  changing other system parameters.  (Refer
                    to Section 16.5.)

          UNITID    To change selected unit IDs without changing other
                    system parameters.  (Refer to Section 16.6.)

          CHANGE    To  explicitly  set  or   change   selected   file
                    structure parameters.  (Refer to Section 16.7.)

          LONG      To explicitly set all parameters  and  restructure
                    the  file system in a non-standard way.  (Refer to
                    Section 16.8.)

You should select the LONG STARTUP Option only if there  is  no  other
alternative.  You are encouraged to use one or more of the other seven
STARTUP Options (the simplest combination for their purposes), and  to
accept  the  system  standard values whenever possible.  Note that the
STARTUP OPTION:  question is repeated after you  define  some  of  the
parameters.   This  permits  you  to define a second set of parameters
(e.g., DESTROY, REFRESH, UNITID, or CHANGE) or  to  start  the  system
(QUICK or GO).

The first eight steps described in Section 16.2.2 are  common  to  all
system  startups  regardless  of  which  option  you choose.  You must
perform these steps correctly before the ONCE-only dialogue  asks  you
for  the  STARTUP Option.  The first eight steps are listed in Section
16.2.2 as they apply to all STARTUP Options.



16.1.2  Special Considerations        _______ ______________

The software  supports  the  KA10,  KI10,  and  KL10  processors.   In
general,  the  procedures  are  the same for all systems.  The primary
difference between the KA10 and the KI10 is the physical layout of the
console.  Where the KA10 console has rocker switches, the KI10 console
has lighted pushbutton switches but the switch functions are the same.
The  instructions  in this document use the following conventions when
referring to the ON and OFF positions of the switches:

               KA10 Console             KI10 Console
               ------------             ------------

Switch ON      Front (or bottom)of      Lighted
               rocker switch is
               pressed.

Switch OFF     Back (or top) of         Not Lighted
               rocker switch is
               pressed.
ONCE DIALOGUE                                                Page 16-3____ ________


In addition, the following special steps should be  performed  with  a
KI10 system before beginning the READIN procedure.

     1.  Check to see that the MAINT light is  OFF.   If  it  is  not,
         check that the following switches are OFF:

         PARITY STOP
         FM MANUAL
         MEM OVERLAP DIS
         MARGIN ENABLE
         SINGLE PULSE
         SINGLE INSTRUCTION

     2.  Make sure that the DATA and ADDRESS  switches  are  operating
         properly.   That is, when the switch is pressed the indicator
         is turned either off or on, the opposite to what it had been.
         If they do not work properly, make sure that the CONSOLE LOCK
         and the CONSOLE DATA LOCK switches are OFF.

     3.  Under normal circumstances  systems  with  a  KI10  processor
         should be run with the switches set as follows:

         a.  NXM STOP switch OFF

         b.  EXEC PAGING switch ON

         c.  USER PAGING switch OFF
             (These  paging  switches  should  be  set  so  that   the
             addresses  examined  by  the  EXAMINE  switch are monitor
             (EXEC mode) addresses instead of user program (USER mode)
             addresses.)

The NXM FLAG  and  processor  clock  PIA  indicators  are  located  on
different bays.

     1.  On the KA10 the NXM FLAG and processor clock  PIA  indicators
         (PIA33, PIA34, and PIA35) are located on Bay 1, the left-most
         bay, farthest from the console.  They are in the  second  row
         of lights, below the register labeled CPA.

     2.  On the KI10, the NXM FLAG and processor clock PIA  indicators
         (APR  CLK  PIA)  are  located  on  Bay 3, the same bay as the
         console.  They are in the bottom row of lights.




16.1.3  Special Multiprocessing Considerations        _______ _______________ ______________

Under ordinary circumstances, multiprocessing systems do  not  require
any  special startup procedures.  CPU1, the secondary processor, waits
and  automatically  starts  after  CPU0,  the  primary  processor,  is
started.   However,  if  the system is started after a crash, then the
procedure depends upon which CPU crashed.



16.1.4  Conventions Used in this Chapter        ___________ ____ __ ____ _______

     1.  Errors messages

         ONCE-Only error messages are preceded by  either  a  question
         mark  (?)  or  a  percent  sign  (%).  Messages preceded by a
         question mark are fatal unless corrective  action  is  taken.
ONCE DIALOGUE                                                Page 16-4____ ________


         Messages preceded by a percent sign are warnings.

     2.  Carriage Return

         <CR> indicates  that  you  should  type  a  carriage  return.
         Because  most operator typeins must be terminated by carriage
         return, <CR> is  used  to  indicate  a  blank  line  and  for
         emphasis  when  other  terminators, such as altmode, are also
         possible.

     3.  File Structure

         STR is an abbreviation for file structure.

ONCE DIALOGUE                                                Page 16-5____ ________
STARTUP OPTION: QUICK aND NOINITIA


16.2  STARTUP OPTION: QUICK aND NOINITIA      _______ _______ _____ ___ ________

The QUICK option enables you to start up the system  quickly,  without
altering  any  system  parameters  and  without  any further dialogue.
After listing off-line disk units, the system starts running.

This option is recommended for startups when speed is important,  when
file  structure organization and other parameters need not be altered,
or after you have set selected parameters by using another option, and
you are ready to start the system.

The NOINITIA option is identical to QUICK, except that INITIA  is  not
run.

Note that if ONCE-Only encounters problems  in  trying  to  start  the
monitor,  the  LONG  dialogue  is  automatically  invoked.   (Refer to
Section  16.10  for  error  messages  and  to  Section  16.8.3  for  a
description of the LONG dialogue questions.)



16.2.1  Frequency        _________

The QUICK (or GO) option is invoked everytime the monitor is  reloaded
into the machine.



16.2.2  Summary of Steps        _______ __ _____

     1.  You get the monitor with BOOTM or BOOTS.  (Refer to  Chapters
         2 and 3.)

     2.  The system checks to see that the monitor and  processor  are
         compatible.   If  not,  an  error  message  is  typed and the
         program halts.

     3.  The system asks if you wish to run  the  loadtime  diagnostic
         program, SYSCHK.

              SYSCHK(N,Y):

         Note that this is asked only if the SYSCHK program  has  been
         included  as  a part of the system software (as determined by
         the system programmer during the MONGEN  dialogue,  refer  to
         Chapter 8).

         USER RESPONSE: N OR <CR> to skip the diagnostic.

     4.  The system types the name of the monitor and  creation  date;
         for example:

              6.03 SYS #160 3-17-77

     5.  The system asks for the reason for the reload.

              WHY RELOAD:

         USER RESPONSE:  NEW

         You answer with  one  of  the  following  acceptable  answers
         depending  on  your  reason.   (Refer  to Section 16.9 for an
         explanation of these answers.)
ONCE DIALOGUE                                                Page 16-6____ ________
STARTUP OPTION: QUICK aND NOINITIA


               OPR       LOOP
               PARITY    HUNG
               POWER     PM
               STATIC    CM
               HARDWARE  SA
               NXM       NEW
               HALT      SCHED
                         OTHER

     6.  The system asks for the date.

              DATE:

         USER RESPONSE:  MAR 17 1977

         You type the date as the name of the month (January-December)
         and the numerical day of the month (1-31) in any order.  (The
         name  of  the  month  may  be  shortened  as  long   as   the
         abbreviation  is unique.) The year is optional.  If included,
         the year must be typed  as  a  4-digit  number  (1977)  or  a
         2-digit  abbreviation  (77)  following the month and day.  If
         omitted, the year is assumed to be the same as the  year  the
         monitor was created.  Examples of acceptable dates are:

               MARCH 17 1977
               MAR 17
               17 MAR

     7.  The system asks for the time.

              TIME:

         USER RESPONSE:0843

         You  type  the  time  based  on  a   24-hour   clock,   e.g.,
         0843=8:43 A.M.  and 1345=1:45 P.M.

     8.  The system checks to see if all of memory is accessible.

     9.  ONCE asks for your choice of 

              STARTUP OPTION:

         USER RESPONSE:  QUICK

         For a description of the other responses, refer to  the  list
         below:

         GO       Section 16.3
         DESTROY  Section 16.4
         REFRESH  Section 16.5
         UNITID   Section 16.6
         CHANGE   Section 16.7
         LONG     Section 16.8

    10.  ONCE lists off-line units;  for example:

              %xxxx IS OFF-LINE
              %yyyy IS OFF-LINE

         (Note that you have no opportunity to change  the  status  of
         these units.)
ONCE DIALOGUE                                                Page 16-7____ ________
STARTUP OPTION: QUICK aND NOINITIA


    11.  ONCE checks to see if there are controllers off  line  or  if
         any  units are write locked.  If so, messages are transmitted
         to the operator.  Otherwise, if everything is in  order,  the
         monitor   starts   running   the   null   job  and  initiates
         timesharing, usually via  INITIA,  OPSER,  and  an  automatic
         STARTUP  file.  If you typed NOINITIA, a . is printed and you
         must log in.  Otherwise, you are automatically logged in.




16.2.3  Examples        ________

Example 1

     SYSCHK (N,Y): Y

     MEMORY MAP=
     FROM    TO SIZE/K
     000000 537777 176
     CONTROLLER MTA IS UNACCESSIBLE.

       6.03 SYSTEM #160 4-12-77
     WHY RELOAD: OTHER ;MANUAL EXAMPLE
     DATE: 4 MAY
     TIME: 0045

     STARTUP OPTION: QUICK

     %DPA6 IS OFF-LINE

     %DPB0 IS OFF-LINE

       6.03 SYSTEM #160 4-12-77
     DSKN:  System #160  Initia types
     .                   the text contained
     .                   in STR.TXT.
     .
     .LOGIN[1,2]         ;This is typed automatically
     .R OPSER
     [OPRPAF PROCESSING AUTO COMMAND FILE]
     00:45:24(0)
                          .
     00:45:24(0)
                          .
     00:45:32(0)
                          .
     00:45:39(B\L1)



Example 2

     BOOTS

     6.03
     SYSCHK (N,Y): N

       6.03 SYSTEM #160 4-19-77
     WHY RELOAD:NEW
     DATE: APRIL 28
     TIME: 1100
ONCE DIALOGUE                                                Page 16-8____ ________
STARTUP OPTION: QUICK aND NOINITIA


     STARTUP OPTION: QUICK

     %DPA4 IS OFF-LINE

     %DPA5 IS OFF-LINE

     %DPA6 IS OFF-LINE

       6.03 SYSTEM #160 11:00:19 CTY

     .LOGIN[1,2]
     .R OPSER
     [OPRPAF PROCESSING AUTO COMMAND FILE]
                         .
                         .
                         .


Example 3

     SYSCHK (N,Y):  N

       6.03 SYSTEM #160 4-19-77
     WHY RELOAD: NEW
     DATE: APRIL 20
     TIME: 700

     STARTUP OPTION: NOINITIA

     .



16.3  STARTUP OPTION: GO      _______ _______ __

When you specify the GO option, ONCE-Only checks to see if  everything
is  in order, and starts the system with a minimum of dialogue.  After
you respond to questions asking if specific off-line units are  to  be
on line, off line, or down, the system is started.

Note that if ONCE-Only encounters problems  in  trying  to  start  the
monitor,  then  the  LONG dialogue is automatically invoked.  Refer to
Section  16.10  for  error  messages  and  to  Section  16.8.3  for  a
description of the LONG dialogue questions.



16.3.1  Frequency        _________

The GO (or QUICK) option must be invoked every  time  the  monitor  is
reloaded into the machine.



16.3.2  Summary of Steps        _______ __ _____

Steps 1 through 8 are described in Section 16.2.2,  because  they  are
common to all STARTUP Options.

     9.  ONCE asks for your choice of

              STARTUP OPTION:
ONCE DIALOGUE                                                Page 16-9____ ________
STARTUP OPTION: GO


         USER RESPONSE:  GO

    10.  ONCE lists off-line units, if any, and then asks if  off-line
         units are to remain off line or not.

               %xxxx IS OFF-LINE
               DO YOU WANT IT TO BE 1)ON-LINE, 2)OFF-LINE, OR 3)DOWN?
               (TYPE #)

         USER RESPONSE:  1,2, or 3

    11.  ONCE checks to see if there are any off-line  controllers  or
         if  there  are  any  write-locked units.  If so, messages are
         transmitted to the operator.  Otherwise, if everything is  in
         order,  the monitor starts running the null job and initiates
         timesharing, usually via  INITIA,  OPSER,  and  an  automatic
         startup file.



16.3.3  Examples        ________

Example 1

       6.03 SYSTEM #160 4-2-77
     WHY RELOAD: OTHER ;EXAMPLE
     DATE: 4 MAY
     TIME: 52

     STARTUP OPTION: GO

     %DPA6 IS OFF-LINE
     DO YOU WANT IT TO BE 1)ON-LINE, 2)OFF-LINE, OR 3)DOWN? (TYPE #)

     3

     %DPB0 IS OFF-LINE
     DO YOU WANT IT TO BE 1)ON-LINE, 2)OFF-LINE, OR 3)DOWN? (TYPE #)

     2

       6.03 SYSTEM #160 00:52:46 CTY
     .R OPSER
     [OPRPAF PROCESSING AUTO COMMAND FILE]
     00:52:48(0)
             .
     00:52:49(0)
             .
     00:52:57(0)
             .



Example 2

     BOOTS

     6.03
     SYSCHK (N,Y):

       6.03 SYSTEM #160 12-19-77
     WHY RELOAD: SCHED
     DATE: D 28
ONCE DIALOGUE                                               Page 16-10____ ________
STARTUP OPTION: GO


     TIME: 1120

     STARTUP OPTION: GO

     %DPA4 IS OFF-LINE
     DO YOU WANT IT TO BE 1)ON-LINE, 2)OFF-LINE, OR 3)DOWN? (TYPE #)

     2

     %DPA5 IS OFF-LINE
     DO YOU WANT IT TO BE 1)ON-LINE, 2)OFF-LINE, OR 3)DOWN? (TYPE #)

     2

     %DPA6 IS OFF-LINE
     DO YOU WANT IT TO BE 1)ON-LINE, 2)OFF-LINE, OR 3)DOWN? (TYPE #)

     1

       6.03 SYSTEM #160 11-21-04 CTY
     .R OPSER
     [OPRPAF PROCESSING AUTO COMMAND FILE]
       .
       .
       .



16.4  STARTUP OPTION: DESTROY      _______ _______ _______

The DESTROY option automatically restructures and refreshes  all  file
structures  according  to a predetermined set of standards.  A minimum
of dialogue is encountered, because the file structure parameters  are
determined  by  the  system  programmer  during  the  MONGEN  dialogue
program.  (Refer to Chapter 8.)

The DESTROY option, as the name implies, destroys  all  existing  file
structures, then restructures and refreshes the disk units as directed
by MONGEN.  If the system programmer has not altered the values of the
MONGEN symbols, the DESTROY option organizes the file system according
to the "symbol, values" specified by the DEC-supplied software;   that
is,  all  fixed  head  disks  are  in the first file structure (called
DSKA), and all disk pack  units  are  in  the  second  file  structure
(called  DSKB),  with  200K of swapping space allocated on each of the
fixed head units, and on the first disk pack unit (as backup).  (Refer
to  Chapter  8  for  a  description  of  the  HDWGEN decimal and octal
symbol-values that affect file structure organization.)

The DESTROY option is recommended for new  installations  starting  up
their  systems for the first time and for existing installations using
new disk units for the first time.



16.4.1  Frequency        _________

After the file structure parameters have been  established,  they  are
written  onto  each  structure  in  two places called the HOME blocks.
Once this is done, it need not be done again.   When  the  monitor  is
reloaded,  it  reads  the  HOME blocks and sets up the disk parameters
automatically.
ONCE DIALOGUE                                               Page 16-11____ ________
STARTUP OPTION: DESTROY


16.4.2  Summary of Steps        _______ __ _____

Steps 1 through 8 are described in Section 16.2.2,  because  they  are
common to all STARTUP Options.

     9.  ONCE asks for your choice of

              STARTUP OPTION:

         USER RESPONSE:  DESTROY

         Existing  structures  are  destroyed,  new   structures   are
         created,   and   all  disks  are  refreshed  according  to  a
         predetermined set of values.

         A warning message is typed and confirmation is requested.

              %WARNING-ALL STRS WILL BE REFRESHED.
              PROCEED?  (Y or <CR>)

         USER RESPONSE: Y

         When finished the following is typed

              HOME BLOCKS WRITTEN ON ALL UNITS
              START SYSTEM?  (Y or <CR>)

         USER RESPONSE:  Y or <CR>

         An answer of <CR>  returns  control  to  the  STARTUP  OPTION
         question again.  A YES answer continues with step 10.

    10.  ONCE repeats  the  STARTUP  question,  to  which  you  should
         respond QUICK (see Example 1).  ONCE asks you to login.

              TO AUTOMATICALLY LOGIN UNDER [1,2] TYPE LOGIN

         USER RESPONSE:  LOGIN

    11.  ONCE starts running the null job and initiates timesharing.

    12.  If a new monitor is being generated for the first  time,  you
         should return to Chapter 4.



16.4.3  Example        _______

BOOTS

     6.03
     SYSCHK (N,Y):

      6.03 SYSTEM #160 12-13-77
     WHY RELOAD: SA
     DATE: 26 DEC
     TIME: 1300

     STARTUP OPTION:  DESTROY
     %WARNING-ALL STRS WILL BE REFRESHED.
     PROCEED?(Y OR <CR>)

     %FHA1 IS OFF-LINE
ONCE DIALOGUE                                               Page 16-12____ ________
STARTUP OPTION: DESTROY


     %DPA0 IS OFF-LINE

     HOME BLOCKS WRITTEN ON ALL UNITS
     START SYSTEM? (Y OR <CR>)Y

     STARTUP OPTION: Q
     TO AUTOMATICALLY LOG-IN UNDER [1,2] TYPE "LOGIN"
     LOGIN
      .
      .
      .



16.5  STARTUP OPTION: REFRESH      _______ _______ _______

The REFRESH option allows you to restore certain  file  structures  to
their  initial  condition  (i.e., refresh them) without changing other
system parameters.  (Note that only HOME.SYS is required  to  describe
the file structure.  Once these have been defined via DESTROY or LONG,
refreshing individual structures is very simple.)



16.5.1  Frequency        _________

Ordinarily, structures need refreshing  every  two  to  three  months.
Refreshing may be required when:

     1.  Disks are full.   When  you  wish  to  retain  only  recently
         accessed  files, you save recently accessed files with BACKUP
         before refreshing and then restore them (with  BACKUP)  after
         refreshing.

     2.  System crashes have left a number of blocks not allocated  to
         any file.  Refer to the DSKRAT documentation for instructions
         on determining the number of lost blocks and recovering  them
         without the need for refreshing the file structure.

     3.  Fragmentation of free blocks results in  inefficient  use  of
         disk  space,  i.e.,  when  free  blocks  on  the  disk are so
         scattered that long  sequentially  written  files  are  using
         extended  RIBs.   (Refer  to the DSKLST.RNO specification for
         information on interpreting the DSKLST output.)




16.5.2  Summary of Steps        _______ __ _____

Steps 1 through 8 are described in Section  16.2.2  because  they  are
common to all STARTUP Options.

     9.  ONCE asks for your choice of

              STARTUP OPTION:

         USER RESPONSE:  REFRESH

    10.  ONCE lists any off-line units and asks you to indicate  which
         off-line units are to remain off-line.

               %xxxx IS OFF-LINE
ONCE DIALOGUE                                               Page 16-13____ ________
STARTUP OPTION: REFRESH


               DO YOU WANT IT TO BE 1)ON-LINE, 2) OFF-LINE, OR 3)DOWN?
               (TYPE #)

         USER RESPONSE:  1,2, or 3

    11.  ONCE checks to see if there are any off-line  controllers  or
         if  there  are  any  write-locked units.  If so, messages are
         transmitted to the operator.

    12.  ONCE asks for the structures to be refreshed.

              TYPE STR NAME TO BE REFRESHED (CR IF NONE, ALL IF ALL)

         USER RESPONSE:  ALL or individual structure name.

         When the structures are refreshed,  control  returns  to  the
         STARTUP  OPTION  question.   You  can  enter  another STARTUP
         Option (such as DESTROY, UNITID, CHANGE, or LONG) or you  can
         start the system (QUICK or GO).



16.5.3  Examples        ________

Example 1

     BOOTS

     6.03
     SYSCHK (N,Y):

          6.03 SYSTEM #160 12-19-77
     WHY RELOAD: NEW
     DATE: DEC 28
     TIME: 1250

     STARTUP OPTION: REFRESH
     TYPE STR NAME TO BE REFRESHED (CR IF NONE, ALL IF ALL)
     DSKH
     TYPE STR NAME TO BE REFRESHED(CR IF NONE, ALL IF ALL)
     DSKX
     TYPE STR NAME TO BE REFRESHED(CR IF NONE, ALL IF ALL)
     DSKX
     TYPE STR NAME TO BE REFRESHED(CR IF NONE, ALL IF ALL)

     STARTUP OPTION: QUICK
     TO AUTOMATICALLY LOG-IN UNDER [1,2] TYPE "LOGIN"
     LOGIN
          .
          .



Example 2

     SYSCHK (N,Y):N

       6.03 DUAL CPU 11-21-77
     WHY RELOAD: SA
     DATE: 4 DEC
     TIME: 1050

     STARTUP OPTION: REF
ONCE DIALOGUE                                               Page 16-14____ ________
STARTUP OPTION: REFRESH


     %DPA6 IS OFF-LINE
     DO YOU WANT IT TO BE 1)ON-LINE, 2)OFF-LINE, OR 3)DOWN? (TYPE #)

     2

     %DPB0 IS OFF-LINE
     DO YOU WANT IT TO BE 1)ON-LINE, 2)OFF-LINE, OR 3)DOWN? (TYPE #)

     2

     %NEED REFRESHING:
     DSKA,DSKB,DSKC
     TYPE STR NAME TO BE REFRESHED(CR IF NONE, ALL IF ALL)
     DSKA
     TYPE STR NAME TO BE REFRESHED(CR IF NONE, ALL IF ALL)

     STARTUP OPTION: Q
     TO AUTOMATICALLY LOG-IN UNDER [1,2] TYPE "LOGIN"
     LOGIN

       6.03 DUAL CPU 1:06:02

     .LOG

     .INITIA

       6.03 DUAL CPU 01:06:14 CTY
     .R OPSER
     [OPRPAF PROCESSING AUTO COMMAND FILE]
       .
       .
       .



16.6  STARTUP OPTION: UNITID      _______ _______ ______

The UNITID option allows you to  change  selected  unit  IDs,  without
changing any other parameters.



16.6.1  Frequency        _________

After the file structure parameters have been  established,  they  are
written  onto  each  structure  in  two places called the HOME blocks.
Once this is done, it need not be done  again.   When  the  system  is
reloaded,  the  monitor  reads  the  HOME  blocks and sets up the disk
parameters automatically.



16.6.2  Summary of Steps        _______ __ _____

Steps 1 through 8 are described in Section 16.2.2,  because  they  are
common to all STARTUP Options.

     9.  ONCE asks for your choice of 

              STARTUP OPTION:

         USER RESPONSE: UNITID
ONCE DIALOGUE                                               Page 16-15____ ________
STARTUP OPTION: UNITID


    10.  ONCE lists any off-line units and asks you to indicate  which
         off-line units are to remain off-line.

               %xxxx IS OFF-LINE

               DO YOU WANT IT TO BE 1)ON-LINE, 2)OFF-LINE, OR  3)DOWN?
               (TYPE #)

         USER RESPONSE:  1,2, or 3

         ONCE checks to see if there are any off-line  controllers  or
         if  there  are  any  write-locked units.  If so, messages are
         transmitted to the operator.

    11.  ONCE asks if there are any physical unit names and  unit  IDs
         to be changed.

              CHANGE ALL UNIT ID's (Y OR <CR>)

         USER RESPONSE:  Y OR <CR>

         When you specify Y, ONCE lists each unit  and  asks  for  the
         I.D.:

              AFTER EACH UNIT NAME, TYPE THE I.D.

              xxx(aaaa):

         USER RESPONSE: ABCD

              yyyy(bbbb)

         USER RESPONSE: EFGH

              zzzz(cccc):

         USER RESPONSE: IJKL

         When you respond with <CR>, ONCE asks,  for  each  unit,  the
         unit name and its I.D.

                    TYPE UNIT NAME, A COMMA, AND NEW UNIT ID FOR  EACH
                    DESIRED UNIT.
                    (EXTRA <CR> WHEN THROUGH)

         USER RESPONSE:       xxxx, ABCD <CR>
                              yyyy, EFGH <CR>
                              <CR>

    12.  If HOME blocks are to be written, ONCE asks for the  physical
         unit and then indicates when HOME blocks are written.

                    TYPE PHYSICAL UNIT TO WRITE HOME BLOCKS (EXTRA  CR
                    WHEN THROUGH)
                    (CR IF NONE, ALL IF ALL ;"ALL" IS NORMAL CASE)

         USER RESPONSE: ALL

              HOME BLOCKS WRITTEN

         When HOME blocks are written, control returns to the  STARTUP
         Option  question.   You  can  enter  another  option (such as
         DESTROY, UNITID, CHANGE, or LONG) or you can start the system
ONCE DIALOGUE                                               Page 16-16____ ________
STARTUP OPTION: UNITID


         (QUICK or GO).



16.6.3  Examples        ________

Example 1

     BOOTS

     6.03
     SYSCHK (N,Y):

       6.03 SYSTEM #160 4-19-77
     DATE: MAY 28
     TIME: 1130

     STARTUP OPTION: UNITID
     CHANGE ALL UNIT ID'S? (Y OR <CR>)

     TYPE UNIT NAME, A COMMA, AND NEW UNIT ID FOR EACH DESIRED UNIT.
     (EXTRA <CR> WHEN THROUGH)

     DPA4,UNIT4

     DPA5,UNIT5

     TYPE PHYSICAL UNITS TO WRITE HOME BLOCKS (EXTRA CR WHEN THROUGH)
     (CR IF NONE, ALL IF ALL ;"ALL" IS NORMAL CASE)
     DPA4
     DPA5

     HOME BLOCKS WRITTEN

     STARTUP OPTION: Q

       6.03 SYSTEM #160 11:32:43 CTY
     .R OPSER
     [OPRPAF PROCESSING AUTO COMMAND FILE]
       .
       .
       .



Example 2

     SYSCHK (N,Y): N

          6.03 SYSTEM #160 12-02-77
     WHY RELOAD: SA
     DATE: 4 DEC
     TIME: 55

     STARTUP OPTION: UNITID

     %DPA6 IS OFF-LINE
     DO YOU WANT IT TO BE 1)ON-LINE, 2)OFF-LINE, OR 3)DOWN? (TYPE #)

     2

     %DPB0 IS OFF-LINE
     DO YOU WANT IT TO BE 1)ON-LINE, 2)OFF-LINE, OR 3)DOWN? (TYPE #)
ONCE DIALOGUE                                               Page 16-17____ ________
STARTUP OPTION: UNITID


     2
     CHANGE ALL UNIT ID'S? (Y OF <CR>)Y
     AFTER EACH UNIT NAME, TYPE THE I.D.

     FHA0(GLZX):XLZG

     FHA1(XZLG):GLZX

     DPA0(RP03A):RP03A1

     DPA1(RP03B):RP03B1

     DPA2(3RPXYZ):RP03C1

     DPA3(2RP023):
     DPA4(2RP044):
     DPA5(2RP042):
     DPB1(2RP004):

     TYPE PHYSICAL UNITS TO WRITE HOME BLOCKS (EXTRA CR WHEN THROUGH)
     (CR IF NONE, ALL IF ALL ;"ALL" IS NORMAL CASE)
     ALL

     HOME BLOCKS WRITTEN

     STARTUP OPTION: UNITID

     %DPA6 IS OFF-LINE
     DO YOU WANT IT TO BE 1)ON-LINE, 2)OFF-LINE, OR 3)DOWN? (TYPE #)

     2

     %DPB0 IS OFF-LINE
     DO YOU WANT IT TO BE 1)ON-LINE, 2)OFF-LINE, OR 3)DOWN? (TYPE #)

     2
     CHANGE ALL UNIT ID'S (Y OR <CR>) <CR>

     TYPE UNIT NAME, A COMMA, AND NEW UNIT ID FOR EACH DESIRED UNIT.
     (EXTRA <CR> WHEN THROUGH)
     FHA0,FHARD1
     FHA1,SAM

     TYPE PHYSICAL UNIT TO WRITE HOME BLOCKS
          (CR IF NONE, ALL IF ALL ;"ALL" IS NORMAL CASE)

     BEFORE "HOME" BLOCKS ARE WRITTEN

     TYPE STR NAME FOR A LIST OF ITS PARAMETERS(CR IF NONE, ALL IF
     ALL)

     TYPE PHYSICAL UNIT NAME TO LIST ITS PARAMETERS(CR IF NONE, ALL IF
     ALL)

     DO YOU WANT TO CHANGE ANY DISK PARAMETERS(CR IF NO)

     TYPE PHYSICAL UNIT TO WRITE HOME BLOCKS
     (CR IF NONE, ALL IF ALL ;"ALL" IS NORMAL CASE)
     ALL

     HOME BLOCKS WRITTEN

     STARTUP OPTION: GO
ONCE DIALOGUE                                               Page 16-18____ ________
STARTUP OPTION: UNITID


          .
          .
          .



16.7  STARTUP OPTION: CHANGE      _______ _______ ______

The CHANGE option allows you to set or change selected  parameters  on
specified  structures or units.  The parameters are changed, sometimes
causing  file  structures  to  be  refreshed,  but  no   restructuring
(creating  or  deleting) of structures is performed.  This option asks
you questions about the following:

     1.  File structure parameters

     2.  Physical unit parameters

     3.  Active swapping list

     4.  System search list

Note that if any changes require HOME blocks to be written or disks to
be refreshed, you are informed and asked for verification.



16.7.1  Frequency        _________

After the file structure parameters have been  established,  they  are
written  onto  each  structure  in  two places called the HOME blocks.
Once this is completed, it need not be done again.  When  the  monitor
is  reloaded,  the  monitor reads the HOME blocks and sets up the disk
parameters automatically.



16.7.2  Summary of Steps        _______ __ _____

Steps 1 through 8 are described in Section  16.2.2  because  they  are
common to all STARTUP Options.

     9.  ONCE asks for your choice of

              STARTUP OPTION:

         USER RESPONSE: CHANGE

    10.  ONCE lists off-line units, if any, and then asks if  off-line
         units are to remain off-line or not.

               %xxxx IS OFF-LINE
               DO YOU WANT TO BE 1)ON-LINE, 2)OFF-LINE, OR 3)DOWN?
               (TYPE #)

         ONCE checks to see if there are any off-line  controllers  or
         if  there  are  any  write-locked  units.  If so, appropriate
         messages are transmitted to the operator terminal.

    11.  ONCE asks questions about file structure parameters, physical
         unit  parameters,  the  active  swapping list, and the system
         search list.  You can accept the standard default answers  by
         responding  to  each  question  with a carriage return.  (See
ONCE DIALOGUE                                               Page 16-19____ ________
STARTUP OPTION: CHANGE


         example 1 in Section 16.7.3.)

         Or,  you  can  answer  the  questions  individually,  thereby
         setting  parameters  in a non-standard way.  If you choose to
         set the parameters in a  non-standard  way,  the  appropriate
         subset  of "long dialogue" questions is asked.  (See examples
         2 and 3 in Section 16.7.3 and the  description  of  the  LONG
         option, Section 16.8.2.)

         When the parameters have been set,  control  returns  to  the
         STARTUP  Option question.  You can start the system via quick
         or GO or continue with another option.



16.7.3  Examples        ________

Example 1

     BOOTS

     6.03
     SYSCHK (N,Y):

          6.03 SYSTEM #160 12-19-77
     WHY RELOAD: NEW
     DATE: DEC 28
     TIME: 1230

     STARTUP OPTION: CHANGE

     %DPA4 IS OFF-LINE
     DO YOU WANT IT TO BE 1)ON-LINE, 2)OFF-LINE, OR 3)DOWN? (TYPE #)

     2

     %DPA5 IS OFF-LINE
     DO YOU WANT IT TO BE 1)ON-LINE, 2)OFF-LINE, OR 3)DOWN? (TYPE #9

     2

     %DPA6 IS OFF-LINE
     DO YOU WANT IT TO BE 1)ON-LINE, 2)OFF-LINE, OR 3)DOWN? (TYPE #)

     2

     TYPE STR NAME TO CHANGE ITS PARAMETERS(CR IF NONE, ALL IF ALL)

     TYPE PHYSICAL UNIT NAME TO CHANGE ITS PARAMETERS(CR IF NONE, ALL
     IF ALL)

     DO YOU WANT TO CHANGE THE ACTIVE SWAPPING LIST?

     DO YOU WANT TO CHANGE THE "SYS" SEARCH LIST?

     STARTUP OPTION: QUICK
          .
          .
          .



Example 2
ONCE DIALOGUE                                               Page 16-20____ ________
STARTUP OPTION: CHANGE


     BOOTS

     6.03
     SYSCHK (N,Y):

          6.03 SYSTEM #160 12-19-77
     DATE: DEC 28
     TIME: 1250

     STARTUP OPTION: CHANGE

     TYPE STR NAME TO CHANGE ITS PARAMETERS(CR IF NONE, ALL IF ALL)
     DSKX

     AFTER EACH PRINTING OF CURRENT VALUE, TYPE NEW VALUE OR CR

     PARAMETERS WHICH MAY BE CHANGED WITHOUT REFRESHING
     # OF CONSECUTIVE BLOCKS TRIED FOR ON OUTPUT = 30
     MIN = 1 MAX = 80000

     SUM OF BLOCKS GUARANTEED TO USERS = 0
     MIN = 0 MAX = 80000

     # BLOCKS ALLOWED FOR OVERDRAW PER USER = 500
     MIN = 0 MAX = 80000
     1000

     PARAMETERS WHICH MAY NOT BE CHANGED WITHOUT REFRESHING
     K FOR CRASH.SAV = 96
     MIN = 0 MAX = 256
     0

     BLOCKS PER CLUSTER = 5
     MIN = 1 MAX = 511

     THEREFORE BITS PER CLUSTER ADR. = 13
     THEREFORE BLOCKS PER SUPER-CLUSTER = 5
     THEREFORE SUPER-CLUSTERS PER UNIT = 8000

     BITS PER CLUSTER COUNT = 9
     MIN = 1 MAX = 18

     THEREFORE BITS PER CHECKSUM = 14

     TYPE STR NAME TO CHANGE ITS PARAMETERS(CR IF NONE, ALL IF ALL)

     TYPE PHYSICAL UNIT NAME TO CHANGE ITS PARAMETERS(CR IF NONE, ALL
     IF ALL)

     DO YOU WNAT TO CHANGE THE ACTIVE SWAPPING LIST?

     DO YOU WANT TO CHANGE THE "SYS" SEARCH LIST?

     TYPE PHYSICAL UNIT TO WRITE HOME BLOCKS
     (CR IF NONE, ALL IF ALL ;"ALL" IS NORMAL CASE)
     DPA4
     DPA5

     HOME BLOCKS WRITTEN

     %NEED REFRESHING:
     DSKX
     TYPE STR NAME TO BE REFRESHED(CR IF NONE, ALL IF ALL)
ONCE DIALOGUE                                               Page 16-21____ ________
STARTUP OPTION: CHANGE


     DSKX
     TYPE STR NAME TO BE REFRESHED(CR IF NONE, ALL IF ALL)

     STARTUP OPTION: Q
     TO AUTOMATICALLY LOG-IN UNDER [1,2] TYPE "LOGIN"



Example 3

     SYSCHK (N,Y): Y

     MEMORY MAP =
     FROM      TO SIZE/K
     000000 537777 176
     CONTROLLER MTA IS UNACCESSIBLE

       6.03 SYSTEM #160 12-02-77
     WHY RELOAD: OTHER ;ONCE EXAMPLE
     DATE: 4 DEC 1977
     TIME: 46

     STARTUP OPTION: CHANGE

     %DPA6 IS OFF-LINE
     DO YOU WANT IT TO BE 1)ON-LINE, 2)OFF-LINE, OR 3)DOWN? (TYPE #)

     2

     %DPB0 IS OFF-LINE
     DO YOU WANT IT TO BE 1)ON-LINE, 2)OFF-LINE, OR 3)DOWN? (TYPE #)

     2

     TYPE STR NAME TO CHANGE ITS PARAMETERS (CR IF NONE, ALL IF ALL)

     DO YOU WANT TO CHANGE THE ACTIVE SWAPPING LIST?
     Y
     FOR EACH CLASS TYPED PHYSICAL UNIT NAMES(EXTRA CR WHEN DONE)
     CLASS 0
     FHA0
     FHA1

     CLASS 1
     DPA0

     CLASS 2
     DPA0
     ?UNIT ALREADY IN ACTIVE SWAPPING LIST
     DPB0
     ?UNIT HAS NO SPACE ALLOCATED FOR SWAPPING


     DO YOU WANT TO CHANGE THE "SYS" SEARCH LIST?
     Y
     TYPE STR NAMES FOR "SYS" SEARCH LIST (EXTRA CR WHEN DONE)
     DSKN
     DSKA
     DSKB
     DSKC

     TYPE PHYSICAL UNIT TO WRITE HOME BLOCKS
     (CR IF NONE, ALL IF ALL ;"ALL" IS NORMAL CASE)
ONCE DIALOGUE                                               Page 16-22____ ________
STARTUP OPTION: CHANGE


     ALL

     HOME BLOCKS WRITTEN

     STARTUP OPTION: GO

       6.03 SYSTEM #160 12-2-77
     .R OPSER
     [OPRPAF PROCESSING AUTO COMMAND FILE]
     00:49:19(0)
              .
     00:49:20(0)
              .
     00:49:28(0)



16.8  STARTUP OPTION: LONG      _______ _______ ____

The LONG option allows you to explicitly set  all  system  parameters,
and   to   refresh  and  restructure  the  entire  file  system  in  a
non-standard way.  The entire "LONG dialogue", as described in Section
16.8.3, is invoked.  Note that the exact sequence of operator dialogue
depends on your answers to the individual  questions.   That  is,  the
answers  to  certain  questions cause ONCE-Only to branch in different
directions.  Section 16.8.3  follows  the  most  commonly  encountered
path.

If ONCE encounters problems in trying to start the monitor,  the  LONG
dialogue questions may be automatically invoked (with the QUICK and GO
options).



16.8.1  Frequency        _________

As stated in Section 16.1, you should choose the LONG option only when
no  other  option  or  combination  of  options will suffice.  For new
systems, the preferred method  is  for  you  to  specify  the  DESTROY
option,  followed  by  the CHANGE option (for individual exceptions to
the standard).



16.8.2  Example        _______

This example assumes that you accept all system  defaults,  i.e.,  you
respond  to  all  questions  with  a carriage return.  (Section 16.8.3
illustrates a more complex situation.)

     BOOTS

     6.03
     SYSCHK (N,Y):

               6.03 SYSTEM #160 3-19-77
     DATE: MAR 28
     TIME: 1255

     STARTUP OPTION: LONG

     IN THE FOLLOWING DIALOG, ALL NUMBERS ARE DECIMAL.
     TYPE <CR> IF OK, OR A NEW NUMBER TO CHANGE VALUE.
ONCE DIALOGUE                                               Page 16-23____ ________
STARTUP OPTION: LONG


     # MONITOR BUFFERS = 6


     TYPE PHYSICAL UNIT NAME TO LIST # BAD REGIONS(CR IF NONE, ALL IF
     ALL)


     DSK FILE STRUCTURES(STRS):
     DSKA:FHA0(XLZG),FHA1(GLZX)
     DSKB:DPA1(ONC501),DPA0(ONC517)
     DSKC:DPA2(RP03A)
     DSKN:DPA3(2RP023)
     DSKX:DPA4(ONC554),DPA4(ONC566)
     DSKH:DPA6(2RP)

     UNITS IN ACTIVE SWAPPING LIST:
     FHA0(0),FHA1(0)

     STRS IN "SYS" SEARCH LIST:
     DSKA,DSKN,DSKB,DSKC

     TYPE STR NAME FOR A LIST OF ITS PARAMETERS(CR IF NONE, ALL IF
     ALL)


     TYPE PHYSICAL UNIT NAME TO LIST ITS PARAMETERS(CR IF NONE, ALL IF
     ALL)

     DO YOU WANT TO CHANGE ANY DISK PARAMETERS?(CR IF NO)

     TYPE STR NAME TO BE REFRESHED(CR IF NONE, ALL IF ALL)

     STARTUP OPTION: QUICK

           6.03 SYSTEM #160 12:56:33 CTY
     DSKN:  System #160  INITIA types the
     .                   text found in
     .                   STR.TXT.
     .

     .LOGIN[1,2]         ;This is typed
                         ;automatically.
     .R OPSER
     [OPRPAF PROCESSING AUTO COMMAND FILE]
       .
       .
       .



16.8.3  Complete Description of Each "Long Dialogue" Question        ________ ___________ __ ____ _____ _________ ________



                                 NOTE

               It  is  possible  for   an   experienced
               operator   to  stop  the  typeout  of  a
               lengthy ONCE-Only  question.   When  you
               type   a   character   during  ONCE-only
               typeout,  a  ^O  is   echoed   and   the
               remainder  of the question is not typed.
               (The space character is  recommended  as
ONCE DIALOGUE                                               Page 16-24____ ________
STARTUP OPTION: LONG


               the  character  for  you to type to stop
               output, because it is usually ignored as
               input.)



     1.  Get the monitor from the disk with BOOTS or from magtape with
         BOOTM.  Refer to the earlier chapters of this manual.

     2.  The system compares the type of monitor  (1040,  1050,  1055,
         1070,  1080,  1090) and the type of processor (KA10, KI10, or
         KL10) for  compatibility.   If  incompatible,  the  following
         message is typed and the monitor halts.

              THIS MONITOR WAS BUILT FOR A (KA10, KI10, KL10) AND
              WILL NOT RUN PROPERLY ON (KI10, KA10, KL10).

     3.  If the optional loadtime diagnostic SYSCHK is included in the
         system software (determined by a system programmer during the
         MONGEN dialogue), ONCE asks if you wish to  run  it  at  this
         time

              SYSCHK (N,Y):

         USER RESPONSE:  N or <CR> to skip the diagnostic

         The loadtime diagnostic SYSCHK is  a  5-second  program  that
         ensures  the  accessibility  of  memory  and all devices on a
         configuration.

         The system types the name of the  monitor  and  the  creation
         date and asks for the reason for the reload.  ONCE types

              6.03 SYS #2 3-1-77

              WHY RELOAD:

         You respond with one of the following acceptable  answers  or
         an abbreviation that uniquely describes it:

                         OPR
                         PARITY
                         POWER
                         STATIC
                         HARDWARE
                         NXM
                         HALT
                         LOOP
                         HUNG
                         PM
                         CM
                         SA
                         NEW
                         SCHED
                         OTHER

         (See Section 16.9 for  a  detailed  explanation  of  the  WHY
         RELOAD:  question.)

     4.  The system types the creation date and asks for today's  date
         and time.

              DATE:  MAR 17 1977
ONCE DIALOGUE                                               Page 16-25____ ________
STARTUP OPTION: LONG


         Type the date as the name of the  month  (January - December)
         and the numerical day of the month (1-31) in any order.  (The
         name  of  the  month  may  be  shortened  as  long   as   the
         abbreviation  is unique.) The year is optional.  If included,
         it must  be  a  4-digit  number  (1977)  or  a  2-digit  (77)
         abbreviation  following  the  month and day.  If omitted, the
         creation  date  of  the  monitor  is  assumed.   Examples  of
         acceptable input are:

              SEPTEMBER 17 1977
              SEPT 17
              17 SEPT
              S 17

         If an incorrect format is detected,  the  ONCE-Only  dialogue
         reasks the question in more detail:

              PLEASE TYPE TODAY'S DATE AS MM-DD-YY:


                                     NOTE

             It is very important that you  type  in  the  correct
             date.  If you type an incorrect date, user files will
             be written with the wrong creation and access  dates.
             The  automatic COMPIL, if the source file was created
             later  than  .REL  file,  will  break   down.    More
             seriously,  if  your installation is purging files by
             date created  or  accessed,  users'  files  could  be
             incorrectly  deleted.  If you discover later that you
             typed in the  wrong  date  but  the  system  has  not
             started  running  the null job yet (Step 32), you may
             restart the monitor at 400, reload it, or use the SET
             DATE command.

                  TIME:  0843<CR>

             You type time based on a 24-hour  clock,  e.g.,  type
             0843 <CR> for 8:43 AM, or 1345 <CR> for 1:45 PM.

             If an incorrect format  is  detected,  the  ONCE-Only
             dialogue reasks the question in more detail:

                  PLEASE TYPE TIME AS HHMM:

             As with the date, it is very important that you  type
             in  the  correct time.  You can change the time after
             the monitor has started to timeshare  using  the  SET
             DAYTIM command.  (Refer to the DECsystem-10 Operating
             System Command Manual  in  the  DECsystem10  Software
             Notebook.)   However,   this   practice   is   to  be
             discouraged because it confuses the creation times of
             files  and  causes  the  accounting  system  to  make
             incorrect charges for connect time.  You  can  reload
             or restart the monitor if you detect the error before
             Step 31 (null job running).


         If, after loading the monitor (Step 0), you are not asked the
         reason  for  the  reload  and  the date and time, perform the
         following:

          a.  Check that the NXM STOP is  off.   If  not  (this  is  a
ONCE DIALOGUE                                               Page 16-26____ ________
STARTUP OPTION: LONG


              common error and is easily recovered), set if off.

          b.  Push CONTINUE.  ONCE goes back to Step 2.  Now  you  may
              respond to date and time queries.

         If this procedure does not work, it may be that  the  monitor
         was written without a starting address.  Try the following:

          a.  Set the address switches to 000400.

          b.  Press STOP, RESET, START (in that order).

          c.  Go back to Step 1 and respond to DATE, WHY  RELOAD,  and
              TIME queries.

     5.  ONCE checks to see if  all  of  memory  is  accessible.   The
         amount of accessible memory is determined by scanning memory.
         If the amount found is less  than  that  specified  when  the
         monitor  was  built  (by  a  MONGEN  question), the following
         message is typed.

              % MEMORY FROM XXXXXX TO YYYYYY IS OFF LINE
              DO YOU WANT IT TO BE  1) ON LINE, OR  2) DOWN?
                 (TYPE #)

         USER RESPONSE:  1 OR 2

         If the memory is required, check to see that the memory banks
         in  question are properly selected and addressed, then type 1
         after any adjustments.  Memory is rescanned to check for  the
         required amount.

         If the memory is not required, type 2.  The  memory  is  then
         classified  as  down  or  unavailable, and is not used.  Note
         that on  KA10-based  systems  (1040,  1050,  and  1055),  all
         available   memory   should   be   contiguous  (all  memories
         classified as down are at the top of core) for maximum system
         performance,  e.g.,  non-contiguous memory limits the maximum
         job   size   and   compromises   the   swapping    algorithm.
         Nevertheless,   it   is  possible  to  run  on  a  KA10  with
         non-contiguous memory.

         Note that after a system power failure, the memories that you
         want  on-line  may  not  be  in a ready condition.  If the AW
         (await request) light is not ON, open the front door  of  the
         appropriate  memory cabinet and push the RESET switch several
         times.  If the AW light does not go on, go to the rear of the
         cabinet  and  power the memory OFF and then ON.  If the light
         still does not go on, type 1 anyway  (because  the  indicator
         bulb may be burnt out).

         If the monitor repeats  the  message  for  the  same  memory,
         deselect  all  ports on that memory and, if contiguous memory
         is desired, switch the highest memory down into the  deselect
         memory.    Be   sure   to  check  all  ports  and  check  for
         interleaving.

         If the highest memory is interleaved,  you  must  change  the
         interleaving of the memories adjacent to the highest memory.

     6.  ONCE asks for the desired STARTUP Option

              STARTUP OPTION:
ONCE DIALOGUE                                               Page 16-27____ ________
STARTUP OPTION: LONG


         You type one of the following,  depending  upon  your  needs.
         (Refer  to  Sections  16.2  through  16.8 for a more detailed
         explanation of each option.)

          QUICK     To start the system quickly without  changing  any
                    parameters.  (Refer to Section 16.2.)

          GO        To check to see if everything is in order  and  to
                    start  the  system  with  a  minimum  of dialogue.
                    (Refer to Section 16.3.)

          DESTROY   To automatically restructure and refresh all disks
                    according  to  a  predetermined  set of standards.
                    (Refer to Section 16.4.)

          REFRESH   To explicitly  refresh  selected  file  structures
                    without  changing other system parameters.  (Refer
                    to Section 16.5.)

          UNITID    To change selected unit IDs without changing other
                    system parameters.  (Refer to Section 16.6.)

          CHANGE    To  explicitly  set  or   change   selected   file
                    structure parameters.  (Refer to Section 16.7.)

          LONG      To explicitly set all parameters  and  restructure
                    the  file system in a non-standard way.  (Refer to
                    Section 16.8.)

          NOINITIA  To start the system quickly  without  setting  any
                    new  parameters  and without running INITIA (refer
                    to Section 16.2).



         USER RESPONSE:  LONG

     7.  ONCE lists the  number  of  monitor  buffers  and  accepts  a
         change.


                   # MONITOR BUFFERS = 6



         USER RESPONSE:  <CR> to leave at that number

                         Type n (decimal)  to  change  the  number  of
                         buffers

         The value you  type  is  not  written  back  onto  the  disk;
         therefore,  it lasts only for this load of the monitor.  Note
         that the value you type must be 2 or greater.

         This parameter can be changed permanently by

          a.  Redefining symbol MBFN during the MONGEN dialogue or

          b.  Patching the location  MBFNUM  with  EXEC  DDT  or  with
              FILDDT and resaving it.
ONCE DIALOGUE                                               Page 16-28____ ________
STARTUP OPTION: LONG


     8.  ONCE reads both HOME blocks from each unit in system.

         The ONCE-Only dialogue reads the HOME blocks  from  all  disk
         units that the Monitor was generated to handle.  If a unit is
         write protected, the ONCE-Only dialogue types:



              %DPA2 IS WRITE PROTECTED

              DO YOU WANT IT TO BE 1) WRITE-ENABLED, OR
                 2) WRITE-PROTECTED? (TYPE #)



         USER RESPONSE:  1

         Set the unit properly.  If you do not wish to initialize  the
         HOME  blocks,  turn the unit off line.  After the HOME blocks
         have been initialized the first  time,  the  monitor  can  be
         started with the unit write protected.

     9.  ONCE  lists  HOME  block  consistency  errors  and  asks   to
         initialize.  If a disk unit has not been refreshed previously
         (true for the first time Monitor startup) or has been written
         on  by  a test or maintenance program, the ONCE-Only dialogue
         types:

              ?FHA0 FIRST HOME BLOCK CONSISTENCY ERROR

              ?FHA0 SECOND HOME BLOCK CONSISTENCY ERROR

              DO YOU WANT TO INITIALIZE THE HOME BLOCKS
                 ON THIS UNIT?



         USER RESPONSE:  Y

         If only one of the two HOME blocks has a consistency  errors,
         you  type  N<CR>  and the data in the good HOME block will be
         used.  If both HOME blocks have consistency errors, you  must
         dissolve the file structure, redefine, and refresh.  You type
         Y<CR> to this question and continue with the LONG dialogue.

         If there are any off-line controllers, the ONCE-Only dialogue
         might type:

              %CONTROLLER FHA IS OFF-LINE

              DO YOU WANT IT TO BE 1) ON-LINE, OR
                 2) DOWN?  (TYPE #)



         USER RESPONSE:  1 or 2

         You must change the controller if it was  not  set  properly.
         If  you  type  anything  other  than 2, the monitor tries the
         controller again.  If you  specify  that  the  controller  is
         down, the monitor does not attempt to use any of the units on
         the controller.
ONCE DIALOGUE                                               Page 16-29____ ________
STARTUP OPTION: LONG


         If there are any on-line controllers, ONCE may type:

              %CONTROLLER DPAn WRITE-HEADER LOCKOUT SWITCH
                 ALLOWS WRITING HEADERS.

              DO YOU WANT IT TO BE 1) SET OR
                 2) IGNORED  (TYPE #)



         USER RESPONSE:  1

         If  the  write-header  lockout  switch  is  OFF,  it   allows
         formatting  of  disk  packs under timesharing.  If it is OFF,
         turn the switch to ON and type 1.  This switch must be ON  to
         start the monitor.

         If you type 2 (ignored), ONCE types

              NOT NORMALLY DONE, ARE YOU SURE?

         as a warning.  You type YES if you are sure, and  NO  if  you
         wish to reanswer the previous question.

         If there are  any  off-line  units  on  the  controller,  the
         ONCE-Only dialogue might type:

              %FHA1 IS OFF-LINE

              DO YOU WANT IT TO BE 1) ON-LINE,
                 2) OFF-LINE, OR 3) DOWN?  (TYPE #)

         USER RESPONSE:  1, 2, or 3.

         You must change the unit if it has not been set properly.  If
         you  type  anything  other than 2 or 3, the monitor tries the
         unit again.  If you  specify  that  the  unit  is  down,  the
         monitor  cannot  access it again, unless you issue the ATTACH
         command to put the unit off-line.  The MOUNT command  can  be
         used  to  place  the  unit in the monitor's pool of available
         devices.  You can also issue the DETACH command to declare  a
         unit  as down, which removes the unit from the monitor's pool
         of available devices.  You can cause a disk pack unit  to  be
         off-line   without   powering   it   down.   Simply  set  the
         enable/disable switch to disable the unit.  If the monitor is
         built  to  handle more units than are physically attached, no
         harm is done.  There is only the minor annoyance of answering
         this  question with 3 every time the Monitor is started (LONG
         dialogue).  Software unit data blocks (UDBs)  can  be  easily
         patched  out  of  the system with EXEC DDT or FILDDT to avoid
         the above  questions  because  the  unit  data  blocks  (e.g.
         RPA3CB)  are  linked  through  the  LH  of  relative location
         UNISYS.  (Refer to PATMON.)

         On subsequent startups, one of the following  error  messages
         may occur:

               ?MORE THAN ONE LAST UNIT IN ACTIVE SWAPPING LIST

               ?MORE THAN ONE LAST UNIT IN STR XXXX

               ?NO UNITS IN ACTIVE SWAPPING LIST
ONCE DIALOGUE                                               Page 16-30____ ________
STARTUP OPTION: LONG


               %LAST UNIT IN ACTIVE SWAPPING LIST NOT FOUND

               ?CHANGE THE SLAVE OFFSET SWITCH IN BAY 2

               ?TWO LOGICAL UNIT N'S FOUND IN ACTIVE SWAPPING LIST

               %LOGICAL UNIT N MISSING FROM ACTIVE SWAPPING LIST

               ?LAST UNIT WASN'T FOUND IN STR XXXX

               ?TWO LOGICAL UNIT N'S FOUND IN STR XXXX

               ?LOGICAL UNIT N MISSING FROM STR XXXX

               ?TWO LOGICAL STR N'S FOUND IN "SYS" SEARCH LIST

               %LOGICAL STR # N MISSING FROM SYS SEARCH LIST

               ?NO STR'S IN SYS SEARCH LIST

         You must change parameters and/or mount or dismount packs  to
         get  rid  of the error condition.  It is not an error to have
         units that are not in any file structure.  So the message

              UNITS NOT IN A FILE STRUCTURE:

         does not need corrective action.  In fact, the swapping  unit
         in  a large system may be entirely dedicated to swapping.  In
         this case, it is recommended that the swapping  unit  not  be
         included  in  a  file  structure  because  the  space for the
         skeleton file structure can be saved.   Note,  however,  that
         the  first  12 decimal blocks must still be used for HOME and
         BAT blocks.

    10.  ONCE lists BAT block consistency errors:

              ?DPA0 FIRST BAT BLOCK CONSISTENCY ERROR

              ?DPA0 SECOND BAT BLOCK CONSISTENCY ERROR



              DO YOU WANT TO INITIALIZE THE BAT BLOCKS ON
                 THIS UNIT?

         USER RESPONSE:  N

         (Type Y if the BAT block has  not  been  written  on  by  the
         mapping option of a maintenance program.)

         If only one BAT block has  consistency  errors,  you  type  N
         because  the  other BAT block is probably all right.  If both
         BAT  blocks  have  consistency  errors,  you  type  Y.   ONCE
         responds with

              NOT NORMALLY DONE, ARE YOU SURE?

         USER RESPONSE:  Y

         ONCE responds with INITIALIZING BAT BLOCKS.

         ONCE asks for unit names on which to list the number  of  bad
         regions from the BAT blocks.
ONCE DIALOGUE                                               Page 16-31____ ________
STARTUP OPTION: LONG


              TYPE PHYSICAL UNIT NAME TO LIST BAD REGIONS

              (<CR> IF NONE, ALL IF ALL)

         USER RESPONSE:  <CR>

         Usually there are none, but if you specify a physical name or
         ALL, then ONCE types

              DPA2 (2RP005)

              # BAD REGIONS=xxxxx

              #BAD BLOCKS=XXXXX

    11.  ONCE lists STRs and units for disk packs in them.

         The ONCE-Only dialogue types out  each  file  structure  name
         followed  by  the physical unit name of each unit in the file
         structure in its logical order.  The  unit  ID  is  typed  in
         parentheses after each physical unit name.  Example:

              DSK FILE STRUCTURES (STRS):

              DSKA:FHA0(RM10A),FHA1(RD10A)

              DSKB:DPA1(DP0KZQ),DPA0(DP2KMR),DPA2(DP1RWP)

         If there are no file structures,  only  the  header  line  is
         typed, because you must take action.

    12.  ONCE lists units not in an STR, if any.

         The ONCE-Only dialogue types out each physical unit not in  a
         file  structure  followed  by  the unit ID.  This list always
         includes the off-line and down units.  Parentheses  mean  the
         unit name is zero.  Example:

              UNITS NOT IN A FILE STRUCTURE:

              FHA2(),DPA3(DP35WN)

         If there are no units in the file structures, the heading  is
         not typed.

    13.  ONCE lists units in the active swapping list.

         The ONCE-Only dialogue types out all physical  units  in  the
         active  swapping  list, along with the swapping class of each
         unit.   Class0,  class1  ...    classn   describe   different
         varieties  of  swapping  space.  Lower number swapping spaces
         should contain high-speed devices  because  all  lower  class
         space is used first.

              UNITS IN ACTIVE SWAPPING LIST:

              FHA(0),DPA1(1)

         If there are no  units  in  the  active  swapping  list,  the
         ONCE-Only dialogue types:

              ?NO UNITS IN ACTIVE SWAPPING LIST
ONCE DIALOGUE                                               Page 16-32____ ________
STARTUP OPTION: LONG


         This typeout is to be expected on the first monitor  startup.
         This  situation  must  be corrected by including at least one
         unit in the active swapping list.

    14.  ONCE lists STRs in the system search list.

         The ONCE-Only dialogue types out all file structure names  in
         the  system search list for device SYS.  SYS should include a
         fast and a slow file structure.  Most .EXE  files  should  be
         put  on  the  slower  file  structure,  because  the  dormant
         segments are kept on the faster swapping units.  Other active
         files  such  as accounting files should also be considered as
         candidates for a faster file structure within SYS.

         Example:

              STR's IN "SYS SEARCH LIST:

              DSKA,DSKB

         (There will be none the first time.)

    15.  ONCE asks for an STR name to list its parameters.

               TYPE STR NAME FOR A LIST OF ITS PARAMETERS (CR IF NONE,
               ALL IF ALL)

         USER RESPONSE:  <CR>

    16.  ONCE asks for a unit name to list its parameters.

               TYPE PHYSICAL UNIT NAME TO LIST ITS PARAMETERS (CR IF
               NONE, ALL IF ALL)

         USER RESPONSE:  <CR>

    17.  ONCE asks if you want to change anything.

              BEFORE "HOME" BLOCKS ARE REWRITTEN,
               DO YOU WANT TO CHANGE ANY DISK PARAMETERS?

         USER RESPONSE:  Y

         (You wish to define some file structures.)

         If  you  type  <CR>,  ONCE  goes  to  Step  25   (ask   about
         refreshing).

    18.  ONCE asks if you want to dissolve any STRs.

               TYPE STR NAME TO BE DISSOLVED (CR IF NONE, ALL IF ALL)

         USER RESPONSE:  <CR>

         (There are none to dissolve.) If you want to redefine a  file
         structure  on  a  subsequent startup, you must first dissolve
         all STRs that have the units you wish to include in  the  new
         STR.   If there are no file structures, which is the case the
         first time ONCE-Only is run, this question is omitted.

    19.  ONCE asks for a STR to be defined.

              TYPE STR NAME TO BE DEFINED (CR IF NONE)
ONCE DIALOGUE                                               Page 16-33____ ________
STARTUP OPTION: LONG


         USER RESPONSE:  DSKA

         (Define the fastest file structure first.)

         ONCE asks for the names of units to be in the file structure.

               TYPE NAMES OF PHYSICAL UNITS IN STR (ALL IF ALL, EXTRA
               CR WHEN DONE)

         USER RESPONSE:  FHA0 <CR>
                         FHA1 <CR>
                         <CR>

         If you type a name that is not a  physical  unit  name,  this
         incorrect name is ignored and you receive the message

              ?NOT A PHYSICAL UNIT - TRY AGAIN

         If you have two units (RM10B or RD10 or  a  mixture)  on  the
         RC10,  follow  with  an extra carriage return to indicate the
         end of file structure DSKA.  If there are a small  number  of
         units  of a particular type, say two or three, define them to
         be in one file structure.  If your installation has  a  large
         number  of  units you can define more than one file structure
         for that controller type.  Remember that it  is  possible  to
         put  RM10B and RD10 in the same file structure.  You may wish
         to leave an RM10B out of any file structure and use it solely
         for swapping, thereby eliminating most STR overhead.

         If there are any physical units not yet defined to  be  in  a
         structure,  ONCE asks for another STR to be defined.  If not,
         then ONCE goes directly to question 20.

              TYPE STR NAME TO BE DEFINED (CR IF NONE)

         USER RESPONSE:  DSKB

         (Type in the second fastest file structure name.)



         ONCE asks for units to be in this file structure.

               TYPE NAMES OF PHYSICAL UNIT IN STR (ALL IF ALL, CR WHEN
               DONE)

         USER RESPONSE:  DPA0 <CR>
                         DPA1 <CR>
                         DPA2 <CR>
                         <CR>

         If you have, for example, three units on the RP10.



         ONCE asks for another STR to be defined.

              TYPE STR NAME TO BE DEFINED (CR IF NONE)

         USER RESPONSE:  <CR>

         If all desired units have been defined to  be  part  of  some
         file structure.
ONCE DIALOGUE                                               Page 16-34____ ________
STARTUP OPTION: LONG


    20.  ONCE asks if you want to change any STR parameters.

               TYPE STR NAME TO CHANGE ITS PARAMETERS (CR IF NONE, ALL
               IF ALL)

         USER RESPONSE:  DSKA

         (Because you have not defined any parameters yet,  you  could
         type ALL to define all.)

               AFTER EACH PRINTING OF CURRENT VALUE, TYPE NEW VALUE OR
               CR

               PARAMETERS WHICH MAY BE CHANGED WITHOUT REFRESHING

               # OF CONSECUTIVE BLOCKS TRIED FOR ON OUTPUT=n
               MIN=1  MAX=m

               where n is 10 for RC10 file structures or
                          30 for RP10 file structures
               and m is the size of the STR.

         USER RESPONSE:  <CR>



              SUM OF BLOCKS GUARANTEED TO USERS=0
              MIN=0  MAX=m

               where m is the number of blocks on  the  STR.   Because
               reserve quotas are not implemented for the 603 release,
               this number is not used.

          USER RESPONSE:  <CR>



               # BLOCKS ALLOWED FOR OVERDRAW PER USER=n
               MIN=0  MAX=m

               where n is 200 for RC10 file structures
                          500 for RP10 file structures
               and m is max.  number of blocks in STR.

          USER RESPONSE:  <CR>

               The overdraw amount should be as large as a source file
               so  that  editing  with  TECO  can  be  completed while
               exceeding a  user's  quota,  but  before  the  overdraw
               amount runs out.



               PARAMETERS WHICH MAY NOT BE CHANGED WITHOUT REFRESHING
               K FOR CRASH.EXE=n
               MIN=0  MAX=4096



               n is determined by the larger of  the  MONGEN-specified
               size or the actual size of the machine.

          USER RESPONSE:  n or <CR>
ONCE DIALOGUE                                               Page 16-35____ ________
STARTUP OPTION: LONG


               Where n is the core size of the machine  on  which  the
               monitor  is  running.   (CRASH.EXE  is used by BOOTS to
               dump a core image when the monitor crashes.)



               BLOCKS PER CLUSTER=n
               MIN=1  MAX=511

               where n = 1 for RC10 file structures
               5 for RP10 file structures.  (10 is also supported  for
               RP10, RHx0, and RP0x file structures.)

          USER RESPONSE:  <CR>

                    THEREFORE BITS PER CLUSTER ADR.=13
                    THEREFORE BLOCKS PER SUPER CLUSTER=m
                    THEREFORE SUPERCLUSTERS PER UNIT=n

         For RP02, m=5 n=8000
         For RM10B, m=1, n=2700
         For RD10, m=1, n=4000
         For RP03, m=5, n=16000
         For RP04, m=10, n=15428
         For RP06, m=10, n=30780



               BITS PER CLUSTER COUNT=9
               MIN=1  MAX=18

         USER RESPONSE:  <CR>

         This gives up to 511 clusters in one retrieval pointer.

              THEREFORE BITS PER CHECKSUM=14

    21.  ONCE asks if you want to change any other STR parameters.

               TYPE STR NAME TO CHANGE ITS PARAMETERS (CR IF NONE, ALL
               IF ALL)

         USER RESPONSE:  Next STR name to be changed (e.g.,
                         DSKB)
                         or
                         <CR> if none

         Repeat question 21. for each STR.

    22.  ONCE asks if you want to change any unit parameters.

               TYPE PHYSICAL UNIT NAME TO CHANGE ITS PARAMETERS (CR IF
               NONE, ALL IF ALL)

         USER RESPONSE:  ALL

         [The first  time.]  The  ONCE-Only  dialogue  types  out  one
         physical unit name.  It repeats the questions for each unit.

               AFTER EACH PRINTING OF CURRENT VALUE, TYPE NEW VALUE OR
               CR

         (Then the monitor types out the first physical device name.)
ONCE DIALOGUE                                               Page 16-36____ ________
STARTUP OPTION: LONG


               PARAMETERS WHICH MAY NOT BE CHANGED WITHOUT REFRESHING

                ZERO UNIT ID-NEW ID NEEDED

         USER RESPONSE:  RD001

         The unit ID may be up to six characters  in  length.   It  is
         suggested  that  a  unit  ID  indicate the type of unit.  For
         example,

               RD000, RD001, RD002, RD003, (FOR RD10s)
               RM000, RM001, RM002, RM003 (FOR RM10Bs)
               2RP000, 2RP001, 2RP002, 2RP003, 2RP004, 2RP005,
               2RP006 (FOR RP02s)

         Each pack at an installation should have a unique ID.

              K FOR SWAPPING ON UNIT=0
              MIN=0  MAX=p

         For RP02 p=4095.  For RM10B or RD10 p=337.  For RP03 p=8191.

         USER RESPONSE:  N

         Where n is about 15 times the number of jobs  the  system  is
         built  for  if this is the first drum unit or 0 times for all
         other units.

         You may wish to allocate some space for swapping  on  another
         unit  in  case  the first unit goes down.  A unit will not be
         used for swapping unless it is in the active swapping list.

         If n is greater than maximum, the message (for RP02).

              ?CANNOT EXCEED 4095

         The maximum (p) may be too large.  If the unit is in  a  file
         structure,  it  is  suggested  that p-2 be the largest number
         specified.


                                     NOTE

             There is no requirement that a unit used for swapping
             be  part  of a file structure.  By not making it part
             of a file structure, the space for the skeleton  file
             structure  can  be saved.  Note that the HOME and BAT
             blocks must still be present (Blocks 1, 2 and 10,  11
             decimal).

                  COMPUTED 1ST LOGICAL BLOCK FOR SWAPPING=YYYYY
                  1ST LOGICAL BLOCK FOR SWAPPING=YYYYY
                  MIN=13 MAX=YYYY

             USER RESPONSE:  <CR>

             The ONCE-Only program has computed the best place for
             the swapping space by putting it in the middle of the
             unit.  If there are any bad spots in that region, you
             should  move  the  swapping  space  down  by typing a
             smaller  logical  block  number.   The  question   is
             skipped if no swapping space was allocated.
ONCE DIALOGUE                                               Page 16-37____ ________
STARTUP OPTION: LONG


             If YYYYY is too low, so that it would interfere  with
             the  HOME and BAT blocks, the ONCE-Only dialogue will
             type:

                  MUST EXCEED 11

             If YYYYY is too high, so that it would run past  end,
             the ONCE-only dialogue will type:

                  CANNOT EXCEED YYYYY



                  # SAT BLOCKS ON UNIT=t
                  MIN=t   MAX=223

             Where t is the minimum.

             For RP02, t=2.  For RM10B or RD10,  t=1.   For  RP03,
             t=4.  For RP04, t=4.  For RP06, t=7.

             USER RESPONSE:  <CR>


         Then the ONCE-Only dialogue types

              THEREFORE CLUSTERS PER SAT=xxxx

              THEREFORE WORDS PER SAT=yyy

         If the cluster size is smaller  than  the  recommended  size,
         more  than  one  SAT block per unit will be required.  If you
         type a number that is too small, the dialogue responds with

              TOO SMALL - MIN =N

         and repeats the question.

              PARAMETERS WHICH MAY BE CHANGED WITHOUT
              REFRESHING

              # SAT BLOCKS IN CORE=M
              MIN=1  MAX=m

         USER RESPONSE:  m

         The suggested words per SAT block have been  chosen  so  that
         each  unit  has  only one or two SAT blocks.  It is faster to
         have all SAT blocks in memory.  If the number of  SAT  blocks
         on this unit is 1, this question is skipped.  If ALL had been
         typed or another unit is to be changed,  ONCE  goes  back  to
         beginning of question 18.

    23.  ONCE lists units in the active swapping list and asks if  you
         want to make any changes.

              UNITS IN ACTIVE SWAPPING LIST:
              FHA0 (0), DPA0 (1)

              DO YOU WANT TO CHANGE THE ACTIVE SWAPPING
               LIST?

         USER RESPONSE:  Y
ONCE DIALOGUE                                               Page 16-38____ ________
STARTUP OPTION: LONG


         (You must define an active swapping list if this  is  initial
         system startup.)



              FOR EACH CLASS TYPE PHYSICAL UNIT NAMES (CR
               WHEN DONE)

              CLASS 0

         USER RESPONSE:  FHA0

         If there are more units in Class 0, type FHA1.  Type an extra
         carriage return when finished with Class 0.

         CLASS 1

         USER RESPONSE:  DPA0 if swapping space is allocated,
                                  or
                                 <CR>


                                     NOTE

             1.  Class  0,  class  1,....class  n   describe   the
             different   varieties   of   swapping  space.   Lower
             numbered swapping space should contain  higher  speed
             devices because all lower class space is used first.




                                     NOTE

             2.  The small monitor  (DECsystem-1040)  allows  only
             one  file structure and one unit for swapping.  After
             the question

                  UNITS IN ACTIVE SWAPPING LIST:
                          CLASS 0
                          DPA0

             ONCE-Only types

                  %SWAPPING LIST FULL

             With the small monitor this message is  expected  and
             should not alarm you.



    24.  ONCE lists STRs in the system search list  and  asks  if  you
         have any changes.

              STRS IN "SYS" SEARCH LIST
              DSKA,DSKB
              DO YOU WANT TO CHANGE THE "SYS" SEARCH LIST?

         USER RESPONSE:  Y

         (You must define a system search list if this is the  initial
         system startup.)
ONCE DIALOGUE                                               Page 16-39____ ________
STARTUP OPTION: LONG


               TYPE STR NAMES FOR "SYS" SEARCH LIST (EXTRA CR WHEN
               DONE)

         USER RESPONSE:  DSKA
                         DSKB
                         <CR>

         The fastest file structure name (e.g., DSKA)  followed  by  a
         slower one and an extra carriage return.

    25.  ONCE asks to list STR parameters.

               BEFORE "HOME" BLOCKS ARE WRITTEN
               TYPE STR NAME FOR A LIST OF ITS PARAMETERS (CR IF NONE,
               ALL IF ALL)

         USER RESPONSE:  <CR>

         You will be able to check after HOME blocks are written.   To
         check now type structure names or ALL.

    26.  ONCE asks to list unit parameters.

              TYPE PHYSICAL UNIT NAME FOR A LIST OF ITS
               PARAMETERS (CR IF NONE, ALL IF ALL)

         USER RESPONSE:  <CR>

         You are able to check later.

    27.  ONCE asks if you want to change anything.

              DO YOU WANT TO CHANGE ANY DISK PARAMETERS?
               (CR IF NO)

         USER RESPONSE:  <CR>

    28.  Asks for the HOME blocks to be written.

               TYPE PHYSICAL UNIT TO WRITE HOME BLOCKS  (CR  IF  NONE,
               ALL IF ALL;  "ALL" IS NORMAL CASE)

         USER RESPONSE:  ALL

         Under normal circumstances ALL is the only acceptable  answer
         to   this   question.   <CR>  can  be  used  during  software
         development if you are  experimenting  and  do  not  want  to
         change  the  HOME  blocks permanently.  (Any other answer can
         cause problems.)


         ONCE types

              HOME BLOCKS WRITTEN

         If an error condition exists, ONCE types a message  and  goes
         back  to  question  8.   If there is no error, ONCE lists the
         structures defined by the HOME  blocks  and  indicates  those
         that need refreshing.  ONCE then lists the units that are not
         in a file structure, the units that are in the swapping  list
         above,  and  the  STRs  in  the "SYS" search list.  ONCE then
         lists the parameters for  STRs  and  physical  units  if  you
         request.
ONCE DIALOGUE                                               Page 16-40____ ________
STARTUP OPTION: LONG


    29.  ONCE asks for the STR name to be refreshed.

              DO YOU WANT TO CHANGE ANY DISK PARAMETERS

         If  ONCE  determines  that  one  or  more  structures   needs
         refreshing, it will type the message:

              %NEED REFRESHING:
              aaa

         where aaa are the STRs that need refreshing.

               TYPE STR NAME TO BE REFRESHED (CR IF NONE,
               ALL IF ALL)

         USER RESPONSE:  ALL

         (The first time you wish to refresh everything.)

    30.  ONCE asks you to LOGIN.

              TO AUTOMATICALLY LOGIN UNDER [1,2] TYPE LOGIN

         USER RESPONSE:  LOGIN

    31.  The  Monitor  starts  running  the  null  job  and  initiates
         timesharing.

    32.  If the LONG option is run, post the output from questions  10
         through 27 on the wall as the latest disk configuration.

    33.  When  building  a  new  monitor  return  to  Chapter  5   for
         instructions on restoring files to the disk.




16.9  WHY RELOAD QUESTION      ___ ______ ________

As a part of the loading procedure the ONCE-Only dialogue asks for the
reason for the reload.  The question

                             WHY RELOAD:

is typed on your terminal, just before the questions  asking  for  the
date and time.  You must specify your reason for reloading the monitor
by typing one  of  the  answers  described  in  this  section,  or  an
abbreviation  that  uniquely  describes  it.   If more than one answer
applies, you type the one that appears first in the list.  If you wish
to  include  information  related  to your answer, e.g., circumstances
surrounding a system crash, you may do so by including the text on the
same line as the answer.  The entire string of text is first stored in
the crash AC area and then copied to the log file by DAEMON.

The possible answers to the  WHY  RELOAD:   question  fall  into  four
categories:

         System problem
         Stand-alone time
         New or different monitor
         Other
ONCE DIALOGUE                                               Page 16-41____ ________
WHY RELOAD QUESTION


         1.  System Problem

             If you are reloading the monitor as a result of a  system
             problem  or  crash, you identify the cause of the problem
             with one of the following answers.

               Answer         Meaning
               ------         -------

               OPR            Operator error

               PARITY         Memory parity stop or halt

               POWER          Power failure on some device

               STATIC         Static electricity

               HARDWARE       Hardware malfunction

               NXM            Non-existent memory stop

               HALT           STOPCD or halt

               LOOP           Monitor loop in executive mode

               HUNG           No response

     2.  System Stand-Alone

         If you are reloading the monitor to get timesharing  services
         back on the air, you type one of the following answers.

               Answer         Meaning
               ------         -------

               PM             Preventive   maintenance.    Stand-alone
                              that    was   required   for   regularly
                              scheduled maintenance procedures.

               CM             Corrective   maintenance.    Stand-alone
                              that   was   required   for  unscheduled
                              maintenance procedures.

               SA             Other  stand-alone  projects,  such   as
                              programmer    debugging    session    or
                              reformatting of disk packs.

     3.  New or Different Monitor

         If you are loading a new or a different monitor,  you  choose
         one of the following answers.

               Answer         Meaning
               ------         -------

               NEW            New monitor, e.g., monitor with an added
                              feature or improvement via a patch.

               SCHED          A scheduled change from one  monitor  to
                              another,  e.g.,  a  change  from  a dual
                              system  monitor  to  a   single   system
                              monitor and back.
ONCE DIALOGUE                                               Page 16-42____ ________
WHY RELOAD QUESTION


     4.  Other

         If none of the above reasons applies, you type OTHER.




16.10  ERROR MESSAGES       _____ ________

The following error messages may be typed on your terminal during  the
ONCE-Only dialogue.

%ACTIVE SWAPPING LIST FULL

          An attempt was made to specify  more  units  to  the  active
          swapping  list  than  the  monitor  tables  can handle.  The
          current limit is 8.  If you need more  swapping  space,  you
          should  increase  the  amounts  on  the  eight units already
          specified.



?CANNOT EXCEED # BLOCKS IN FILE STRUCTURE = n

          The number of disks blocks specified for reserved quotas  or
          the  number of disk blocks specified for the overdraw amount
          was too large.  You should type in a  number  less  than  or
          equal to n.



?CANNOT EXCEED # SAT BLOCKS ON UNIT = n

          The number of SAT blocks in memory cannot exceed the  number
          of  SAT  blocks  (n)  on the unit.  You should type a number
          less than or equal to n.

%CONTROLLER DPA HAS WRITE HEADER LOCKOUT SWITCH OFF
DO YOU WANT IT TO BE 1) ON-LINE, 2) OFF-LINE, OR
    3) DOWN?  TYPE#



?CPU0 FAST AC'S ARE OFF (FM ENB)

          In a multiprocessing system, the monitor  halts  after  this
          message  because  it  is  not possible for a multiprocessing
          system to run without the fast ACs (split  memory  cycle  is
          enabled).   You  must  enable the fast ACs by performing the
          following steps:

          1.  Push STOP.

          2.  Turn FM ENB off.

          3.  Set ADDRESS switches to 400.

          4.  Push START.

          On a single processor  system,  the  above  is  an  advisory
          message.   The  system  runs considerably slower without the
          fast ACs, so you should enable them as  indicated  in  steps
          1-4 above.
ONCE DIALOGUE                                               Page 16-43____ ________
ERROR MESSAGES


%DPA IS OFF-LINE
DO YOU WANT IT TO BE 1) ON-LINE OR 2) DOWN?  (TYPE#)

          Controller DPA (RP10) is off line.   You  should  check  the
          settings  of  all switches in RP10 bay.  All switches should
          be down.  After changing the switches, you  should  type  1.
          If  you  do  not want the monitor to use the controller, you
          should type 2.  This also applies to DPB.



%DPA0 IS OFF-LINE
DO YOU WANT IT TO BE 1) ON-LINE, 2) OFF-LINE, OR
    3) DOWN?  (TYPE#)

          You should  check  the  START/STOP  rocker  switch  and  the
          ENABLE/DISABLE  switch  on  the  individual  disk pack unit.
          They should be in the normal position with the  top  of  the
          switch  in.  After changing switches, you should type 1.  If
          you do not want the monitor to use the unit, you should type
          2.        This      message      also      applies      with
          DPA1,DPA2,...,DPA7,DPB0,DPB1,...,DPB7.



%DPA0 IS WRITE PROTECTED.  DO YOU WANT IT TO BE
   1) WRITE-ENABLED, OR 2) WRITE-PROTECTED?

          Disk pack unit DPA0 is on line, but is write protected.   If
          you  wish  it  to  remain  this  way,  you  should  type  2.
          Otherwise, you should set  the  READWRITE/READ  ONLY  rocker
          switch  to  normal (top of switch in) and then type 1.  This
          message also applies with DPA1,...,DPA7,DPB0,DPB1,...,DPB7.



?ERROR ON CPU1
?CHANGE THE CPU1 MA TRP OFFSET SWITCH IN BAY1

          In a multiprocessing system, the monitor  halts  after  this
          message  is  printed  at  CTY  (CPU0).  At the CPU1 console,
          behind the door of bay 1, change the setting of the  MA  TRP
          OFFSET  switch.   Then  push  CONT  on  CPU1.   (CPU0 is not
          affected by this error and continues timesharing.)



?ERROR ON CPU1
?FAST AC'S TURNED OFF - SET FM ENB

          In a multiprocessing system, CPU1 halts after  this  message
          is  typed  at  CTY  (CPU0).   At  CPU1 console set FM ENB by
          rocking the FM ENB switch (on the maintenance  panel  behind
          the  door).   Then push CONT at CPU1.  (CPU0 is not affected
          by this error and continues timesharing.)



%FHA IS OFF-LINE
DO YOU WANT IT TO BE 1) ON-LINE OR 2) DOWN?  (TYPE #)

          Controller FHA  (RC-10)  is  off  line.   You  should  check
          settings  of all switches in RC-10 bay.  All switches should
ONCE DIALOGUE                                               Page 16-44____ ________
ERROR MESSAGES


          be down.  After changing switches, you should  type  1.   If
          you  do  not  want  the  monitor  to use the controller, you
          should type 2.  Also applies to FHB.



%FHA0 IS OFF-LINE
DO YOU WANT IT TO BE 1) ON-LINE, 2) OFF-LINE, OR
   3) DOWN?  (TYPE #)

          You should check the unit dial selectors.  One of them (DISK
          A,  DISK  B,  DISK  C,  or  DISK D) should be set to 0.  You
          should set the switches for all the units you have to 0,  1,
          2,  or  3.   The  other units should be OFF.  You should not
          touch any dials that are dialed to numbers numerically  less
          than the one just typed out, because the monitor has already
          read these units.  After changing the  switches  and  dials,
          you should type 1.  If the unit is temporarily down and will
          be fixed while the system runs, you should type 2.   In  all
          other  cases,  you  should  type  3.   This  could  apply to
          FHA1,...,FHA3,FHB0,...,FHB3.



FIRST BAT BLOCK CONSISTENCY ERROR

          The ONCE-Only dialogue has discovered that the first of  two
          redundant  BAT  blocks  does  not  contain  some of the data
          normally expected in a BAT block.  This is not a fatal error
          because  the other BAT block is probably all right.  If both
          BAT blocks have this error, you should  initialize  the  BAT
          blocks.  This error may occur if some of the diagnostics are
          run.



FIRST BAT BLOCK HARDWARE ERROR

          The ONCE-Only  dialogue  has  had  a  hardware  error  while
          reading  the  first  of  two  redundant BAT blocks.  Because
          there is another BAT block, this error is usually not fatal.
          The controller status is put in the console lights.



FIRST HOM BLOCK CONSISTENCY ERROR

          The ONCE-Only dialogue has discovered that the first of  two
          redundant  HOME  blocks  does  not  contain some of the data
          normally expected in a HOME block.  Therefore, none  of  the
          data  should  be  considered  valid.   This is not a serious
          error since the other HOME block is usually all  right.   If
          both  HOME  blocks  have  consistency  errors,  you  have to
          dissolve the file structure, redefine it, and refresh it.



FIRST HOM BLOCK HARDWARE ERROR

          The ONCE-Only  dialogue  has  had  a  hardware  error  while
          reading  or  writing the first of two redundant HOME blocks.
          This is not fatal because there is another HOME block.   The
          controller  status  is  put  in  the console lights, and the
ONCE DIALOGUE                                               Page 16-45____ ________
ERROR MESSAGES


          controller is left in its error condition.



?LAST UNIT WASNT FOUND IN STR DSKn

          The last unit in file  structure  is  missing.   You  should
          check  to  see  that  all  the  proper packs are mounted and
          on-line.  If not, you should remount them  and  restart  the
          monitor  at  140.   Otherwise, you have to dissolve the file
          structure,  redefine  it,  and  then  refresh  it,   thereby
          destroying any data already on the unit.



%LOGICAL STR # n MISSING FROM THE "SYS" SEARCH LIST

          A file structure is missing from the SYS search list.   This
          condition  need  not  be corrected, because the monitor will
          skip the missing file structure.  To avoid  the  message  in
          the  future,  you  should change the system search list when
          asked.



%LOGICAL UNIT n MISSING FROM ACTIVE SWAPPING LIST

          A unit is missing from the active swapping list.   This  can
          happen  if  a unit is off line or down.  This error need not
          be corrected since the monitor will order the swapping  list
          accordingly.



?LOGICAL UNIT n MISSING FROM STR DSKn

          A unit  is  missing  from  a  file  structure  and  must  be
          remedied.   You  should  check  that  all  proper  packs are
          mounted and on line.  If this is not so, you should add  the
          proper packs and restart the monitor at 140.  Otherwise, you
          have to  dissolve  the  file  structure,  redefine  it,  and
          refresh it, thereby destroying any data already on the unit.



%MEMORY FROM xxxxx TO yyyyy IS OFFLINE
DO YOU WANT IT TO BE 1) ONLINE OR 2) DOWN?  (TYPE #)

          If the specified memory is supposed to be off line, type  2.
          Otherwise,  push  the  reset  button  at  the  rear  of  the
          memories.  Check to see that the memory is selected and  all
          required  ports  are  ON.   After all switches are in order,
          return to the CTY and type  1.   If  the  error  message  is
          repeated,  attempt  to  switch this memory out of the system
          and switch the top memory into its place.



?MORE THAN ONE LAST UNIT IN ACTIVE SWAPPING LIST

          The active swapping list specified in  the  disk  unit  HOME
          blocks  has  more than one unit as the last one.  You should
          redefine the units in the active swapping  list  to  correct
ONCE DIALOGUE                                               Page 16-46____ ________
ERROR MESSAGES


          this situation.



?MORE THAN ONE LAST UNIT IN STR DSKn

          The file structure has more than one unit specified  as  the
          last  unit  as recorded in the disk HOME blocks.  You should
          dissolve the file structure and redefine it.



?NO UNITS IN ACTIVE SWAPPING LIST

          None of the on-line units is in the  active  swapping  list.
          Because  there  must  be swapping space, you must change the
          active swapping  list  to  include  a  unit  that  has  some
          swapping  space.  If there are no units with swapping space,
          you must define swapping space on  a  unit  not  in  a  file
          structure.   If  all  units are in file structures, you must
          refresh a file  structure,  define  the  necessary  swapping
          space, and redefine the active swapping list.



NOT NORMALLY DONE, ARE YOU SURE?

          This warning message is printed when you respond to  certain
          important questions in an unexpected or non-standard manner.
          It allows you to verify your choice  of  answer  or  recover
          from a typographical error before serious damage is done.



%PROBLEM ON CPU1

          CPU1 has halted.  Restart it by setting data switches to 400
          and pushing STOP, RESET, START.  Note that the above message
          is printed once a minute until CPU1 is started.  You can use
          the  OPSER  command  :SET CPU  to  stop scheduling CPU1 and,
          consequently, stop the message.



SAT BLOCK HARDWARE ERROR

          The ONCE-Only  dialogue  has  had  a  hardware  error  while
          reading one of the SAT blocks.



SECOND BAT BLOCK CONSISTENCY ERROR

          The ONCE-Only dialogue has discovered that the second of two
          redundant  BAT  blocks  does  not  contain  some of the data
          normally expected in a BAT block.  This is not a fatal error
          because  the other BAT block is probably all right.  If both
          BAT blocks have this error, you should  initialize  the  BAT
          blocks.  This error may occur if some of the diagnostics are
          run.
ONCE DIALOGUE                                               Page 16-47____ ________
ERROR MESSAGES


SECOND HOM BLOCK CONSISTENCY ERROR

          The ONCE-Only dialogue has discovered that the second of two
          redundant  HOME  blocks  does  not  contain some of the data
          normally expected in a HOME block.  Therefore, none  of  the
          data  should  be  considered  valid.   This is not a serious
          error since the other HOME block is usually all  right.   If
          both  HOME  blocks  have  consistency  errors,  you  have to
          dissolve the file structures, redefine and refresh.

SECOND HOM BLOCK HARDWARE ERROR

          The ONCE-Only  dialogue  has  had  a  hardware  error  while
          reading  or writing the second of two redundant HOME blocks.
          This is not fatal since there is another  HOME  block.   The
          controller  status  is  put  in  the console lights, and the
          controller is left in its error condition.



?THIS MONITOR WAS BUILT FOR A xxxxx AND
WILL NOT RUN PROPERLY ON A yyyyy.

          xxxxx and yyyyy can be PDP-6, KA10, KI10, or KL10.  You have
          loaded  the wrong monitor.  You must try another.  If, after
          several tries, the monitor appears to be  the  correct  one,
          then  you  must  rerun  MONGEN  and change the answer to the
          question asking for the type of processor.  Refer to Chapter
          9, question 3 in Section 9.4.



?TOO SMALL - MIN.  #=X

          An answer to the ONCE-Only dialogue or a  default  value  is
          too small.  Type in an answer greater than or equal to X.



?TWO LOGICAL UNIT n's FOUND IN ACTIVE SWAPPING LIST

          The active swapping list has more than one unit in the  same
          position.  You must redefine the active swapping list.

?TWO LOGICAL UNIT n's FOUND IN STR DSKn

          Two units are marked to be in the same logical  position  in
          the file structure.  This happens only if two different file
          structures have been given the same name.  You should try to
          remove  the  pack that does not belong in the file structure
          and then restart the monitor at 140.  Otherwise, you have to
          dissolve DSKn, redefine it and refresh it.



?TWO LOGICAL STR n's FOUND IN "SYS" SEARCH LIST

          Two file structures are marked to be in the same position in
          the  SYS search list.  You should change the SYS search list
          when asked.  Refreshing is not required.
ONCE DIALOGUE                                               Page 16-48____ ________
ERROR MESSAGES


unit
# BAD REGIONS=n
# BAD BLOCKS=n
DO YOU WANT TO INITIALIZE THE BAD BLOCKS ON THIS UNIT?

          You should answer with N or a carriage return to  leave  the
          BAT  blocks  alone  on  this unit.  The only time you should
          initialize is the first time the disk is written, since  the
          blocks   contain   the  accumulated  information  about  bad
          sectors.  If you answer Y, the ONCE-Only  dialogue  responds
          with  NOT  NORMALLY  DONE,  ARE YOU SURE?.  Answer Y only if
          this important data is to be erased.



?UNIT ALREADY IN ACTIVE SWAPPING LIST

          An attempt was made to specify a unit to be  in  the  active
          swapping  list  more than once.  You should type a different
          unit name to be in the active swapping list.   If  you  have
          included  the  unit  name  earlier by mistake, you will have
          another chance to change the active swapping list.



?UNIT ALREADY IN FILE STRUCTURE

          An attempt was made to specify a unit to be in more than one
          file structure.  You should type a different unit name to be
          in this file structure.  If you have included the unit in an
          earlier file structure by mistake, you will have to dissolve
          it.



?UNIT HAS NO SPACE ALLOCATED FOR SWAPPING

          An attempt has been made to  specify  a  unit  that  has  no
          swapping  space  allocated to be part of the active swapping
          list.  The unit is not added to the list.  You should do one
          of the following:

          1.  Specify another unit.

          2.  Type an extra carriage return signifying completion.

          3.  Define  swapping  space  for  a  unit  not  in  a   file
              structure.

          4.  Change the swapping space for a unit in a file structure
              and refresh it.












                              CHAPTER 17

                                BACKUP                                ______



17.1  INTRODUCTION      ____________

BACKUP is a system program that is used to save disk files on magnetic
tape,  and  later  to  restore  any  or  all  of  these files to disk.
Magnetic tape is the medium used for backup storage of disk files  and
for  transporting  files between sites.  This chapter outlines some of
the features that BACKUP provides for accomplishing these two tasks.



17.2  FEATURES      ________

BACKUP allows you flexibility in choosing the files to be  transferred
between  disk  and  tape.   You  specify  files  by  the standard file
specification   format    of    dev:filename.ext[project,programmmer].
Wildcards  and sub-file directories are fully supported.  You may also
select files based on any of  the  dates/times  associated  with  disk
files.

BACKUP can handle files that are longer  than  one  reel  of  magtape.
Switches  are  provided  for  checkpointing  files while the files are
being handled.

If you are backing up the disk file structure, you can recover from  a
system  crash  without  starting  completely  over.  You can produce a
directory listing of the tape at the same time  you  perform  a  save.
Another operator feature is a set of run-time commands compatible with
the spoolers.

To facilitate transporting files between  sites,  BACKUP  provides  an
"interchange"  mode  of  operation that prevents the writing of system
specific overhead information  on  the  tape.   Software  distribution
tapes  for  the  DECsystem-10  are  produced via BACKUP in interchange
mode.

To increase reliability, BACKUP responds  to  hardware  reported  tape
write  errors  by  rewriting  the data in a repeater record.  When the
tape is read later, these repeater records are  used  instead  of  the
originals.

These and other features are described more fully in Sections 17.3 and
17.4.
BACKUP                                                       Page 17-2______
OVERVIEW OF COMMAND FUNCTIONS


17.3  OVERVIEW OF COMMAND FUNCTIONS      ________ __ _______ _________

BACKUP commands are in the form of verbs.  BACKUP prompts with a slash
(/) and has three kinds of verbs:

     1.  Action

     2.  Status setting

     3.  Tape positioning.

Tables 17-1, 17-2 and 17-3 present BACKUP's general functions and  the
command  verbs  that  perform  them.  Verbs are grouped into the three
categories named above.  Table 17-4 contains run-time commands,  which
may be given during execution of the action verbs.


                              Table 17-1
                             Action Verbs


  Functions                                     Verbs


  Printing directory of a tape                  PRINT

  Saving or restoring disk files                SAVE, RESTORE

  Verifying agreement of tape and disk files    CHECK


                              Table 17-2
                         Status Setting Verbs


  Functions                                     Verbs


  BACKUP:name option (use from SWITCH.INI)      OPTION

  [do not] use Checkpoints                      [NO] CPOINT

  Density setting (of tape)                     DENSITY

  [do not] Encrypt the magtape                  [NO] ENCRYPT

  Include files according to:
       date-time created or modified            BEFORE, SINCE
                 moved or modified              MBEFORE, MSINCE
       date      accessed                       ABEFORE, ASINCE

       length                                   LENGTH

  PPN exemptions from above restrictions        [NO] EXEMPT

  [do not] run in Interchange Mode              [NO] INTERCHANGE

  [do not] make a Listing file while running    [N] LIST

  Parity setting                                PARITY

  Protect directories                           UPROTECTION
BACKUP                                                       Page 17-3______
OVERVIEW OF COMMAND FUNCTIONS


  Restore files from tape                       SUPERSEDE

  Resume at a specified block of initial file   RESUME N

  Save set name (specify)                       SSNAME

  Sort files or directories alphabetically,
  by location, or by directory                  SORT

  Start processing at specified file            INITIAL

  [do not] Suppress error message prefix        MESSAGE [NO] PREFIX

  [do not] Suppress first line of error
  message                                       MESSAGE [NO] FIRST

  [do not] Suppress disk writing during 
  a RESTORE                                     [NO] WRITE

  Suppress filenames and directories            SILENCE

  [do not] Type filenames or directories
  while running                                 [NO] FILES
                                                [NO] DIRECTORIES

  Tape unit (use MTB0)                          TAPE MTB0

  [do not] run in USETI mode                    [NO] USETI


                              Table 17-3
                        Tape Positioning Verbs


  Functions                                     Verbs


  Back up to start of save set                  SKIP 0 tape list

  Skip to end-of-tape mark for each tape        EOT
       n save sets forward                      SKIP n tape list
                   backward                     SKIP -n tape list

  Rewind to start of tape for each tape         REWIND

  Unload each tape                              UNLOAD


                              Table 17-4
                          Run-Time Commands


  Functions                                     Commands


  List and explain these commands               HELP

  Abort current action verb                     KILL

  Continue after a STOP                         GO

  Display current filename and status           WHAT
BACKUP                                                       Page 17-4______
OVERVIEW OF COMMAND FUNCTIONS


  Exit from BACKUP when done                    EXIT
    Do not exit from BACKUP when done           PAUSE

  Reset status settings to defaults when done   RESET

  Stop temporarily                              STOP

  [do not] Type all directories of files        [NO] DIRECTORIES
  processed                                     [NO] FILES

  Stop typing all directories or files          SILENCE



17.3.1  Action Verbs        ______ _____

The action verbs perform I/O and operate on the tape specified by  the
last  TAPE  verb  (one  of  the status setting verbs).  A tape must be
specified before using any of the action commands, or  an  error  will
result.  In the following lists of commands and switches

     spec           is the standard file specification:
                    dev:filename.ext[directories]
     date           is in the form dd-mm-yy
     time           is in the form hh:mm:ss

The action verbs are:

     Command                              Action

SAVE spec-list      Save the specified disk files on tape

RESTORE spec-list   Restore the specified tape files to disk

CHECK spec-list     Verify that the tape and disk files agree

[N]PRINT spec       Print a directory of the entire tape on  spec.   N
                    is  an  optional  prefix  meaning  narrow.   PRINT
                    produces the effect of  a  NODIRECTORIES  command;
                    i.e., no user directories will be typed.

The action commands take as  an  optional  argument  a  list  of  file
specifications in a format similar to the monitor's COPY command.  The
file specifications may contain wildcards and sub-file directories.

For each entry in the list, you may specify both input and output file
specifications  (output=input)  or just the input specification.  This
allows the files to be renamed as they are saved or restored.   If  no
output   specification   is   given,  then  the  specified  files  are
transferred without being renamed.  Entries in the list are  separated
by commas.

If no argument is supplied with an action command, BACKUP will default
a  file  spec  in  the  following  way.  The default file spec for all
action verbs is ALL:*.*[PPN,*,*,*,*,*].  This specifies all  files  on
all UFDs and all SFDs of all file structures with no renaming.

If you are not logged in under [1,2] the default for the SAVE verb  is
ALL:*.*[PPN,*,*,*,*,*]=DSK:*.*[PPN,*,*,*,*,*].

For    the    CHECK    and    RESTORE    verbs    the    default    is
DSK:*.*[PPN,*,*,*,*,*]=ALL:*.*[PPN,*,*,*,*,*].
BACKUP                                                       Page 17-5______
OVERVIEW OF COMMAND FUNCTIONS


The argument for the PRINT verb is a single file spec.  Its default is
LPT:BACKUP.LOG.

Note that specifying any of the file  spec  parameters  overlays  only
that parameter and leaves the rest of the defaults standing.  Under no
circumstances do the file spec parameters become "sticky"  parameters;
e.g.,  specifying the PPN for one spec does NOT carry over to the next
spec in the list.



17.3.2  Status Setting Verbs        ______ _______ _____

The status setting verbs set a parameter that  affects  future  action
commands.   Once a status parameter is set, it remains in effect until
you  change  it  again.   The  format  for  date/time   arguments   is
dd-mm-yy: hh:mm:ss;   relative  date/times  (prefixed  by  + or -) and
special mnemonic  words  (YESTERDAY,  TODAY,  TOMORROW,  LOGIN,  NOON,
MIDNIGHT)  may  also be used.  BACKUP conforms to the specification in
the Operating System Commands manual and more details on data  formats
can be found there.

The complements, formed by preceding the verbs  with  NO,  negate  the
commands  and  sometimes  cause  alternate actions;  their effects are
explained in parentheses.

The status setting verbs are:

   Verb                                          Action

ABEFORE date                       Include only files accessed  before
                                   the specified date

[NO]APPEND                         Append  to   existing   list   file
                                   (default)   (Complement:    do  not
                                   supersede).

ASINCE date                        Include only files  accessed  since
                                   the specified date

BEFORE date-time                   Include only files created and last
                                   modified   before   the   specified
                                   date-time

[NO]CPOINT                         Use checkpoints.  (Complement:   do
                                   not use checkpoints).

[NO]DATE75                         Always accept files  with  possible
                                   DATE75      problems      (default)
                                   (Complement:  do not  accept  these
                                   files)

[NO]DELETE                         Delete disk files after saving them
                                   (Complement:  do not delete)

DENSITY                            Set tape density (default is system
(200, 556, 800, 1600, 6250)        dependent)

[NO]DIRECTORIES                    Type each  user's  directory  while
                                   running  (default) (Complement:  do
                                   not type directories at all)

[NO]ENCRYPT                        Encrypt the magtape (asks  for  key
BACKUP                                                       Page 17-6______
OVERVIEW OF COMMAND FUNCTIONS


                                   later)  (a  key  is  similar  to  a
                                   password and it can consist  of  up
                                   to    30   alphabetic   characters)
                                   (Complement:  do not encrypt)

[NO]EXEMPT                         Exempt PPN's of the form [A,*]  and
                                   [10,B],  where  A  and  B < 7, from
                                   date/time and  length  restrictions
                                   (default)   (Complement:    do  not
                                   exempt)

[NO]FILES                          Type each  filename  while  running
                                   (Complement:   do not type filename
                                   at all)

INITIAL spec                       Start processing at spec

[NO]INTERCHANGE                    Run   in   interchange   mode   (In
                                   interchange    mode,    only    the
                                   filenames, extensions, and versions
                                   are    written.     There   is   no
                                   information on what UFD a file  was
                                   in when it was saved.) (Complement:
                                   run in normal mode, in  which  UFDs
                                   and device names are written)

LENGTH 1:h                         Include only files whose length  is
                                   between low and high

[NO]LIST spec                      While running, make a listing  file
                                   on   spec  (default  spec  is  LPT:
                                   BACKUP.LOG)  (Complement:   do  not
                                   make  listing  file)  LIST produces
                                   the  effect  of   a   NODIRECTORIES
                                   command,  i.e., no user directories
                                   will be typed.

MBEFORE date-time                  Include only files which have  been
                                   last  moved  or modified before the
                                   specified time

MSINCE date-time                   Include only files which have  been
                                   moved   or   modified   since   the
                                   specified time

MESSAGE [NO]PREFIX                 Suppress error message prefix

MESSAGE [NO]FIRST                  Suppress  first   line   of   error
                                   message text

[NO]MULTIREEL                      Allow multiple reels during a  save
                                   (default;    multiple   reels   are
                                   always  permitted  on  a   restore)
                                   (Complement:  do not allow multiple
                                   reels during a save)

OPTION NAME                        Use   option    BACKUP:name    from
                                   SWITCH.INI

PARITY (EVEN,ODD)                  Set tape parity

[NO]REPEAT                         Repeat  a   split   file   on   the
                                   continuation  tape (Complement:  do
BACKUP                                                       Page 17-7______
OVERVIEW OF COMMAND FUNCTIONS


                                   not repeat)

RESUME n                           Resume at block n of initial file

SILENCE                            Do   not    type    filenames    or
                                   directories while running

SINCE date-time                    Include  only  files   created   or
                                   modified    since   the   specified
                                   date-time

SORT DIRECTORIES x                 Sort directories within  each  file
                                   structure  in  order x when saving.
                                   x = ALPHABETICAL    LOCATION    (by
                                   compressed-file-pointer,  which  is
                                   related  to   a   file's   physical
                                   location  on  disk),  or  NONE  (by
                                   Master File Directory)

SORT FILES x                       Sort files within each directory in
                                   order      x      when      saving.
                                   x = ALPHABETICAL, LOCATION, or NONE
                                   (by directory)

SSNAME name                        Specify the save set name (up to 30
                                   characters;  ALL = all save sets on
                                   tape)

SUPERSEDE ALWAYS                   Always restore file from tape

SUPERSEDE NEVER                    Restore files from tape  unless  on
                                   disk

SUPERSEDE OLDER                    Restore only  the  new  files  from
                                   tape (default)

TAPE MTB0                          Use tape unit MTB0.  If  a  magtape
                                   drive  has the logical name BACKUP,
                                   then the  TAPE  verb  need  not  be
                                   specified

UPROTECTION NNN                    Set  the  protection  for   created
                                   directories

[NO]USETI                          Run in USETI mode (speeds up  SAVES
                                   with /SINCE, etc.) (Complement:  do
                                   not run in USETI)

[NO]WRITE                          Suppress  disk  writing  during   a
                                   RESTORE.   (Complement:  allow disk
                                   writing during a RESTORE)



17.3.3  Tape Positioning Verbs        ____ ___________ _____

BACKUP's tape positioning verbs take immediate effect.  They take,  as
an  argument,  a  list  of tapes.  If no tape is specified for a given
command, the last tape declared by a TAPE  verb  is  positioned.   The
tape positioning commands are:

        Command                                  Action
BACKUP                                                       Page 17-8______
OVERVIEW OF COMMAND FUNCTIONS


     EOT tape list                 Skip to the  end-of-tape  mark  for
                                   each tape in the list

     REWIND tape list              Rewind to the beginning of the tape
                                   for each tape in the list

     SKIP n tape list              Skip n save sets forward  for  each
                                   tape in the list

     SKIP 0 tape list              Back up to the start of the current
                                   save set for each tape in the list

     SKIP -n tape list             Skip n save sets backward for  each
                                   tape in the list

     UNLOAD tape list              Unload each tape from its drive for
                                   each tape in the list.

The following switches may be included within the  file  specification
list  for the action verbs.  These switches can be either temporary or
permanent.  A temporary switch immediately follows the file  to  which
it applies.  A permanent switch precedes the list of files to which it
applies, or may be typed on a separate  line  like  a  status  setting
verb.

        Switch                                   Action

     ABEFORE date                  (On input  file)  include  only  if
                                   accessed before date

     ASINCE date                   (On input  file)  include  only  if
                                   accessed since date

     BEFORE date-time              (On input  file)  include  only  if
                                   created before date-time

     ERNONE                        (On input file) give  error  if  no
                                   files match

     ERPROTECTION                  (On input file) give error if there
                                   is a protection failure

     ERSUPERSEDE                   (On output  file)  do  not  restore
                                   from tape if on disk

     ESTIMATE n                    (On output  file)  estimate  output
                                   size

     LENGTH L:H                    (On input file) include only if the
                                   file length is between L:H

     MBEFORE date-time             (On input  file)  include  only  if
                                   modified before date-time

     MSINCE date-time              (On input  file)  include  only  if
                                   modified since date-time

     OKNONE                        (On input  file)  do  not  give  an
                                   error if no files match

     OKPROTECTION                  (On input  file)  do  not  give  an
                                   error  if  there  is  a  protection
                                   failure
BACKUP                                                       Page 17-9______
OVERVIEW OF COMMAND FUNCTIONS


     OKSUPERSEDE                   (On  output  file)  always  restore
                                   even if on disk

     [NO]PHYSICAL                  (Input or  output)  ignore  logical
                                   names  (Complement:  accept logical
                                   names)

     PROTECTION nnn                (On output file) set the protection
                                   code

     SINCE date-time               (On input  file)  include  only  if
                                   created    since    the   specified
                                   date-time

     VERSION v                     (On output file)  set  output  file
                                   version number



17.3.4  Run-Time Commands        ________ ________

The following run-time commands may be given during the  execution  of
the  action  verbs.  BACKUP prompts with an exclamation point (!) when
ready to accept a run-time command.  (EXIT, HELP and RESET  will  also
work with a slash (/) as a prompting character.)

The complements, formed by preceding the commands with NO, negate  the
commands  and  sometimes  cause  alternate actions;  their effects are
explained in parentheses.

The run-time commands are:

        Commands                                 Action

     [NO]DIRECTORIES               Start   typing   every    directory
                                   processed (Complement:  do not type
                                   these directories)

     EXIT                          Exit from BACKUP when done

     [NO]FILES                     Start   typing   every   file   and
                                   directory   processed  (Complement:
                                   do not type these files)

     GO                            Continue after a STOP

     HELP                          List     these     commands     and
                                   explanations

     KILL                          Abort  execution  of  the   current
                                   action verb

     PAUSE                         Do not exit from BACKUP when done

     RESET                         Reset all status settings to  their
                                   original defaults when done

     SILENCE                       Stop typing every directory or file

     STOP                          Stop temporarily:  can be continued
                                   by GO.

     WHAT                          Display current filename and status
BACKUP                                                      Page 17-10______
OVERVIEW OF COMMAND FUNCTIONS


BACKUP also supports "/@  file"  construction,  allowing  the  use  of
indirect  command  files,  like  the  COMPIL-class  commands.   All of
BACKUP's verbs and switches, except for the run-time commands, may  be
used  in  an  indirect file.  (Note that "/verb @ file" is NOT a valid
alternate format.)



17.4  EXAMPLES      ________

The following examples  demonstrate  the  application  of  the  BACKUP
program.



17.4.1  Console User Examples        _______ ____ ________

The console user can execute all of the BACKUP  commands  on  his  own
disk area.  He can save his disk area or any other files accessible to
him on his own magnetic tape and later restore to  his  area  all  his
files  or  a subset of his files.  In the following examples, the user
is logged in under PPN [10,123].



17.4.1.1  Saving a User's Disk Area - To save all  files  on  his  own          ______ _ ______ ____ ____
disk area on a magnetic tape mounted on MTA0, a user can type

     .R BACKUP
     /TAPE MTA0
     /REWIND
     /SAVE
     !10,123 DSKB
      10,123 DSKC
     DONE 
     /UNLOAD
     /^C



17.4.1.2  Restoring Selected Files - The following example  shows  how          _________ ________ _____
to  retrieve  a specific file and a set of files from a BACKUP tape by
using wildcards.

     .R BACKUP
     /TAPE MTA1
     /REWIND
     /RESTORE FOO.BAR, TST???.*
     !10,123 DSKB
     DONE 
     /UNLOAD
     /^C



17.4.1.3  Renaming Files as They are Transferred - A user  may  choose          ________ _____ __ ____ ___ ___________
to  change  a file's name or location path as it is moved between tape
and disk.  In the following example, the file name FILEA.MAC  on  tape
is  copied  to  disk  as FILEB.MAC, but its path (device and directory
level) is not changed.

     .R BACKUP
     /TAPE MTB0
BACKUP                                                      Page 17-11______
EXAMPLES


     /REWIND
     /RESTORE FILEB.MAC=FILEA.MAC
     !10,123 DSKB
     DONE
     /UNLOAD
     /^C

In the next example, the file FILEC.MAC was located  on  DSKB  in  the
user's  UFD  [10,123]  when  saved  on tape, but it is restored to the
sub-file directory SFD1 on DSKC.

     .R BACKUP
     /TAPE MTB0
     /REWIND
     /RESTORE DSKC:[10,123,SFD1]=DSKB:FILEC.MAC[10,123]
     !10,123 DSKB
     DONE
     /UNLOAD
     /^C



17.5  OPERATOR USES      ________ ____

An operator should periodically save  the  contents  of  the  disk  on
magtape.    This   provides   a  backup  capability  should  something
unforeseen happen to the disk.



17.5.1  Saving the Entire Disk        ______ ___ ______ ____

To save the entire  contents  of  DSKB  on  magtape  and  concurrently
produce a directory listing, BACKUP is run while logged in under [1,2]
as follows:

     .R BACKUP
     /TAPE MTA0
     /LIST DSK:BACKUP.LOG
     /SAVE DSKB:
     !1,2 DSKB
      1,3
      1,4
       .
       .
       .

BACKUP types out each UFD as it begins to save files from  that  area.
If  the  tape becomes full before the save is completed, BACKUP stops,
types out the full file identification and block number of the current
file being saved, unloads the magtape, and types the message

     $BKPEOT REACHED EOT -- MOUNT NEW TAPE THEN TYPE "GO"

When GO is typed BACKUP continues the save on the new tape.   (A  file
may be split across tapes.)
BACKUP                                                      Page 17-12______
OPERATOR USES


17.5.2  Recovering from a System Crash        __________ ____ _ ______ _____

If the system should crash during a save, for example while BACKUP  is
saving  files  from  UFD  [10,456],  the  operator, after bringing the
system up, can instruct BACKUP to start at UFD [10,456] by  using  the
/INITIAL switch:

     .R BACKUP
     /TAPE MTA0
     /LIST DSK:BACKUP.LOG
     /INITIAL DSKB:[10,456]
     /SAVE DSKB:
     !10,456 DSKB
        .
        .
        .

Note that any status parameters which were in effect before the  crash
must  be  reset,  and  that the tape should NOT be rewound.  Note also
that BACKUP does an append to the existing LIST spec.



17.5.3  Saving Only Recently Created or Modified Files        ______ ____ ________ _______ __ ________ _____

The procedure for saving only those files created or modified today is
identical  to  that  described  in  Section 3.2.1, with the additional
inclusion of the /MSINCE status setting switch:

     .R BACKUP
     /TAPE MTA0
     /LIST DSK:BACKUP.LOG
     /MSINCE:YESTERDAY
     /SAVE DSKB:
     !1,2 DSKB
        .
        .
        .

Certain files and disk areas are automatically exempted from date-time
restrictions.   Files  with  the RP.ABU bit (always backup bit) set in
the .RBSTS word of the RIB and PPN's of  the  form  [A,*]  and  [10,B]
where  A  and  B  are less then or equal to 7 are always exempted from
date/time restrictions.  This causes all libraries, etc., to always be
saved and restored.  (The PPN exemption can be overridden by using the
/NOEXEMPT status setting verb.)



17.5.4  Restoring Only Recently Accessed Files        _________ ____ ________ ________ _____

In the following example the /ASINCE switch is used  to  restore  from
tape only those files whose access date is later than June 1, 1975:

     .R BACKUP
     /TAPE MTA1
     /ASINCE:1-JUN-75
     /RESTORE
     !
BACKUP                                                      Page 17-13______
RESTORING FROM A DISTRIBUTION TAPE


17.6  RESTORING FROM A DISTRIBUTION TAPE      _________ ____ _ ____________ ____

BACKUP format distribution tapes are made  in  interchange  mode,  and
related  files are grouped together in named save sets.  The user does
not need to know what UFD the file was in when it was saved.   Because
the  tapes  are made in interchange mode, this information is not even
included on tape.  Suppose, for example, a new version of SCAN  is  on
the current tape.  The following commands to BACKUP transfer all files
from only the SCAN save set onto ersatz device DEC:

     .R BACKUP
     /TAPE MTB0
     /INTERCHANGE
     /REWIND
     /SSNAME SCAN
     /RESTORE DEC:=DSK:

The save set name "ALL" can be used in place of SCAN to indicate  that
files from all save sets are to be copied.



17.7  OBTAINING DIRECTORIES OF BACKUP TAPES      _________ ___________ __ ______ _____

The command

     [N]PRINT spec

prints a  directory  of  the  entire  tape.   The  optional  prefix  N
indicates a narrow listing (72 columns).  The default specification is
LPT:BACKUP.LOG.  If a line-printer is not available to the user's job,
spooling is not in effect, and the default spec is used, an error will
occur.

The following example produces a disk  file  directory  listing  named
BACKUP.LOG.

     .R BACKUP

     /REWIND
     /PRINT DSK:
     !

This is an example of the output.

.TYPE BACKUP.LOG

     Start of save set SCAN on MTB401
     System     R5200  SYS #40/2 TOPS-10 monitor 602(13053) APR#40
     1600 BPI 9 track 18-Sep-75 13:09:13 BACKUP 2(155) format 1

     SCAN    REL     58      <055>   31-Mar-75       DSKB:   [10,4077]
     SCAN    RNO     8       <055>    8-Mar-75       
     SCAN    MAC     304     <055>   31-Mar-75
     SCN7B   REL     59      <055>    4-Sep-75
     SCN7B   DO      101     <055>   18-Aug-75
     SCN7B   RNO     97      <055>   18-Aug-75
     SCN7B   CTL     3       <055>   24-Jul-75
     SCN7B   MAC     309     <055>    4-Sep-75
     SCAN    MEM     11      <055>   18-Sep-75

     End of save set SCAN on MTB401
     System     R5200  SYS #40/2 TOPS-10 monitor 602(13053) APR#40
BACKUP                                                      Page 17-14______
OBTAINING DIRECTORIES OF BACKUP TAPES


     1600 BPI 9 track 18-Sep-75 13:09:24 BACKUP 2(155) format 1

     Start of save set BACKUP on MTB401
     System     R5200  SYS #40/2 TOPS-10 monitor 602(13053) APR#40
     1600 BPI 9 track 18-Sep-75 13:46:56 BACKUP 2(155) format 1

     BACKUP  REL     22      <055>   15-Sep-75       DSKB:   [10,4077]
     BACKRS  REL     52      <055>   17-Sep-75
     BACKUP  SHR     55      <055>   17-Sep-75
     BACKUP  LOW     34      <055>   17-Sep-75
     BACKUP  MAC     118     <055>   15-Sep-75
     BACKRS  MAC     270     <055>   17-Sep-75

     BACKUP  RNH     19      <055>   15-Sep-75       DSKC:   [10,4077]
     BACKUP  HLP     20      <055>   15-Sep-75
     BACKUP  RNO     4       <055>   25-Aug-75
     BACKUP  DOC     4       <055>   25-Aug-75
     BACKUP  CTL     2       <055>   20-Aug-75

     End of save set BACKUP on MTB401
     System     R5200  SYS #40/2 TOPS-20 monitor 602(13053) APR#40
     1600 BPI 9 track 18-Sep-75 13:47:13 BACKUP 2(155) format 1



17.8  COMPARING TAPE AND DISK FILES      _________ ____ ___ ____ _____

The command

     CHECK spec-list

Verifies that the tape and disk agree.  BACKUP compares the tape files
specified  for  input to the disk files specified for output, word for
word.

The following example saves all the user's COBOL  files  on  tape  and
then  verifies  that  the  saved  tape files are identical to the disk
files.

     .R BACKUP

     /TAPE MTA0:
     /REWIND
     /SAVE *.CBL
     /REWIND
     /CHECK
     !
     /

To restore all SHR and LOW files from a tape and then verify that  the
files were restored correctly type

     /REWIND
     /SSNAME ALL
     /RESTORE *.SHR,*.LOW
     !
     /REWIND
     /CHECK *.SHR,*.LOW
     !
     /
BACKUP                                                      Page 17-15______
CHECKPOINTING LARGE FILES


17.9  CHECKPOINTING LARGE FILES      _____________ _____ _____

Installations which maintain  exceptionally  large  files  (over  5000
blocks)  will  want  to include the /CPOINT status setting switch when
saving and restoring files.  This switch extends BACKUP's system crash
recovery  capability  to  the  file  block level.  During a checkpoint
save, the typeout level is set to type the filenames  and  checkpoints
as  they  are  passed.   To  continue from the last checkpoint after a
crash, the /INITIAL switch is used to indicate the file spec  and  the
/RESUME switch to declare the checkpoint block number.  For example:

     .R BACKUP
     /TAPE MTA0
     /INITIAL DSKB:[40,577]DATBAS.DBS
     /RESUME 6000
     /SAVE
     !40,577 DSKB
      DATBAS DBS
      RESUMING AT CHECKPOINT 6000
      7000
      8000
        .
        .
        .

Note that the tape should not be  rewound  to  continue  a  checkpoint
save.

During a checkpoint restore, the disk output file is closed  at  every
checkpoint and then appended to.  The procedure for continuing after a
crash is the same as that for the checkpoint save, with the  exception
that the tape must first be rewound.

The default for checkpoints is 1000 blocks.



17.10  BACKUP MESSAGES       ______ ________

17.10.1  Operator Messages         ________ ________

$BKPEOT REACHED EOT -- MOUNT NEW TAPE THEN TYPE "GO"

     The tape is full.  The operator should mount a new one  and  then
     type GO to continue.

$BKPTWL TAPE WRITE LOCKED -- ADD WRITE RING THEN TYPE "GO"

     The tape is write locked.  The operator  should  insert  a  write
     ring and then type GO to continue.



17.10.2  Error Messages         _____ ________

?BKPABC AMBIGUOUS COMMAND

     The user has given a command abbreviation that is not unique.

?BKPCOL CAN'T OPEN LISTING DEVICE

     The device specified for the LIST command cannot be selected  for
     output.
BACKUP                                                      Page 17-16______
BACKUP MESSAGES


?BKPCOM CAN'T OPEN MAGTAPE

     The tape device specified cannot be selected for output.

?BKPCSA CAN'T SAVE WITH SAVE SET NAME "ALL"

     "ALL" is reserved to mean all SAVE sets on tape;   therefore,  it
     cannot be used to name an individual SAVE set when saving.

?BKPDND DEVICE NOT A DISK

     The input device specified for a SAVE is not a disk.

?BKPDNM DEVICE NOT A MAGTAPE

     The device specified for the TAPE command or a  tape  positioning
     command is not a magnetic tape drive.

?BKPFSL FILE SPECIFICATION DATA LOST

     During the processing of a file specification list, a consistency
     check  determined  that  data  was  lost.   If this error occurs,
     please send an SPR.

?BKPHSG CANNOT GET HIGH SEGMENT BACK

     BACKUP releases its high segment command scanner when  performing
     I/O  to eliminate most of the core while running.  The attempt to
     restore the high segment after completing the I/O  operation  has
     failed.

?BKPIRC INVALID RUN TIME COMMAND -- TYPE KILL TO ABORT RUN FIRST

     The user typed an illegal run time command.  Type KILL  to  abort
     the  run  and  return  to verb command level.  Type HELP to get a
     list of valid run time commands.

?BKPKDM KEYS DON'T MATCH -- PLEASE TRY AGAIN

     BACKUP asks for the encryption key twice, and compares  the  keys
     for verification.  This indicates that the comparison failed.

?BKPLFE LISTING FILE ENTER ERROR

     After opening the listing I/O channel, no entry could be made for
     the listing file.

?BKPLSI LISTING SPECIFICATION INCORRECTLY FORMATTED

     The user has  used  incorrect  formatting  or  a  "wild-card"  in
     specifying the LIST file.  No list specification is created.

?BKPNTS NO TAPE SPECIFIED

     While searching for the last  tape  specification  given,  BACKUP
     could not fine one.

?BKPNZC NEGATIVE AND ZERO CHECKPOINTS ILLEGAL

     The user specified a negative or zero argument  with  the  RESUME
     command.

?BKPRES REACHED EOT ON A SINGLE REEL SAVE
BACKUP                                                      Page 17-17______
BACKUP MESSAGES


     This message is issued if and when the end of the tape is reached
     and the user has specified the /NOMULTIREEL command.

?BKPRTE REACHED TAPE ERROR MAXIMUM

     BACKUP will abort the execution of an action verb and  return  to
     command  level  when  a  large  number  of  tape  I/O errors have
     occurred.  Currently the error maximum is set to 10.  (This is an
     assembly parameter.)

?BKPTMI INSUFFICIENT CORE FOR COMMAND

     The routine for allocating space for  file  specifications  could
     not expand core enough to store the specification.

?BKPTSI TAPE SPECIFICATION INCORRECTLY FORMATTED

     The user has  used  incorrect  formatting  or  a  "wild-card"  in
     specifying the tape device.



17.10.3  Warning Messages         _______ ________

%BKPABT ABORT spec

     The transfer of the specified file from tape  to  disk  has  been
     aborted.

%BKPBTL BLOCK TOO LARGE READING SPEC (BLOCK = n)

     The current record read from tape exceeds the buffer  size.   The
     record will be skipped.

%BKPCCM CANNOT COPY MFD FOR STRUCTURE

     The program cannot get  enough  core  to  copy  the  Master  File
     Directory  for the indicated structure.  Files for this structure
     will not be  saved,  and  the  program  will  skip  to  the  next
     structure.

%BKPCCR CANNOT COPY UFD/SFD RIB FOR spec

     The  program  cannot  get  enough  core  to  copy  the  retrieval
     information  block  for  the indicated directory.  Files for this
     User File Directory/Sub-File Directory will not be saved, and the
     program will skip to the next UFD/SFD.

%BKPCCU COPY UFD/SFD FOR spec

     The program cannot get enough core to  copy  the  indicated  User
     File  Directory or Sub-File Directory.  Files for this UFD or SFD
     will not be saved, and the program will skip to the next UFD/SFD.

%BKPCDF CANNOT DELETE FILE error bits (code) spec

     The specified file could not be deleted.  The error bits and code
     returned  are  listed  in  the DECsystem-10 Monitor Calls Manual,
     Appendix E.

%BKPCDS CHECK DISK FILE SHORTER spec

     During  a  check  operation,  an  end-of-file  occurred  for  the
BACKUP                                                      Page 17-18______
BACKUP MESSAGES


     indicated disk file, even though there is more file data on tape.

%BKPCFD CHECK FILES ARE DIFFERENT spec

     The check operation determined that the disk and tape versions of
     the idicated file are different.

%BKPCHK CHECKSUM INCONSISTENCY READING spec (BLOCK = n)

     During a read, the computed checksum of the current  tape  record
     did  not  agree  with  the  checksum  stored  when the record was
     written.

%BKPCNF CHECK FILE NOT ON DISK spec

     The indicated file could not be found  on  disk  during  a  check
     operation.

%BKPCOD CANNOT OPEN "file structure"

     The file structure indicated cannot be  selected  for  I/O.   The
     transfer of files for this structure will be aborted.

%BKPCTS CHECK TAPE FILE SHORTER spec

     During a  check  operation,  and  end-of-file  occurred  for  the
     indicated tape file, even though there is more file data on disk.

%BKPDIO DISK I/O ERROR error bits DURING spec

     A disk I/O error occurred while attempting to read or  write  the
     specified  file.   The  error bits included are those returned by
     the monitor GETSTS call.  The transfer will be aborted  for  this
     file.

%BKPFEE ENTER error-code spec

     File enter error for the indicated file.  The error code included
     is  that returned by the monitor, and the error code abbreviation
     is listed in the DECsystem-10 Monitor Calls Manual, Appendix E.

%BKPFLE LOOKUP error-code spec

     File lookup  error  for  the  indicated  file.   The  error  code
     included  is  that  returned  by  the monitor, and the error code
     abbreviation is listed in the DECsystem-10 Monitor Calls  Manual,
     Appendix E.

%BKPFRS FRS TAPES NOT SUPPORTED

     On reading a tape, if the tape format seems to correspond  to  an
     FRS  tape  rather  than a BACKUP tape, this message is issued and
     BACKUP continues scanning the tape for records in a format  which
     it understands.

%BKPHSI HEADER FILE SPEC INCONSISTENCY

     During a restore operation, a consistency check  determined  that
     the  end-of-file  record for the current file was missed, and the
     current record belongs to another file.   The  transfer  will  be
     aborted for this file.

%BKPIBL INCORRECT BLOCK LENGTH
BACKUP                                                      Page 17-19______
BACKUP MESSAGES


     During a read, the program encountered a tape record of the wrong
     size.  The record will be skipped.

%BKPLF LISTING FILE ERROR error bits (code) spec

     The listing file is closed and appended to after  the  processing
     of  each UFD, so that it will be preserved through a system crash
     and recovery procedure.  If either the LOOKUP or  ENTER  UUO  for
     appending  to  the listing file fails, this message is issued and
     no further output is done to the listing file.   The  error  bits
     and  code  returned  are listed in the DECsystem-10 Monitor Calls
     Manual, Appendix E.

%BKPNBF NOT BACKUP FORMAT

     The current tape record is not in BACKUP format, and the  program
     will skip to the next tape record.

%BKPNEC NOT ENOUGH CORE

     The program cannot get enough core.   If  this  occurs  during  a
     RESTORE, the RESTORE will be aborted.  During a Save, the program
     will skip to the  next  structure  or  User  File  Directory  and
     attempt to continue.

%BKPNFF NO FILES FOUND TO MATCH spec

     No files were found to match the given file specification.

%BKPRIC RESUME AT INVALID CHECKPOINT ATTEMPTED

     This  message  indicates  that  the  user  instructed  BACKUP  to
     continue  saving  or  checking  a  file at a checkpoint which was
     larger than the actual number of blocks in the file.

%BKPROD RESTORE OUTPUT DEVICE IS NOT A DISK

     The output device specified for a RESTORE is not a disk.

%BKPSCE SIZE COPY ERROR spec

     While transferring  a  file  from  tape  to  disk  an  error  was
     encountered because the transferred file was not the same size as
     the tape file.  If this error occurs, please send an SPR.

%BKPSLE SFD LEVEL EXCEEDED

     While attempting to save  needed  Sub-File  Directories  the  SFD
     level was exceeded.

%BKPSNF SAVE SET NOT FOUND name

     This message may occur during a RESTORE or  CHECK  operation  and
     indicates  that  the  save  set  named with the last /SSNAME verb
     could not be found.

%BKPTHE TAPE HARDWARE ERROR READING/WRITING spec (BLOCK=n)

     A hardware error occurred.   The  transferred  file  may  contain
     unreliable data.

%BKPTPE TAPE PARITY ERROR READING/WRITING spec (BLOCK=n)
BACKUP                                                      Page 17-20______
BACKUP MESSAGES


     The hardware detected a parity error.  The transferred  file  may
     contain unreliable data.

%BKPUOE UNTRACEABLE OUTPUT ERROR

     An error was encountered while trying to move data from  disk  to
     tape.

%BKPURT UNKNOWN RECORD TYPE

     While reading the tape, BACKUP found that the type number of  the
     current tape record is not within the defined range.  The program
     will skip to the next tape record.



17.11  CAPACITIES OF DISK MEDIA VERSUS MAGNETIC TAPE       __________ __ ____ _____ ______ ________ ____

The following table illustrates the maximum capacity of  various  disk
devices  and  the  approximate  number  of  2400-foot  magnetic  tapes
required to hold the same number of  blocks.   The  calculations  were
made for 9-channel magnetic tape at 800 bpi.

                                               No. of magtapes
                                               Required for same
     Disk Device         Capacity in Blocks    capacity
     RD10 (Disk)                 4000                 .139

     RM10B (Drum)                2700                 .094

     RP02 (Disk Pack)           40000                1.39

     RP03 (Disk Pack)           80000                2.78

     RP04 (Disk Pack)          154280                5.37

     RS04 (Disk)                 2048                 .071



17.12  BACKUP TAPE FORMAT       ______ ____ ______

Note that Backup is designed for two  primary  functions:   performing
system backup and interchanging files between systems.  For the latter
function, Backup provides an "interchange" switch which causes  system
dependent  data to be ignored and only critical file information to be
written on tape.  A restore operation in interchange mode also ignores
system  dependent  data,  allowing  the  operating  system  to  supply
defaults where necessary.  Items not included in interchange mode  are
noted in the description which follows.



17.12.1  Tape Record Types         ____ ______ _____

BACKUP tapes are made up of a series of tape records of various types.
Each  record is self identifying.  All records on the tape are written
at the standard length of 544(10) words, made  up  of  a  32(10)  word
header  and a 512(10) data area.  Even if the data area is not needed,
or is only partially needed it is fully  written.   All  undefined  or
unused  words  are  written  with  zeroes  and  ignored on read.  This
maximizes the probability of reading old tapes.  In any case, the tape
format is included in the labels and the save set headers.
BACKUP                                                      Page 17-21______
BACKUP TAPE FORMAT


The record types are:

     1.  T$LBL -- tape label used to identify reel ID and  destruction
         date/time.   This  record is optional, but if present must be
         at the start of the tape.

     2.  T$BEG -- Beginning of a save set used to  identify  when  the
         save  set  was written and on what device of what system.  It
         also includes the save set name.  This  record  is  mandatory
         and must be the first record of the save set.

     3.  T$END -- end of a save set.  This is identical to  the  T$BEG
         record except that it appears at the end.

     4.  T$FIL -- this is the actual data which has been saved.  It is
         the   only   type  of  record  which  is  encrypted.   It  is
         self-identifying as to the  position  within  the  file,  but
         contains only part of the full path name of the file.

     5.  T$UFD -- contains the information  for  each  directory.   It
         gives  all  information necessary to re-create the directory.
         (Not written in interchange mode.)

     6.  T$EOV -- indicates end of volume (future).

     7.  T$COM -- comment (ignored).

     8.  T$CON -- continuation of save  set.   This  is  identical  to
         T$BEG  except  that it indicates the continuation of the save
         set at the start of a new volume.   This  ensures  that  each
         volume is completely self identifying.




17.12.2  Standard Record Format         ________ ______ ______

Every tape record has the same general format.   This  consists  of  a
32(10)  word  record  header  followed  by  one  page of data (512(10)
words).  All record headers start with the same  first  twelve  words.
The first seven words are:

     1.  G$TYPE -- Record type as described in the  previous  section.
         This is a small positive integer.

     2.  G$SEQ -- record sequence number.  This is incremented by  one
         for each record on the tape.  If a record is repeated because
         of a tape write error, the number of the repeated  record  is
         the same as that of the original.

     3.  G$RTNM -- relative tape number.  This is incremented  by  one
         for each volume.

     4.  G$FLAG -- various flag bits:

         a.  GF$EOF -- This flag is set  if  this  is  the  last  tape
             record for this disk file.  On short files, this can even
             be set on the first record of the file.

         b.  GF$RPT -- this flag is set  if  this  tape  record  is  a
             repeat  of the previous record.  This is set whenever the
             record is rewritten because of a tape write error.
BACKUP                                                      Page 17-22______
BACKUP TAPE FORMAT


         c.  GF$NCH -- this flag  is  set  if  no  checksum  has  been
             computed for the tape record.

         d.  GF$SOF -- this flag is set if  this  is  the  first  tape
             record for this disk file.

     5.  G$CHK -- checksum of the tape record.

     6.  G$SIZ -- number of words used for data in this tape record.

     7.  G$LND -- number of words to skip before the data starts.

The next four words are reserved for future  expansion.   The  twelfth
(last)  word  in  the general section of the record header is reserved
for customer use.  The remaining 20 words in the  record  header  vary
for  each  record type, with the last word of each record header being
reserved for customer use.  In  interchange  mode,  customer  reserved
words will be written as zero on a save and ignored on a read.



17.12.3  Non-Data Blocks         ________ ______

The data portion of a tape record is primarily for storing file  data,
but  may  be  used for saving some overhead information.  Any non-data
information written in the data area of a tape record is prefaced with
a control word of the form:

LH = type, RH = length in words including this word.

More than one overhead region can appear.  In this case,  they  follow
each other with no intervening space.  The currently defined types for
overhead blocks are:

     1.  O$NAME -- gives the full  path  identification  of  the  file
         without  punctuation.   The path components are treated as if
         the user gave a  quoted  representation  in  "DEC  Integrated
         Command  Language".  This block consists of sub-blocks in the
         standard order:  device, directories (top down),  file  name,
         extension,  version, generation.  Sub-blocks corresponding to
         missing fields in the path specification are  omitted.   Each
         sub-block is in the format:

         WORD0:  LH = type, RH = length in words including this word.

         The rest of the sub-block is the path field in ASCIZ  without
         leading  or  imbedded nulls, terminated by at least one null.
         Omitted fields will be defaulted.  In interchange mode,  only
         the  name, extension and version are written.  In interchange
         restore, only name, extension and version are used.

         sub-block type codes are:

         1  = device
         2  = name
         3  = extension
         4  = version
         5  = generation
         40 = directory (lower directories are 41, 42, ...)

     2.  O$FILE -- a block  containing  file  attributes.   The  first
         section   of  this  block  is  a  fixed  length  header  area
         containing in fixed locations either single  word  attributes
BACKUP                                                      Page 17-23______
BACKUP TAPE FORMAT


         or  byte  pointers  to ASCIZ string attributes located in the
         remaining section.  All dates  and  times  are  in  universal
         date/time  format.   In  interchange  mode  only the critical
         attributes (starred) will be written, and the  rest  of  this
         block  will contain zeros.  In the description which follows,
         the symbols in brackets represent the RIB data from which the
         attribute  values  will be converted.  (If none is given, the
         location will be zero.)

         a.  A$FHLN (*) -- fixed header length in words.

         b.  A$FLGS -- flags:

             1.  B$PERM -- permanent (not deletable) [RP.NDL]

             2.  B$TEMP -- temporary

             3.  B$DELE -- already deleted

             4.  B$DLRA -- don't delete  for  lack  of  recent  access
                           [RP.ABU}

             5.  B$NQCF -- not quota checked [RP.NQC]

             6.  B$NOCS -- does not have valid checksums [RP.ABC]

             7.  B$CSER -- has checksum error [RP.FCE]

             8.  B$WRER -- has disk write error [RP.FWE]

             9.  B$MRER -- had BACKUP read error on RESTORE [RP.BFA]

            10.  B$DAER -- declared bad by damage assessment [RP.BDA]

         c.  A$WRIT (*) -- date/time of last write [RB.CRD and RB.CRT]

         d.  A$ALLS (*) -- allocated size in words [.RBALC]

         e.  A$MODE (*) -- mode of last write [RB.MOD]

         f.  A$LENG (*) --length in bytes (1B0 if > 2^35-1) [.RBSIZ]

         g.  A$BSIZ (*) -- byte size (7 or 36).

         h.  A$VERS (*) -- version  identification   (.JBVER   format)
             [.RBVER]

         i.  A$PROT -- protection  [RB.PRV].    The   protection   for
             directories  appears  in  the  directory  attribute block
             (O$DIRT).  For files, the protection word is  defined  as
             four  fields  of eight bits each with a "5" stored in the
             leftmost three bits in order to avoid looking like a byte
             pointer:

             bits 0-2         "5"

             bit 3            reserved for future

             bits 4-11        future access

             bits 12-19       owner access

             bits 20-27       affinity group access
BACKUP                                                      Page 17-24______
BACKUP TAPE FORMAT


             bits 28-35       "world" access

             Each file access field is  subdivided  into  bytes  which
             describe  the  attribute,  write  and read (respectively)
             protections associated with the file.  A  description  of
             the  "world"  access  field  follows, with the associated
             TOPS-10 protection given in parentheses,  if  applicable.
             The   owner  and  affinity  group  (project)  fields  are
             similarly defined.

             1.  PR$SPC (bit  28) -- reserved  for  special  checking.
                 The rest of the field is special if this bit is set.

             2.  PR$ATR (bits 29-31) -- the attribute  subfield  is  a
                 3-bit byte interpreted as follows:

                 0 -- file is completely hidden.

                 1 -- file name is visible (7-6).

                 2 -- file attributes are visible (5-2).

                 3 -- can change unprotected attributes.

                 4-5 -- (future)

                 6 -- can change protection (0).

                 7 -- can delete the file (1).

             3.  PR$WRT (bits 32-33) -- the write access  subfield  is
                 defined as:

                 0 -- no write access (7-5).

                 1 -- append (4).

                 2 -- write (3).

                 3 -- superseding generation (2-0).

             4.  PR$RED (bits 34-35) -- the read  access  subfield  is
                 defined as:

                 0 -- no read access (7).

                 1 -- execute only (6).

                 2 -- can read the file (5-0).

                 3 -- (future).

         j.  A$ACCT -- byte pointer to account string

         k.  A$NOTE -- byte pointer to annotation string [.RBSPL]

         l.  A$CRET -- creation date and time of this generation

         m.  A$REDT -- last read date  and  time  of  this  generation
             [RB.ACD]

         n.  A$MODT -- monitor set last write date and time [.RBTIM]
BACKUP                                                      Page 17-25______
BACKUP TAPE FORMAT


         o.  A$ESTS -- estimated size in words [.RBEST]

         p.  A$RADR -- requested disk address [.RBPOS]

         q.  A$FSIZ -- maximum file size in words

         r.  A$MUSR -- byte pointer to identification of last modifier

         s.  A$CUSR -- byte pointer identification of creator [.RBAUT]

         t.  A$BKID -- byte  pointer  to  identification  of  previous
             BACKUP [.RBMTA]

         u.  A$BKDT -- date and time of last backup

         v.  A$NGRT -- number of generations to retain

         w.  A$NRDS - number of opens for read this generation

         x.  A$NWRT -- number of opens for write this generation

         y.  A$USRW -- undefined user word [.RBNCA]

         z.  A$PCAW -- privileged customer word [.RBBCA]

         The remainder of this block is reserved for future expansion.

     3.  O$DIRT -- a  block  containing  directory   attributes   (not
         written  in  interchange  mode).   The  first section of this
         block is fixed length header area containing either directory
         attributes or pointers to attributes located in the remaining
         section.  The symbols in brackets represent the RIB data used
         for  conversion (the location is zero if none is given).  The
         directory protection word appears in this block  rather  than
         in the O$FILE block (A$PROT is zero for directories).

         a.  D$FHLN -- fixed header length in words

         b.  D$FLGS -- directory flags:

             1.  DF$FOD -- file only directory

             2.  DF$AAL -- alpha accounts are legal

             3.  DF$RLM -- repeat login messages

         c.  D$ACCT -- account number or ASCII byte pointer to account
             string

         d.  D$PROT -- directory protection [RB.PRV].   The  directory
             protection word is divided into the same access fields as
             the file protection  word,  A$PROT,  but  each  directory
             access  field  has  bits  as  follows  (RIB bits given in
             parentheses):

             Bit 28 -- reserved for special checking.  The rest of the
             field is special if this bits is set.

             Bits 29-31 -- (future)

             Bit 32 -- connect allowed

             Bit 33 -- can open files (4)
BACKUP                                                      Page 17-26______
BACKUP TAPE FORMAT


             Bit 34 -- can create generations (2)

             Bit 35 -- directory can be read (1)

         e.  D$FPRT -- default file protection

         f.  D$LOGT -- date/time of last  login  in  DEC-10  universal
             format [RB.CRD and RB.CRT]

         g.  D$GENR -- default number of generations to keep

         h.  D$QTF -- first-come-first-served logged-in quota in words
             [.RBQTF]

         i.  D$QTO -- logged out quota in words [.RBQTO]

         j.  D$ACSL -- list of groups which can access this  directory
             (see below)

         k.  D$USRL -- list of groups  which  this  user  is  in  (see
             below)

         l.  D$PRVL -- privilege list (see below)

         m.  D$PSWD -- ASCII byte pointer to password

         The list attribute words given above (D$ACSL, D$USRL, D$PRVL)
         may be in any one of the following formats:

         a.  an ASCII string pointer

         b.  5B2 + group (or 5B2 + privilege for D$PRVL)

         c.  -N,, Relative location of start of list

         If in format (c), each word of the list is 5B2 + group (5B2 +
         privilege for D$PRVL)

     4.  O$SYSN -- a block containing the system header line in ASCIZ.

     5.  O$SSNM -- a block containing the user supplied save set  name
         in ASCIZ (max of 30 characters).  This block is omitted if no
         save set name was specified.




17.12.4  Locations in T$LBL Record         _________ __ _____ ______

This record has no contents  in  the  "data"  region.   The  remaining
locations in the record header are defined as follows:

     1.  L$DATE -- date/time of labelling in DEC-10  universal  format
         (i.e., LH=DAYS since 17-NOV-1858, RH=FRACTION of day)

     2.  L$FMT -- BACKUP tape format (constant = 1).

     3.  L$BVER -- version of BACKUP writing label in standard  .JBVER
         format.

     4.  L$MON -- monitor type (%CNMNT).
BACKUP                                                      Page 17-27______
BACKUP TAPE FORMAT


     5.  L$SVER -- system version (%CNDVN).

     6.  L$APR -- APR processor serial number on which this label  was
         written (integer).

     7.  L$DEV -- physical device on which the  tape  was  written  in
         SIXBIT.

     8.  L$MTCH -- BTYE (31) 0 (1) 7-track (1) 0 (3) density.  Density
         is 1=200, 2=556, 3=800, 4=1600, 5=6250.

     9.  L$RLNM -- REELID in SIXBIT.

    10.  L$DSTR -- date/time  before  which   the   tape   cannot   be
         scratched.   Before this time, the only valid operation is to
         append.




17.12.5  Locations in T$BEG, T$END, T$CON Records         _________ __ ______ ______ _____ _______

These save set records all have the same format and are  distinguished
by  their  record types and their location on the tape.  All items are
filled in at the time of writing.  The data area contains two non-data
blocks,  types  O$SYSN  and O$SSNM.  Record header locations following
the first standard twelve words are defined as follows:

     1.  S$DATE -- date/time  of  writing  this  record  in  universal
         format.

     2.  S$FMT -- BACKUP tape format (constant = 1).

     3.  S$BVER -- BACKUP version in .JBVER format.

     4.  S$MON -- monitor type (%CNMNT).

     5.  S$SVER -- system version (%CNDVN).

     6.  S$APR -- apr serial number on which written.

     7.  S$DEV -- physical name of device on which written in SIXBIT.

     8.  S$MTCH -- BYTE (31) 0 (1) 7-track (1) 0 (3) density.  Density
         is 1=200, 2=556, 3=800, 4=1600, 5=6250.




17.12.6  Locations in T$UFD Record         _________ __ _____ ______

This record is not written in interchange  mode.   When  written,  the
data  portion  contains  two  or three non-data blocks:  types O$NAME,
O$FILE (optional) and  O$DIRT.   Remaining  locations  in  the  header
record contain:

     1.  D$PCHK -- checksum of the O$NAME full path file name block.

     2.  D$LVL -- directory level:  0=UFD, 1=first SFD, etc.

     3.  D$STR -- file structure name stored in the following  format:
         BYTE  (7) data type, length in words, ASCII.  (Date types are
         defined in the T$FIL section.)
BACKUP                                                      Page 17-28______
BACKUP TAPE FORMAT


17.12.7  Locations in T$FIL Record         _________ __ _____ ______

The first tape record for a file contains two non-data  blocks,  types
O$NAME  and  O$FILE.  There is room for two blocks of file data in the
first tape record, and if the file will completely  fit  in  one  tape
record,  these  will  be used.  If the file is longer than two blocks,
the file will be started in the second tape record, so its pages  will
be  lined  up  with  tape  records.   Each  tape record identifies the
logical disk word with which it starts.  Remaining  locations  in  the
record header are:

     1.  F$PCHK -- checksum of the full path file name block (O$NAME).
         This  is  just a consistency check for consecutive records of
         the file.

     2.  F$RDW -- relative data word of file of the first data word in
         this tape record.

     3.  F$PTH -- a  twelve  word  block  used  to  store  information
         suitable  for  a  restoration  of the file.  This area is big
         enough to hold the entire path to a TOPS-10 file in a UFD and
         two  SFDS.   The  path  information  will  be  stored  in the
         standard  order  of  device,  UFD,  first  SFD,  file   name,
         extension;    with   missing   fields   omitted.    The  path
         information will be stored in the format:

         BYTE (7) data type, length in words, ASCII

         where data types are defined as:

         device = 001

         file name = 002

         extension = 003

         directory = 040

         (lower directories = 041,042, ...)













                              CHAPTER 18

                                BOOTM                                _____



18.1  INTRODUCTION      ____________

BOOTM is a bootstrap program used  for  loading  the  monitor  from  a
magnetic  tape  saved  in BACKUP format.  BOOTM runs in EXEC mode, and
automatically loads itself into the top 2K of memory.  You load  BOOTM
either from magnetic tape via the READIN facility or from paper tape.



18.2  OPERATION      _________

DIGITAL supplies BOOTM on either a paper tape or a bootstrap  magnetic
tape.



18.2.1  Load From Paper-tape (KA/KI Only)        ____ ____ __________ ______ _____

You should follow the steps outlined below to load  BOOTM  from  paper
tape.

     1.  Load the BOOTM paper tape into the paper-tape reader.

     2.  Set the READIN device switches to 104.

     3.  Press STOP, RESET, and READIN.

     4.  When the paper tape has been read, BOOTM types:

              BOOTM  V4(16)
              BTM>

         The  prompt  characters,  indicating  that  you  can  type  a
         command, are BTM>.

     5.  Type a command string and press the RETURN key.

     6.  After BOOTM processes the command  you  typed,  BOOTM  either
         restarts  itself  or  transfers  to the newly loaded program.
         The action BOOTM takes depends on the command you type.

BOOTM                                                        Page 18-2_____
OPERATION


18.2.2  Load From Magnetic Tape        ____ ____ ________ ____

You should follow the steps outlined below to load BOOTM from magnetic
tape.

     1.  Place the BOOTM tape on magnetic tape drive 0  (e.g.,  MTA0).
         If you're using a DX10 controller, you can use any drive.

     2.  Set  the  READIN  switches  to  340.   When  using   a   DX10
         controller, set the switches to 220.

     3.  Press STOP, RESET, and READIN.

     4.  When the magnetic tape has been read, BOOTM types:

              BOOTM  V4(16)
              BTM>

         The  prompt  characters,  indicating  that  you  can  type  a
         command, are BTM>.

     5.  Type a command string and press the RETURN key.

     6.  After BOOTM processes the command  you  typed,  BOOTM  either
         restarts  itself  or  transfers  to the newly loaded program.
         The action BOOTM takes depends on the command you type.




18.3  COMMAND FORMAT      _______ ______

The general format of a BOOTM command is shown below.

     structure:file.ext[proj,prog]/switch

where:  structure represents a file structure  name  within  the  disk
        file system (as saved by BACKUP).  The default is DSKB.

        file.ext is the name and extension of the file involved in the
        loading operation.  The default is SYSTEM.EXE.

        [proj,programmer] is the directory in which the specified file
        can be found.  The default is [1,4].

        /switch is  an  optional  BOOTM  switch  that  specifies  what
        operation  or  option  BOOTM  should  perform.   The available
        options and operations are listed in Section 6.3.1.



18.3.1  Options and Operations        _______ ___ __________

If you do not specify a switch in the  command,  1)  BOOTM  finds  the
specified  file,  2)  clears  memory, 3) reads the specified file into
memory, 4) sets the PROGRAM START ADDRESS, and 5) starts  the  program
at  that  address.   The  default  file  used is DSKB:SYSTEM.EXE[1,4].
BOOTM positions the tape to the second file  on  the  tape  before  it
starts the program.

The possible switches that you can specify in the BOOTM  command  line
are listed below.
BOOTM                                                        Page 18-3_____
COMMAND FORMAT


     /LOAD          BOOTM performs all the  operations  listed  above,
                    except  that  it does not start the program (i.e.,
                    does not perform step 5).

     /START:n       BOOTM performs all the  operations  listed  above,
                    except  it  starts the program at location n.  The
                    default value for n is the start address specified
                    in the file.

     /NOREWIND      BOOTM is disabled from repositioning the  tape  to
                    the  second file, which is assumed to be a copy of
                    BACKUP.EXE.

     /DENSITY:d     Set the tape read  density  to  the  value  of  d.
                    Legal values are 200, 556, 800, and 1600.

     /kontroller:u  Inform BOOTM what type of tape controller you  are
                    reading  from  and  the unit "u" that has the tape
                    mounted.  Legal values for "kontroller" are  TM10,
                    TX01,  TM02,  and  TC10.   If READIN was done from
                    either a TM10 or a TX01, then it is not  necessary
                    to specify this switch.  The default tape drive is
                    the unit that a READIN was performed on if a  TM10
                    or  a  TX01 was used.  If BOOTM was read in from a
                    device other than magtape,  then  the  default  is
                    TM10  unit  0.   If  a TC10 controller is used, it
                    must be specified by a /TC10 switch.  The  default
                    value   for  u  is  unit  #0.   Example:   /TX01:2
                    specifies unit 2 on the TX01 controller.

     /REWIND        This operation will rewind the tape to load point.
                    /DENSITY  and  /kontroller  above  may  be used in
                    conjunction  with  this   switch;    however,   no
                    filename can be given.

     /SKIP          This operation will skip forward  over  one  file.
                    Options  5  and 6 above may be used in conjunction
                    with this command;  however, no  filename  can  be
                    given.



18.4  ERRORS      ______

Whenever BOOTM encounters an  error,  the  following  style  of  error
message appears:

     1.  The user terminal end-of-line bell is rung;

     2.  The string ?BTM followed by a 3-character  mnemonic  followed
         by the error message text terminated by a carriage return and
         line feed;

     3.  BOOTM is then restarted.

BOOTM                                                        Page 18-4_____
ERRORS


18.4.1  Error Messages        _____ ________


     ?BTMIPP - Invalid PROJ,PROG number
     ?BTMCME - Command error
     ?BTMISW - Illegal switch or argument
     ?BTMFNF - File not found
     ?BTMTSF - Tape mark in save file
     ?BTMSFI - Save file inconsistent
     ?BTMNSA - No start address
     ?BTMNDL - Not an EXE file or directory too long
     ?BTMPNM - Page not monotonically increasing
     ?BTMTRE - Tape read error
     ?BTMCSD - Cannot start DX10
     ?BTMCSE - Channel synchronization error
     ?BTMNMS - No magtape status
     ?BTMFDE - Fatal DX10 error or drive off-line
     ?BTMNES - Not ending status (TU70 only)
     ?BTMNCS - Not CU status (TU70 only)



18.5  ASSEMBLY INSTRUCTIONS      ________ ____________

The following feature test switches are available in BOOTM:


     FTEXE   Include EXE file support (default)
     FTFRS   Include FRS/BACKUP file format (default)
     FTTU70  Include TU70 support (default)
     FTTC10  Include TC10 support (default)
     MAGRIM  Assemble in MAGRIM format (default)
     PTPSW   Make paper tape version (normally off)
     CORE    Value set to 5000 (default) used to  determine  where  to
             readin BOOTM before relocation.
     DEBUG   Make debug version


Assembly instructions:

     1.  To make a paper tape version (location independent):

               .MAKE BTMPTP.MAC
               *IPTPSW==1
               MAGRIM==0
               $EX$$
               .R MACRO
               *PTP:=BTMPTP,BOOTM

     2.  To make a file that can be copied to a  magtape  for  READIN,
         just assemble with no special switches.

     3.  To make a file that can be loaded with DXLD to  make  a  TU70
         readin tape:

               .MAKE BTMDX.MAC
               *IMAGRIM==0
               $EX$$
               .LOAD DXLD,BTMDX+BOOTM
               .ASSIGN DSK OUT
               .START   ;This produces BOOTM.RDI

BOOTM                                                        Page 18-5_____
EXAMPLES


18.6  EXAMPLES      ________

To retrieve and run a fresh  monitor  from  a  BACKUP  format  magtape
containing DSKB:SYSTEM.EXE(1,4), type a carriage return only.

To rewind a tape on TM10 drive #3 type:

     /REWIND/TM10:3

To load RV765 from DSKB:[10,2362] on a BACKUP format  tape  and  start
EXEC DDT type:

     RV765[10,2362]/START:401



18.7  SPECIAL 1080 INSTRUCTIONS      _______ ____ ____________

There is no  readin  on  KL10  CPUs.   See  the  Operators  Guide  for
instructions  for readin in BOOTM on 1080s.  Be sure to specify /TX01,
when reading in a tape on a TU70.
